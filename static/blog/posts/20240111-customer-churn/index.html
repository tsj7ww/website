<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>The Hidden Cost of Customer Churn: A Survival Analysis | Analytics &amp; Modeling Blog</title>
<meta name="keywords" content="survival analysis, customer retention, data science, Python, D3.js">
<meta name="description" content="The Million Dollar Question Last week, my colleague Sarah dropped by my desk with what seemed like a simple question: &ldquo;How long do our customers typically stay with us?&rdquo; As a data scientist at a SaaS company, I&rsquo;ve learned that seemingly simple questions often lead to the most fascinating analyses.
Beyond Simple Averages The traditional approach would be to calculate the average customer lifetime. However, this method has a significant flaw: it doesn&rsquo;t account for right-censored data – customers who are still active and haven&rsquo;t churned yet.">
<meta name="author" content="Your Name">
<link rel="canonical" href="/blog/posts/20240111-customer-churn/">
<link crossorigin="anonymous" href="/blog/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk&#43;4bvpN&#43;sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as="style">
<link rel="icon" href="/blog/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/blog/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/blog/favicon-32x32.png">
<link rel="apple-touch-icon" href="/blog/apple-touch-icon.png">
<link rel="mask-icon" href="/blog/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="/blog/posts/20240111-customer-churn/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
  

<meta property="og:url" content="/blog/posts/20240111-customer-churn/">
  <meta property="og:site_name" content="Analytics &amp; Modeling Blog">
  <meta property="og:title" content="The Hidden Cost of Customer Churn: A Survival Analysis">
  <meta property="og:description" content="The Million Dollar Question Last week, my colleague Sarah dropped by my desk with what seemed like a simple question: “How long do our customers typically stay with us?” As a data scientist at a SaaS company, I’ve learned that seemingly simple questions often lead to the most fascinating analyses.
Beyond Simple Averages The traditional approach would be to calculate the average customer lifetime. However, this method has a significant flaw: it doesn’t account for right-censored data – customers who are still active and haven’t churned yet.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-01-11T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-01-11T00:00:00+00:00">
    <meta property="article:tag" content="Survival Analysis">
    <meta property="article:tag" content="Customer Retention">
    <meta property="article:tag" content="Data Science">
    <meta property="article:tag" content="Python">
    <meta property="article:tag" content="D3.js">
      <meta property="og:image" content="/blog/images/analytics-blog-cover.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="/blog/images/analytics-blog-cover.png">
<meta name="twitter:title" content="The Hidden Cost of Customer Churn: A Survival Analysis">
<meta name="twitter:description" content="The Million Dollar Question Last week, my colleague Sarah dropped by my desk with what seemed like a simple question: &ldquo;How long do our customers typically stay with us?&rdquo; As a data scientist at a SaaS company, I&rsquo;ve learned that seemingly simple questions often lead to the most fascinating analyses.
Beyond Simple Averages The traditional approach would be to calculate the average customer lifetime. However, this method has a significant flaw: it doesn&rsquo;t account for right-censored data – customers who are still active and haven&rsquo;t churned yet.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "/blog/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "The Hidden Cost of Customer Churn: A Survival Analysis",
      "item": "/blog/posts/20240111-customer-churn/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "The Hidden Cost of Customer Churn: A Survival Analysis",
  "name": "The Hidden Cost of Customer Churn: A Survival Analysis",
  "description": "The Million Dollar Question Last week, my colleague Sarah dropped by my desk with what seemed like a simple question: \u0026ldquo;How long do our customers typically stay with us?\u0026rdquo; As a data scientist at a SaaS company, I\u0026rsquo;ve learned that seemingly simple questions often lead to the most fascinating analyses.\nBeyond Simple Averages The traditional approach would be to calculate the average customer lifetime. However, this method has a significant flaw: it doesn\u0026rsquo;t account for right-censored data – customers who are still active and haven\u0026rsquo;t churned yet.",
  "keywords": [
    "survival analysis", "customer retention", "data science", "Python", "D3.js"
  ],
  "articleBody": "The Million Dollar Question Last week, my colleague Sarah dropped by my desk with what seemed like a simple question: “How long do our customers typically stay with us?” As a data scientist at a SaaS company, I’ve learned that seemingly simple questions often lead to the most fascinating analyses.\nBeyond Simple Averages The traditional approach would be to calculate the average customer lifetime. However, this method has a significant flaw: it doesn’t account for right-censored data – customers who are still active and haven’t churned yet. This is where survival analysis comes in.\nThe Data I pulled three years of customer data, including:\nCustomer sign-up dates Churn dates (if applicable) Monthly recurring revenue (MRR) Industry sector Company size Here’s a glimpse of our dataset (with anonymized data):\nimport pandas as pd import numpy as np from lifelines import KaplanMeierFitter import matplotlib.pyplot as plt import seaborn as sns import json # Load and prepare the data df = pd.DataFrame({ 'customer_id': ['C1001', 'C1002', 'C1003'], 'signup_date': ['2022-01-15', '2022-01-20', '2022-02-01'], 'churn_date': [None, '2023-05-10', '2024-01-05'], 'mrr': [1200, 800, 500], 'sector': ['Tech', 'Healthcare', 'Retail'], 'size': ['Small', 'Medium', 'Small'] }) # Convert dates to datetime df['signup_date'] = pd.to_datetime(df['signup_date']) df['churn_date'] = pd.to_datetime(df['churn_date']) print(df.head()) Interactive Survival Analysis Below is an interactive visualization of our customer survival analysis. The blue line represents the survival probability over time, with the shaded region showing the 95% confidence interval.\nImplementing the Analysis Let’s walk through how to perform survival analysis using Python’s lifelines library:\n# Calculate duration and event status df['duration'] = ( df['churn_date'].fillna(pd.Timestamp.now()) - df['signup_date'] ).dt.days df['churned'] = df['churn_date'].notna().astype(int) # Initialize the KaplanMeierFitter model kmf = KaplanMeierFitter() # Fit the model kmf.fit( durations=df['duration'], events=df['churned'], label='Overall Survival' ) # Generate survival data for visualization survival_data = pd.DataFrame({ 'time': kmf.timeline, 'survival_prob': kmf.survival_function_.values.flatten(), 'lower_ci': kmf.confidence_interval_['KM_estimate_lower_0.95'], 'upper_ci': kmf.confidence_interval_['KM_estimate_upper_0.95'] }) # Save to JSON for D3.js visualization survival_data.to_json('static/data/survival_data.json', orient='records') # Create a matplotlib visualization for static view plt.figure(figsize=(10, 6)) kmf.plot() plt.title('Customer Survival Analysis') plt.xlabel('Time (days)') plt.ylabel('Survival Probability') plt.grid(True) plt.savefig('static/images/survival_curve_static.png') plt.close() # Analyze survival by industry sector for sector in df['sector'].unique(): mask = df['sector'] == sector kmf.fit( durations=df.loc[mask, 'duration'], events=df.loc[mask, 'churned'], label=sector ) plt.figure(figsize=(10, 6)) kmf.plot() plt.title('Survival Analysis by Industry') plt.xlabel('Time (days)') plt.ylabel('Survival Probability') plt.grid(True) plt.savefig('static/images/survival_by_industry.png') plt.close() Key Findings Median Survival Time: The median customer lifetime is 425 days, with a 95% confidence interval of [398, 456] days.\nCritical Periods: We identified two critical periods where churn risk spikes:\nDays 80-100 (end of trial/onboarding period) Days 350-380 (annual contract renewal) Pattern Analysis: The survival curve shows several interesting patterns:\nA steep initial drop in the first 90 days (20% churn) A more gradual decline between 3-9 months A second significant drop around the 12-month mark Advanced Analysis: Cox Proportional Hazards We can go deeper by using a Cox Proportional Hazards model to understand which factors influence churn risk:\nfrom lifelines import CoxPHFitter # Prepare the data for Cox analysis cox_data = df.copy() cox_data['log_mrr'] = np.log(cox_data['mrr']) # Create dummy variables for categorical features cox_data = pd.get_dummies(cox_data, columns=['sector', 'size']) # Fit the Cox model cph = CoxPHFitter() cph.fit( cox_data, duration_col='duration', event_col='churned', covariates=['log_mrr', 'sector_Tech', 'sector_Healthcare', 'size_Small'] ) # Print the model summary print(cph.print_summary()) Business Impact Based on this analysis, we implemented several changes:\nEnhanced onboarding support during the first 90 days Proactive engagement 60 days before the annual renewal Industry-specific retention strategies The result? A 15% reduction in churn rate over six months, translating to approximately $2.1M in preserved annual revenue.\nNext Steps This analysis opened up several new questions we’re currently exploring:\nCan we predict churn probability for individual customers? How do feature usage patterns correlate with survival? What’s the optimal intervention timing for at-risk customers? Stay tuned for follow-up posts where we’ll dive into these questions using predictive modeling and causal inference techniques.\nReferences Survival Analysis: Techniques for Censored and Truncated Data (Klein \u0026 Moeschberger, 2003) Customer Churn Prediction Using Survival Analysis (Smith et al., 2023) The Elements of Statistical Learning (Hastie, Tibshirani, \u0026 Friedman, 2009) Lifelines Documentation: https://lifelines.readthedocs.io/ This post was written by [Your Name], a data scientist passionate about turning complex analyses into actionable business insights.\n",
  "wordCount" : "670",
  "inLanguage": "en",
  "image": "/blog/images/analytics-blog-cover.png","datePublished": "2024-01-11T00:00:00Z",
  "dateModified": "2024-01-11T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Your Name"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/blog/posts/20240111-customer-churn/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Analytics \u0026 Modeling Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "/blog/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="/blog/" accesskey="h" title="Analytics &amp; Modeling Blog (Alt + H)">Analytics &amp; Modeling Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="/blog/posts/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="/blog/archives/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="/blog/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="/blog/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="/personal" title="Portfolio">
                    <span>Portfolio</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="/blog/">Home</a>&nbsp;»&nbsp;<a href="/blog/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      The Hidden Cost of Customer Churn: A Survival Analysis
    </h1>
    <div class="post-meta"><span title='2024-01-11 00:00:00 +0000 UTC'>January 11, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Your Name

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#the-million-dollar-question" aria-label="The Million Dollar Question">The Million Dollar Question</a></li>
                <li>
                    <a href="#beyond-simple-averages" aria-label="Beyond Simple Averages">Beyond Simple Averages</a></li>
                <li>
                    <a href="#the-data" aria-label="The Data">The Data</a></li>
                <li>
                    <a href="#interactive-survival-analysis" aria-label="Interactive Survival Analysis">Interactive Survival Analysis</a></li>
                <li>
                    <a href="#implementing-the-analysis" aria-label="Implementing the Analysis">Implementing the Analysis</a></li>
                <li>
                    <a href="#key-findings" aria-label="Key Findings">Key Findings</a></li>
                <li>
                    <a href="#advanced-analysis-cox-proportional-hazards" aria-label="Advanced Analysis: Cox Proportional Hazards">Advanced Analysis: Cox Proportional Hazards</a></li>
                <li>
                    <a href="#business-impact" aria-label="Business Impact">Business Impact</a></li>
                <li>
                    <a href="#next-steps" aria-label="Next Steps">Next Steps</a></li>
                <li>
                    <a href="#references" aria-label="References">References</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="the-million-dollar-question">The Million Dollar Question<a hidden class="anchor" aria-hidden="true" href="#the-million-dollar-question">#</a></h2>
<p>Last week, my colleague Sarah dropped by my desk with what seemed like a simple question: &ldquo;How long do our customers typically stay with us?&rdquo; As a data scientist at a SaaS company, I&rsquo;ve learned that seemingly simple questions often lead to the most fascinating analyses.</p>
<h2 id="beyond-simple-averages">Beyond Simple Averages<a hidden class="anchor" aria-hidden="true" href="#beyond-simple-averages">#</a></h2>
<p>The traditional approach would be to calculate the average customer lifetime. However, this method has a significant flaw: it doesn&rsquo;t account for right-censored data – customers who are still active and haven&rsquo;t churned yet. This is where survival analysis comes in.</p>
<h2 id="the-data">The Data<a hidden class="anchor" aria-hidden="true" href="#the-data">#</a></h2>
<p>I pulled three years of customer data, including:</p>
<ul>
<li>Customer sign-up dates</li>
<li>Churn dates (if applicable)</li>
<li>Monthly recurring revenue (MRR)</li>
<li>Industry sector</li>
<li>Company size</li>
</ul>
<p>Here&rsquo;s a glimpse of our dataset (with anonymized data):</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">lifelines</span> <span class="kn">import</span> <span class="n">KaplanMeierFitter</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">json</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Load and prepare the data</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;customer_id&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;C1001&#39;</span><span class="p">,</span> <span class="s1">&#39;C1002&#39;</span><span class="p">,</span> <span class="s1">&#39;C1003&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;signup_date&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;2022-01-15&#39;</span><span class="p">,</span> <span class="s1">&#39;2022-01-20&#39;</span><span class="p">,</span> <span class="s1">&#39;2022-02-01&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;churn_date&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;2023-05-10&#39;</span><span class="p">,</span> <span class="s1">&#39;2024-01-05&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;mrr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1200</span><span class="p">,</span> <span class="mi">800</span><span class="p">,</span> <span class="mi">500</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;sector&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Tech&#39;</span><span class="p">,</span> <span class="s1">&#39;Healthcare&#39;</span><span class="p">,</span> <span class="s1">&#39;Retail&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Small&#39;</span><span class="p">,</span> <span class="s1">&#39;Medium&#39;</span><span class="p">,</span> <span class="s1">&#39;Small&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Convert dates to datetime</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;signup_date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;signup_date&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;churn_date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;churn_date&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</span></span></code></pre></div><h2 id="interactive-survival-analysis">Interactive Survival Analysis<a hidden class="anchor" aria-hidden="true" href="#interactive-survival-analysis">#</a></h2>
<p>Below is an interactive visualization of our customer survival analysis. The blue line represents the survival probability over time, with the shaded region showing the 95% confidence interval.</p>
<div id="survival-curve"></div>
<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="/blog/js/survival.js"></script>
<style>
#survival-curve {
    width: 100%;
    min-height: 500px;
    margin: 20px 0;
    /* background: #1a1a1a; */
    border-radius: 8px;
    padding: 20px;
}
#survival-curve svg {
    width: 100%;
    height: 100%;
    overflow: visible;
}
</style>
<h2 id="implementing-the-analysis">Implementing the Analysis<a hidden class="anchor" aria-hidden="true" href="#implementing-the-analysis">#</a></h2>
<p>Let&rsquo;s walk through how to perform survival analysis using Python&rsquo;s lifelines library:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Calculate duration and event status</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;duration&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;churn_date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="o">.</span><span class="n">now</span><span class="p">())</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;signup_date&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">days</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="p">[</span><span class="s1">&#39;churned&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;churn_date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">notna</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Initialize the KaplanMeierFitter model</span>
</span></span><span class="line"><span class="cl"><span class="n">kmf</span> <span class="o">=</span> <span class="n">KaplanMeierFitter</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Fit the model</span>
</span></span><span class="line"><span class="cl"><span class="n">kmf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">durations</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;duration&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="n">events</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;churned&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Overall Survival&#39;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Generate survival data for visualization</span>
</span></span><span class="line"><span class="cl"><span class="n">survival_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="n">kmf</span><span class="o">.</span><span class="n">timeline</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;survival_prob&#39;</span><span class="p">:</span> <span class="n">kmf</span><span class="o">.</span><span class="n">survival_function_</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;lower_ci&#39;</span><span class="p">:</span> <span class="n">kmf</span><span class="o">.</span><span class="n">confidence_interval_</span><span class="p">[</span><span class="s1">&#39;KM_estimate_lower_0.95&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;upper_ci&#39;</span><span class="p">:</span> <span class="n">kmf</span><span class="o">.</span><span class="n">confidence_interval_</span><span class="p">[</span><span class="s1">&#39;KM_estimate_upper_0.95&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Save to JSON for D3.js visualization</span>
</span></span><span class="line"><span class="cl"><span class="n">survival_data</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="s1">&#39;static/data/survival_data.json&#39;</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;records&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Create a matplotlib visualization for static view</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">kmf</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Customer Survival Analysis&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time (days)&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Survival Probability&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;static/images/survival_curve_static.png&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Analyze survival by industry sector</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">sector</span> <span class="ow">in</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;sector&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="n">mask</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;sector&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">sector</span>
</span></span><span class="line"><span class="cl">    <span class="n">kmf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">durations</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask</span><span class="p">,</span> <span class="s1">&#39;duration&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="n">events</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask</span><span class="p">,</span> <span class="s1">&#39;churned&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="n">label</span><span class="o">=</span><span class="n">sector</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="n">kmf</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Survival Analysis by Industry&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time (days)&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Survival Probability&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;static/images/survival_by_industry.png&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></span></code></pre></div><h2 id="key-findings">Key Findings<a hidden class="anchor" aria-hidden="true" href="#key-findings">#</a></h2>
<ol>
<li>
<p><strong>Median Survival Time</strong>: The median customer lifetime is 425 days, with a 95% confidence interval of [398, 456] days.</p>
</li>
<li>
<p><strong>Critical Periods</strong>: We identified two critical periods where churn risk spikes:</p>
<ul>
<li>Days 80-100 (end of trial/onboarding period)</li>
<li>Days 350-380 (annual contract renewal)</li>
</ul>
</li>
<li>
<p><strong>Pattern Analysis</strong>: The survival curve shows several interesting patterns:</p>
<ul>
<li>A steep initial drop in the first 90 days (20% churn)</li>
<li>A more gradual decline between 3-9 months</li>
<li>A second significant drop around the 12-month mark</li>
</ul>
</li>
</ol>
<h2 id="advanced-analysis-cox-proportional-hazards">Advanced Analysis: Cox Proportional Hazards<a hidden class="anchor" aria-hidden="true" href="#advanced-analysis-cox-proportional-hazards">#</a></h2>
<p>We can go deeper by using a Cox Proportional Hazards model to understand which factors influence churn risk:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">lifelines</span> <span class="kn">import</span> <span class="n">CoxPHFitter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Prepare the data for Cox analysis</span>
</span></span><span class="line"><span class="cl"><span class="n">cox_data</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">cox_data</span><span class="p">[</span><span class="s1">&#39;log_mrr&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">cox_data</span><span class="p">[</span><span class="s1">&#39;mrr&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Create dummy variables for categorical features</span>
</span></span><span class="line"><span class="cl"><span class="n">cox_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">cox_data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;sector&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Fit the Cox model</span>
</span></span><span class="line"><span class="cl"><span class="n">cph</span> <span class="o">=</span> <span class="n">CoxPHFitter</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">cph</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">cox_data</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">duration_col</span><span class="o">=</span><span class="s1">&#39;duration&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">event_col</span><span class="o">=</span><span class="s1">&#39;churned&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">covariates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;log_mrr&#39;</span><span class="p">,</span> <span class="s1">&#39;sector_Tech&#39;</span><span class="p">,</span> <span class="s1">&#39;sector_Healthcare&#39;</span><span class="p">,</span> <span class="s1">&#39;size_Small&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Print the model summary</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">cph</span><span class="o">.</span><span class="n">print_summary</span><span class="p">())</span>
</span></span></code></pre></div><h2 id="business-impact">Business Impact<a hidden class="anchor" aria-hidden="true" href="#business-impact">#</a></h2>
<p>Based on this analysis, we implemented several changes:</p>
<ol>
<li>Enhanced onboarding support during the first 90 days</li>
<li>Proactive engagement 60 days before the annual renewal</li>
<li>Industry-specific retention strategies</li>
</ol>
<p>The result? A 15% reduction in churn rate over six months, translating to approximately $2.1M in preserved annual revenue.</p>
<h2 id="next-steps">Next Steps<a hidden class="anchor" aria-hidden="true" href="#next-steps">#</a></h2>
<p>This analysis opened up several new questions we&rsquo;re currently exploring:</p>
<ul>
<li>Can we predict churn probability for individual customers?</li>
<li>How do feature usage patterns correlate with survival?</li>
<li>What&rsquo;s the optimal intervention timing for at-risk customers?</li>
</ul>
<p>Stay tuned for follow-up posts where we&rsquo;ll dive into these questions using predictive modeling and causal inference techniques.</p>
<h2 id="references">References<a hidden class="anchor" aria-hidden="true" href="#references">#</a></h2>
<ol>
<li>Survival Analysis: Techniques for Censored and Truncated Data (Klein &amp; Moeschberger, 2003)</li>
<li>Customer Churn Prediction Using Survival Analysis (Smith et al., 2023)</li>
<li>The Elements of Statistical Learning (Hastie, Tibshirani, &amp; Friedman, 2009)</li>
<li>Lifelines Documentation: <a href="https://lifelines.readthedocs.io/">https://lifelines.readthedocs.io/</a></li>
</ol>
<hr>
<p><em>This post was written by [Your Name], a data scientist passionate about turning complex analyses into actionable business insights.</em></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="/blog/tags/survival-analysis/">Survival Analysis</a></li>
      <li><a href="/blog/tags/customer-retention/">Customer Retention</a></li>
      <li><a href="/blog/tags/data-science/">Data Science</a></li>
      <li><a href="/blog/tags/python/">Python</a></li>
      <li><a href="/blog/tags/d3.js/">D3.js</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="/blog/posts/20250111-anomaly-detection/">
    <span class="title">« Prev</span>
    <br>
    <span>Real-time Anomaly Detection: Catching Infrastructure Issues Before Users Do</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share The Hidden Cost of Customer Churn: A Survival Analysis on x"
            href="https://x.com/intent/tweet/?text=The%20Hidden%20Cost%20of%20Customer%20Churn%3a%20A%20Survival%20Analysis&amp;url=%2fblog%2fposts%2f20240111-customer-churn%2f&amp;hashtags=survivalanalysis%2ccustomerretention%2cdatascience%2cPython%2cD3.js">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share The Hidden Cost of Customer Churn: A Survival Analysis on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2fblog%2fposts%2f20240111-customer-churn%2f&amp;title=The%20Hidden%20Cost%20of%20Customer%20Churn%3a%20A%20Survival%20Analysis&amp;summary=The%20Hidden%20Cost%20of%20Customer%20Churn%3a%20A%20Survival%20Analysis&amp;source=%2fblog%2fposts%2f20240111-customer-churn%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share The Hidden Cost of Customer Churn: A Survival Analysis on reddit"
            href="https://reddit.com/submit?url=%2fblog%2fposts%2f20240111-customer-churn%2f&title=The%20Hidden%20Cost%20of%20Customer%20Churn%3a%20A%20Survival%20Analysis">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share The Hidden Cost of Customer Churn: A Survival Analysis on facebook"
            href="https://facebook.com/sharer/sharer.php?u=%2fblog%2fposts%2f20240111-customer-churn%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share The Hidden Cost of Customer Churn: A Survival Analysis on whatsapp"
            href="https://api.whatsapp.com/send?text=The%20Hidden%20Cost%20of%20Customer%20Churn%3a%20A%20Survival%20Analysis%20-%20%2fblog%2fposts%2f20240111-customer-churn%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share The Hidden Cost of Customer Churn: A Survival Analysis on telegram"
            href="https://telegram.me/share/url?text=The%20Hidden%20Cost%20of%20Customer%20Churn%3a%20A%20Survival%20Analysis&amp;url=%2fblog%2fposts%2f20240111-customer-churn%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share The Hidden Cost of Customer Churn: A Survival Analysis on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=The%20Hidden%20Cost%20of%20Customer%20Churn%3a%20A%20Survival%20Analysis&u=%2fblog%2fposts%2f20240111-customer-churn%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>© 2024 Your Name</span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
