<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Software Development: Python Packages | Analytics &amp; Modeling Blog</title>
<meta name="keywords" content="Python, Data Science, Software Development">
<meta name="description" content="Architecture Complete Package Structure your_package/ ├── .github/ # GitHub-specific configurations │ ├── ISSUE_TEMPLATE/ # Issue templates │ │ ├── bug_report.md # Bug report template │ │ └── feature_request.md # Feature request template │ └── workflows/ # GitHub Actions workflows │ ├── tests.yml # Testing workflow │ ├── publish.yml # Publishing workflow │ └── docs.yml # Documentation workflow │ ├── docs/ # Documentation │ ├── _static/ # Static files for documentation │ ├── _templates/ # Documentation templates │ ├── api/ # API documentation │ ├── examples/ # Example galleries │ ├── tutorials/ # Tutorial documents │ ├── conf.">
<meta name="author" content="Trevor Jordan">
<link rel="canonical" href="/blog/posts/package-development/">
<link crossorigin="anonymous" href="/blog/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk&#43;4bvpN&#43;sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as="style">
<link rel="icon" href="/blog/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/blog/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/blog/favicon-32x32.png">
<link rel="apple-touch-icon" href="/blog/apple-touch-icon.png">
<link rel="mask-icon" href="/blog/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="/blog/posts/package-development/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
  

<meta property="og:url" content="/blog/posts/package-development/">
  <meta property="og:site_name" content="Analytics &amp; Modeling Blog">
  <meta property="og:title" content="Software Development: Python Packages">
  <meta property="og:description" content="Architecture Complete Package Structure your_package/ ├── .github/ # GitHub-specific configurations │ ├── ISSUE_TEMPLATE/ # Issue templates │ │ ├── bug_report.md # Bug report template │ │ └── feature_request.md # Feature request template │ └── workflows/ # GitHub Actions workflows │ ├── tests.yml # Testing workflow │ ├── publish.yml # Publishing workflow │ └── docs.yml # Documentation workflow │ ├── docs/ # Documentation │ ├── _static/ # Static files for documentation │ ├── _templates/ # Documentation templates │ ├── api/ # API documentation │ ├── examples/ # Example galleries │ ├── tutorials/ # Tutorial documents │ ├── conf.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-01-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-01-01T00:00:00+00:00">
    <meta property="article:tag" content="Python">
    <meta property="article:tag" content="Data Science">
    <meta property="article:tag" content="Software Development">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Software Development: Python Packages">
<meta name="twitter:description" content="Architecture Complete Package Structure your_package/ ├── .github/ # GitHub-specific configurations │ ├── ISSUE_TEMPLATE/ # Issue templates │ │ ├── bug_report.md # Bug report template │ │ └── feature_request.md # Feature request template │ └── workflows/ # GitHub Actions workflows │ ├── tests.yml # Testing workflow │ ├── publish.yml # Publishing workflow │ └── docs.yml # Documentation workflow │ ├── docs/ # Documentation │ ├── _static/ # Static files for documentation │ ├── _templates/ # Documentation templates │ ├── api/ # API documentation │ ├── examples/ # Example galleries │ ├── tutorials/ # Tutorial documents │ ├── conf.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "/blog/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Software Development: Python Packages",
      "item": "/blog/posts/package-development/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Software Development: Python Packages",
  "name": "Software Development: Python Packages",
  "description": "Architecture Complete Package Structure your_package/ ├── .github/ # GitHub-specific configurations │ ├── ISSUE_TEMPLATE/ # Issue templates │ │ ├── bug_report.md # Bug report template │ │ └── feature_request.md # Feature request template │ └── workflows/ # GitHub Actions workflows │ ├── tests.yml # Testing workflow │ ├── publish.yml # Publishing workflow │ └── docs.yml # Documentation workflow │ ├── docs/ # Documentation │ ├── _static/ # Static files for documentation │ ├── _templates/ # Documentation templates │ ├── api/ # API documentation │ ├── examples/ # Example galleries │ ├── tutorials/ # Tutorial documents │ ├── conf.",
  "keywords": [
    "Python", "Data Science", "Software Development"
  ],
  "articleBody": "Architecture Complete Package Structure your_package/ ├── .github/ # GitHub-specific configurations │ ├── ISSUE_TEMPLATE/ # Issue templates │ │ ├── bug_report.md # Bug report template │ │ └── feature_request.md # Feature request template │ └── workflows/ # GitHub Actions workflows │ ├── tests.yml # Testing workflow │ ├── publish.yml # Publishing workflow │ └── docs.yml # Documentation workflow │ ├── docs/ # Documentation │ ├── _static/ # Static files for documentation │ ├── _templates/ # Documentation templates │ ├── api/ # API documentation │ ├── examples/ # Example galleries │ ├── tutorials/ # Tutorial documents │ ├── conf.py # Sphinx configuration │ └── index.rst # Documentation root │ ├── examples/ # Example scripts and notebooks │ ├── basic/ # Basic usage examples │ └── advanced/ # Advanced usage examples │ ├── src/ # Source code directory │ └── your_package/ # Main package directory │ ├── __init__.py # Package initialization │ ├── _version.py # Version information │ ├── _typing.py # Type definitions │ ├── _config.py # Configuration management │ │ │ ├── core/ # Core functionality │ │ ├── __init__.py │ │ ├── base.py # Base classes │ │ ├── exceptions.py # Custom exceptions │ │ └── registry.py # Component registry │ │ │ ├── interfaces/ # Public interfaces │ │ ├── __init__.py │ │ └── protocols.py # Interface definitions │ │ │ ├── utils/ # Utility functions │ │ ├── __init__.py │ │ ├── decorators.py # Utility decorators │ │ ├── validation.py # Input validation │ │ └── helpers.py # Helper functions │ │ │ ├── io/ # Input/Output operations │ │ ├── __init__.py │ │ ├── readers.py # Data readers │ │ └── writers.py # Data writers │ │ │ ├── processing/ # Data processing │ │ ├── __init__.py │ │ ├── pipeline.py # Processing pipeline │ │ └── transforms.py # Data transformations │ │ │ └── cli/ # Command-line interface │ ├── __init__.py │ └── commands.py # CLI commands │ ├── tests/ # Test suite │ ├── conftest.py # Test configuration │ ├── unit/ # Unit tests │ │ ├── test_core.py │ │ └── test_utils.py │ ├── integration/ # Integration tests │ │ └── test_pipeline.py │ └── data/ # Test data │ ├── benchmarks/ # Performance benchmarks │ ├── benchmarks.py # Benchmark definitions │ └── data/ # Benchmark data │ ├── requirements/ # Dependency specifications │ ├── base.txt # Core requirements │ ├── dev.txt # Development requirements │ ├── docs.txt # Documentation requirements │ └── test.txt # Test requirements │ ├── scripts/ # Development scripts │ ├── lint.sh # Linting script │ └── build_docs.sh # Documentation build script │ ├── .gitignore # Git ignore patterns ├── .pre-commit-config.yaml # Pre-commit hooks ├── pyproject.toml # Project metadata and build ├── setup.py # Package setup script ├── setup.cfg # Package configuration ├── MANIFEST.in # Package manifest ├── README.md # Project readme ├── LICENSE # License file └── CHANGELOG.md # Version changelog Core Components and Their Purposes 1. Package Root (src/your_package/) The main package directory contains core implementation and public interfaces.\nKey Components:\n__init__.py: Package initialization and public API _version.py: Version management _typing.py: Type definitions and protocols _config.py: Configuration management 2. Core Module (core/) Contains fundamental implementations and base classes.\nPurpose:\nDefine base abstractions Implement core algorithms Manage component lifecycle Handle error conditions Example Core Component:\nfrom typing import Protocol, TypeVar, Generic T = TypeVar('T') class Component(Protocol): \"\"\"Base protocol for all components.\"\"\" def initialize(self) -\u003e None: \"\"\"Initialize the component.\"\"\" ... def cleanup(self) -\u003e None: \"\"\"Clean up component resources.\"\"\" ... class Registry(Generic[T]): \"\"\"Registry for managing components.\"\"\" def register(self, name: str, component: T) -\u003e None: \"\"\"Register a component.\"\"\" ... def get(self, name: str) -\u003e T: \"\"\"Retrieve a registered component.\"\"\" ... 3. Interfaces (interfaces/) Public API definitions and protocols.\nPurpose:\nDefine public contracts Specify type protocols Document API stability Manage backward compatibility Example Interface:\nfrom typing import Protocol, Sequence from datetime import datetime class DataSource(Protocol): \"\"\"Protocol for data sources.\"\"\" def connect(self) -\u003e None: \"\"\"Establish connection to data source.\"\"\" ... def read(self, since: datetime) -\u003e Sequence[dict]: \"\"\"Read data from source.\"\"\" ... def disconnect(self) -\u003e None: \"\"\"Close connection to data source.\"\"\" ... 4. Processing (processing/) Data transformation and processing logic.\nPurpose:\nImplement transformations Define processing pipelines Handle data validation Manage computation flow 5. Input/Output (io/) Data reading and writing operations.\nPurpose:\nFile operations Network communication Data serialization Format conversion 6. Utilities (utils/) Shared helper functions and tools.\nPurpose:\nCommon operations Helper functions Decorators Validation tools Module Interaction Principles 1. Dependency Flow Dependencies should flow inward:\nCore modules have minimal dependencies Outer layers depend on inner layers Avoid circular dependencies Use dependency injection 2. Interface Stability Maintain stable public interfaces:\nVersioned APIs Deprecation policies Compatibility layers Migration tools 3. Extension Points Support customization and extension:\nPlugin systems Hook points Custom implementations Configuration options Best Practices by Component 1. Core Module Minimize external dependencies Focus on abstractions Maintain backward compatibility Document thoroughly 2. Processing Module Clear data contracts Error handling Progress tracking Resource management 3. IO Module Resource cleanup Error recovery Performance optimization Format validation 4. Utilities Function purity Error handling Documentation Type hints Advanced Considerations 1. Thread Safety Thread-safe implementations Resource locking Concurrent access State isolation 2. Performance Lazy loading Caching strategies Resource pooling Memory management 3. Error Handling Error hierarchies Recovery strategies Logging Debugging support Testing Strategy 1. Unit Tests Component isolation Edge cases Error conditions Performance checks 2. Integration Tests Component interaction End-to-end workflows Resource management Error propagation 3. Performance Tests Benchmarks Memory usage CPU utilization Scalability tests Environment \u0026 Tools Development Environment Foundation 1. Python Version Management Pyenv The foundation of version management:\n# Installation structure ~/.pyenv/ ├── versions/ # Python versions ├── shims/ # Command shims └── plugins/ # Pyenv plugins Key Features:\nMultiple Python versions Project-specific versions Automatic version switching Virtual environment integration Best Practices:\nUse .python-version file per project Install latest stable releases Keep global packages minimal Include version in CI/CD 2. Virtual Environment Management Poetry Modern dependency management:\n[tool.poetry] name = \"your-package\" version = \"0.1.0\" description = \"\" authors = [\"Your Name \"] [tool.poetry.dependencies] python = \"^3.8\" numpy = \"^1.20\" [tool.poetry.group.dev.dependencies] pytest = \"^7.0\" black = \"^22.0\" Key Features:\nDependency resolution Lock file management Build system integration Publishing workflow Virtualenv/venv Traditional virtual environment:\n.venv/ ├── bin/ # Executables ├── include/ # Header files └── lib/ # Python packages 3. IDE Configuration VSCode Setup { \"python.defaultInterpreterPath\": \"${workspaceFolder}/.venv/bin/python\", \"python.linting.enabled\": true, \"python.linting.pylintEnabled\": true, \"python.formatting.provider\": \"black\", \"editor.formatOnSave\": true, \"python.testing.pytestEnabled\": true } PyCharm Configuration Professional IDE setup:\nProject interpreter Test runners Debugger Code analysis Development Tools 1. Code Quality Tools Linting # .flake8 [flake8] max-line-length = 88 extend-ignore = E203 per-file-ignores = __init__.py:F401 exclude = .git, __pycache__, build, dist Tools Stack:\nFlake8: Style guide enforcement Pylint: Code analysis mypy: Static type checking bandit: Security linting Formatting # pyproject.toml [tool.black] line-length = 88 target-version = ['py38'] include = '\\.pyi?$' [tool.isort] profile = \"black\" multi_line_output = 3 Tools:\nBlack: Code formatting isort: Import sorting docformatter: Docstring formatting 2. Testing Tools Pytest Configuration # pytest.ini [pytest] testpaths = tests python_files = test_*.py python_functions = test_* addopts = --verbose --cov=your_package --cov-report=term-missing --cov-report=xml Testing Stack:\npytest: Test runner pytest-cov: Coverage reporting pytest-xdist: Parallel testing pytest-benchmark: Performance testing 3. Documentation Tools Sphinx Setup # conf.py extensions = [ 'sphinx.ext.autodoc', 'sphinx.ext.napoleon', 'sphinx.ext.viewcode', 'sphinx_rtd_theme', ] html_theme = 'sphinx_rtd_theme' Documentation Stack:\nSphinx: Documentation generator MyST: Markdown support sphinx-autoapi: API documentation sphinx-gallery: Example gallery 4. Pre-commit Hooks # .pre-commit-config.yaml repos: - repo: https://github.com/psf/black rev: 22.3.0 hooks: - id: black language_version: python3.8 - repo: https://github.com/PyCQA/flake8 rev: 4.0.1 hooks: - id: flake8 additional_dependencies: [flake8-docstrings] - repo: https://github.com/pre-commit/mirrors-mypy rev: v0.950 hooks: - id: mypy additional_dependencies: [types-all] Development Workflow Integration 1. Continuous Integration GitHub Actions name: CI on: push: branches: [ main ] pull_request: branches: [ main ] jobs: test: runs-on: ubuntu-latest strategy: matrix: python-version: [3.8, 3.9, \"3.10\"] steps: - uses: actions/checkout@v2 - name: Set up Python uses: actions/setup-python@v2 with: python-version: ${{ matrix.python-version }} - name: Install dependencies run: | pip install poetry poetry install - name: Run tests run: poetry run pytest 2. Development Database Docker Development Database # docker-compose.yml version: '3.8' services: dev_db: image: postgres:13 environment: POSTGRES_DB: dev_db POSTGRES_USER: dev_user POSTGRES_PASSWORD: dev_password ports: - \"5432:5432\" volumes: - dev_db_data:/var/lib/postgresql/data volumes: dev_db_data: 3. Debugging Tools VS Code Launch Configuration { \"version\": \"0.2.0\", \"configurations\": [ { \"name\": \"Python: Current File\", \"type\": \"python\", \"request\": \"launch\", \"program\": \"${file}\", \"console\": \"integratedTerminal\", \"justMyCode\": false }, { \"name\": \"Python: Debug Tests\", \"type\": \"python\", \"request\": \"launch\", \"program\": \"${workspaceFolder}/.venv/bin/pytest\", \"args\": [ \"-v\", \"tests/\" ], \"console\": \"integratedTerminal\", \"justMyCode\": false } ] } Best Practices 1. Environment Management Use virtual environments consistently Document environment setup Version lock dependencies Regular dependency updates 2. Code Quality Automated code formatting Consistent style enforcement Type checking Security scanning 3. Testing Comprehensive test coverage Regular test execution Performance benchmarking Integration testing 4. Documentation API documentation Usage examples Development guides Change logs 5. Version Control Branching strategy Code review process Commit message standards Release tagging 6. Continuous Integration Automated testing Code quality checks Documentation builds Release automation Tool Selection Guide 1. Core Tools (Required) Version Control: Git Package Manager: Poetry/pip Virtual Environment: venv/virtualenv Test Runner: pytest 2. Code Quality (Recommended) Formatter: Black Linter: Flake8 Type Checker: mypy Import Sorter: isort 3. Documentation (Recommended) Generator: Sphinx API Docs: sphinx-autoapi Examples: sphinx-gallery Markdown: MyST 4. Development (Optional) Debugger: pdb/ipdb Profiler: cProfile Benchmark: pytest-benchmark Coverage: pytest-cov Testing Testing Framework Overview 1. Testing Directory Structure tests/ ├── conftest.py # Shared test configuration and fixtures ├── __init__.py # Test package initialization ├── unit/ # Unit tests │ ├── __init__.py │ ├── test_core.py # Core functionality tests │ ├── test_utils.py # Utility function tests │ └── test_interfaces.py # Interface tests ├── integration/ # Integration tests │ ├── __init__.py │ ├── test_workflow.py # Workflow tests │ └── test_end_to_end.py # End-to-end tests ├── performance/ # Performance tests │ ├── __init__.py │ ├── benchmarks.py # Benchmark definitions │ └── test_scaling.py # Scaling tests └── data/ # Test data ├── sample_input.json # Sample input files └── expected_output.json # Expected output files 2. Test Categories Unit Tests Tests for individual components in isolation.\nKey Principles:\nTest single units of functionality Mock external dependencies Fast execution High coverage Example Unit Test:\nimport pytest from your_package.core import DataProcessor def test_data_processor_initialization(): processor = DataProcessor(chunk_size=100) assert processor.chunk_size == 100 assert not processor.is_processing @pytest.mark.parametrize(\"input_data,expected\", [ ([1, 2, 3], [2, 4, 6]), ([-1, 0, 1], [-2, 0, 2]), ([], []), ]) def test_data_processing(input_data, expected): processor = DataProcessor() result = processor.process(input_data) assert result == expected def test_invalid_input_raises_error(): processor = DataProcessor() with pytest.raises(ValueError, match=\"Input must be a list\"): processor.process(None) Integration Tests Tests for component interactions.\nKey Principles:\nTest component interactions Minimal mocking Real dependencies Workflow validation Example Integration Test:\nimport pytest from your_package.core import DataProcessor from your_package.io import DataReader, DataWriter def test_complete_data_workflow(tmp_path): # Setup input_file = tmp_path / \"input.csv\" output_file = tmp_path / \"output.csv\" input_file.write_text(\"1,2,3\\n4,5,6\") # Process reader = DataReader(input_file) processor = DataProcessor() writer = DataWriter(output_file) data = reader.read() processed_data = processor.process(data) writer.write(processed_data) # Verify result = output_file.read_text() assert result == \"2,4,6\\n8,10,12\" Performance Tests Tests for performance characteristics.\nKey Principles:\nMeasure execution time Memory usage Scaling behavior Resource utilization Example Performance Test:\nimport pytest from your_package.core import DataProcessor @pytest.mark.benchmark(group=\"processing\") def test_processing_performance(benchmark): processor = DataProcessor() data = list(range(10000)) def process_data(): return processor.process(data) result = benchmark(process_data) assert len(result) == len(data) 3. Test Configuration Pytest Configuration # pytest.ini [pytest] testpaths = tests python_files = test_*.py python_functions = test_* addopts = --verbose --cov=your_package --cov-report=term-missing --cov-report=xml markers = slow: marks tests as slow integration: marks tests as integration tests Coverage Configuration # .coveragerc [run] source = your_package omit = tests/* setup.py [report] exclude_lines = pragma: no cover def __repr__ raise NotImplementedError if __name__ == .__main__.: Quality Assurance Tools 1. Code Style and Formatting Black Configuration # pyproject.toml [tool.black] line-length = 88 target-version = ['py38'] include = '\\.pyi?$' extend-exclude = ''' # A regex preceded with ^/ will apply only to files and directories # in the root of the project. ^/tests/ ''' Flake8 Configuration # .flake8 [flake8] max-line-length = 88 extend-ignore = E203 exclude = .git, __pycache__, build, dist per-file-ignores = __init__.py:F401 2. Type Checking Mypy Configuration # pyproject.toml [tool.mypy] python_version = \"3.8\" warn_return_any = true warn_unused_configs = true disallow_untyped_defs = true [[tool.mypy.overrides]] module = \"tests.*\" disallow_untyped_defs = false 3. Security Scanning Bandit Configuration # .bandit exclude_dirs: ['tests', 'docs'] skips: ['B101', 'B601'] Test Writing Guidelines 1. Test Structure Arrange-Act-Assert Pattern:\ndef test_data_processing(): # Arrange processor = DataProcessor() input_data = [1, 2, 3] expected_output = [2, 4, 6] # Act result = processor.process(input_data) # Assert assert result == expected_output 2. Test Fixtures Fixture Definitions:\n# conftest.py import pytest from pathlib import Path @pytest.fixture def sample_data(): return [1, 2, 3, 4, 5] @pytest.fixture def temp_data_file(tmp_path): file_path = tmp_path / \"data.txt\" file_path.write_text(\"test data\") return file_path @pytest.fixture(scope=\"session\") def database_connection(): db = DatabaseConnection() db.connect() yield db db.disconnect() 3. Mocking Strategies Mock Examples:\nfrom unittest.mock import Mock, patch def test_external_api_call(): with patch('your_package.api.external_call') as mock_call: mock_call.return_value = {'status': 'success'} result = your_function() assert result['status'] == 'success' mock_call.assert_called_once() def test_complex_interaction(): mock_dependency = Mock() mock_dependency.process.return_value = 'processed' processor = DataProcessor(dependency=mock_dependency) result = processor.run() assert result == 'processed' Continuous Integration 1. GitHub Actions Configuration name: Tests on: push: branches: [ main ] pull_request: branches: [ main ] jobs: test: runs-on: ubuntu-latest strategy: matrix: python-version: [3.8, 3.9, \"3.10\"] steps: - uses: actions/checkout@v2 - name: Set up Python uses: actions/setup-python@v2 with: python-version: ${{ matrix.python-version }} - name: Install dependencies run: | python -m pip install --upgrade pip pip install -e \".[test]\" - name: Run tests run: | pytest --cov=your_package --cov-report=xml - name: Upload coverage uses: codecov/codecov-action@v2 with: file: ./coverage.xml Best Practices 1. Testing Principles Write tests first (TDD when appropriate) Test edge cases Keep tests focused Use meaningful test names Document test purposes 2. Coverage Goals Aim for high coverage (\u003e90%) Focus on critical paths Test error conditions Cover edge cases Monitor coverage trends 3. Performance Testing Establish baselines Regular benchmarking Monitor trends Test scaling behavior Profile resource usage 4. Quality Metrics Code coverage Cyclomatic complexity Documentation coverage Type coverage Security scan results 5. Continuous Improvement Regular test review Performance optimization Coverage improvement Test maintenance Documentation updates Standards Documentation Structure 1. Documentation Directory Layout docs/ ├── _static/ # Static files (images, custom CSS) │ ├── custom.css # Custom styling │ └── images/ # Documentation images │ ├── architecture.png │ └── workflow.png ├── _templates/ # Custom Sphinx templates │ └── layout.html ├── api/ # API Reference │ ├── core.rst # Core module documentation │ ├── utils.rst # Utilities documentation │ └── index.rst # API documentation index ├── guides/ # User Guides │ ├── getting_started.rst # Getting started guide │ ├── installation.rst # Installation instructions │ └── advanced.rst # Advanced usage guide ├── tutorials/ # Tutorials │ ├── basic/ # Basic tutorials │ └── advanced/ # Advanced tutorials ├── examples/ # Example Gallery │ ├── basic_usage.py # Basic usage examples │ └── advanced_usage.py # Advanced usage examples ├── dev/ # Developer Documentation │ ├── contributing.rst # Contribution guide │ ├── architecture.rst # Architecture documentation │ └── release.rst # Release process ├── conf.py # Sphinx configuration └── index.rst # Documentation home page 2. Documentation Types API Documentation Detailed technical reference for all public interfaces.\nExample API Documentation:\nclass DataProcessor: \"\"\"Process data using configurable transformations. The DataProcessor class provides a flexible interface for applying various transformations to input data. It supports both batch and streaming processing modes. Args: chunk_size (int): Size of data chunks for processing. mode (str): Processing mode ('batch' or 'stream'). validate (bool, optional): Whether to validate input data. Defaults to True. Attributes: chunk_size (int): Current chunk size setting. mode (str): Current processing mode. Examples: Basic usage: \u003e\u003e\u003e processor = DataProcessor(chunk_size=100) \u003e\u003e\u003e result = processor.process([1, 2, 3]) \u003e\u003e\u003e print(result) [2, 4, 6] Streaming mode: \u003e\u003e\u003e processor = DataProcessor(mode='stream') \u003e\u003e\u003e for item in processor.stream_process(data_iterator): ... print(item) Note: This class is thread-safe and can be used in concurrent processing scenarios. \"\"\" def process(self, data: List[float]) -\u003e List[float]: \"\"\"Process a batch of data. Args: data: Input data to process. Returns: Processed data. Raises: ValueError: If input data is invalid. ProcessingError: If processing fails. \"\"\" User Guides Step-by-step instructions for common tasks.\nExample Guide Structure:\nGetting Started ============== Installation ----------- .. code-block:: bash pip install your-package Basic Usage ---------- This section covers the basic usage of the package:: import your_package # Initialize processor processor = your_package.DataProcessor() # Process data result = processor.process([1, 2, 3]) Advanced Features --------------- For advanced usage, including streaming processing and custom transformations, see :ref:`advanced-features`. Tutorials Hands-on learning materials.\nExample Tutorial:\n\"\"\" # Data Processing Tutorial This tutorial demonstrates basic data processing with our package. ## Setup First, import required modules: \"\"\" import your_package import numpy as np # Create sample data data = np.random.randn(1000) # Initialize processor processor = your_package.DataProcessor( chunk_size=100, mode='batch' ) # Process data result = processor.process(data) \"\"\" ## Analysis Let's analyze the results: \"\"\" print(f\"Input mean: {np.mean(data):.2f}\") print(f\"Output mean: {np.mean(result):.2f}\") 3. Documentation Standards Docstring Format Using Google-style docstrings:\ndef complex_function(param1: int, param2: str, *args: Any, timeout: Optional[float] = None) -\u003e Dict[str, Any]: \"\"\"Perform a complex operation with the given parameters. This function combines multiple operations and returns a dictionary containing the results. It handles various edge cases and supports timeout functionality. Args: param1: The first parameter description. param2: The second parameter description. *args: Additional arguments for processing. timeout: Optional timeout in seconds. Defaults to None. Returns: A dictionary containing: - 'result': The primary result - 'metadata': Processing metadata - 'stats': Operation statistics Raises: ValueError: If parameters are invalid. TimeoutError: If operation exceeds timeout. Example: \u003e\u003e\u003e result = complex_function(1, \"test\", timeout=5.0) \u003e\u003e\u003e print(result['status']) 'success' Note: This function is thread-safe and can be used in parallel processing scenarios. \"\"\" Documentation Checklist All public APIs documented Examples provided Type hints included Exceptions documented Parameters described Return values explained Usage notes added Links to related documentation 4. Sphinx Configuration # conf.py project = 'Your Package' copyright = '2025, Your Name' author = 'Your Name' extensions = [ 'sphinx.ext.autodoc', 'sphinx.ext.napoleon', 'sphinx.ext.viewcode', 'sphinx.ext.intersphinx', 'sphinx_rtd_theme', 'sphinx_gallery.gen_gallery', 'myst_parser', ] # Napoleon settings napoleon_google_docstring = True napoleon_numpy_docstring = True napoleon_include_init_with_doc = False napoleon_include_private_with_doc = False napoleon_include_special_with_doc = True napoleon_use_admonition_for_examples = True napoleon_use_admonition_for_notes = True napoleon_use_admonition_for_references = False napoleon_use_ivar = False napoleon_use_param = True napoleon_use_rtype = True napoleon_preprocess_types = False napoleon_type_aliases = None napoleon_attr_annotations = True # Intersphinx mapping intersphinx_mapping = { 'python': ('https://docs.python.org/3', None), 'numpy': ('https://numpy.org/doc/stable/', None), 'pandas': ('https://pandas.pydata.org/docs/', None), } Documentation Best Practices 1. Writing Guidelines Use clear, concise language Provide concrete examples Include error handling Document edge cases Link related concepts Keep current with code 2. Code Examples Show common use cases Demonstrate error handling Include performance tips Show proper cleanup Test all examples 3. Version Management Track API changes Document deprecations Maintain changelog Version documentation Migration guides 4. Documentation Testing Verify code examples Check links Validate markup Test builds Review rendering Documentation Workflow 1. Development Process Document while coding Review documentation Update examples Check references Verify accuracy 2. Review Process Technical accuracy Completeness Clarity Examples work Links valid 3. Publishing Workflow Build documentation Version control Deploy updates Announce changes Archive versions Advanced Documentation Features 1. Interactive Examples Using Jupyter notebooks:\n# example.ipynb { \"cells\": [ { \"cell_type\": \"markdown\", \"metadata\": {}, \"source\": [ \"# Interactive Tutorial\\n\", \"This notebook demonstrates advanced features...\" ] }, { \"cell_type\": \"code\", \"execution_count\": null, \"metadata\": {}, \"source\": [ \"import your_package\\n\", \"# Interactive code examples...\" ] } ] } 2. API Versioning def deprecated_function(): \"\"\"This function is deprecated. .. deprecated:: 1.2.0 Use :func:`new_function` instead. \"\"\" warnings.warn( \"This function is deprecated. Use new_function instead.\", DeprecationWarning, stacklevel=2 ) 3. Documentation Generation Automated documentation updates:\n# .github/workflows/docs.yml name: Documentation on: push: branches: [ main ] jobs: docs: runs-on: ubuntu-latest steps: - uses: actions/checkout@v2 - name: Build docs run: | pip install -e \".[docs]\" cd docs \u0026\u0026 make html - name: Deploy uses: peaceiris/actions-gh-pages@v3 with: github_token: ${{ secrets.GITHUB_TOKEN }} publish_dir: ./docs/_build/html CI / CD CI/CD Infrastructure Overview 1. CI/CD Pipeline Structure .github/workflows/ ├── ci.yml # Main CI pipeline ├── release.yml # Release workflow ├── docs.yml # Documentation builds └── nightly.yml # Nightly tests 2. Core Pipeline Components Continuous Integration Pipeline # .github/workflows/ci.yml name: Continuous Integration on: push: branches: [ main, develop ] pull_request: branches: [ main, develop ] jobs: quality: name: Code Quality runs-on: ubuntu-latest steps: - uses: actions/checkout@v3 - name: Set up Python uses: actions/setup-python@v4 with: python-version: '3.10' - name: Quality checks run: | pip install -e \".[dev]\" black --check . isort --check-only . flake8 . mypy src/ test: name: Test Suite strategy: matrix: python-version: ['3.8', '3.9', '3.10'] os: [ubuntu-latest, windows-latest, macos-latest] runs-on: ${{ matrix.os }} steps: - uses: actions/checkout@v3 - name: Set up Python uses: actions/setup-python@v4 with: python-version: ${{ matrix.python-version }} - name: Run tests run: | pip install -e \".[test]\" pytest tests/ --cov=src/ --cov-report=xml - name: Upload coverage uses: codecov/codecov-action@v3 with: file: ./coverage.xml security: name: Security Scan runs-on: ubuntu-latest steps: - uses: actions/checkout@v3 - name: Security checks run: | pip install bandit safety bandit -r src/ safety check Release Pipeline # .github/workflows/release.yml name: Release on: push: tags: - 'v*' jobs: build: name: Build and Publish runs-on: ubuntu-latest steps: - uses: actions/checkout@v3 - name: Set up Python uses: actions/setup-python@v4 with: python-version: '3.10' - name: Build package run: | pip install build twine python -m build - name: Publish to PyPI env: TWINE_USERNAME: __token__ TWINE_PASSWORD: ${{ secrets.PYPI_API_TOKEN }} run: | twine upload dist/* 3. Environment Configurations Development Environment name: development channels: - conda-forge - defaults dependencies: - python=3.10 - pip - pip: - -e \".[dev]\" Testing Environment name: testing channels: - conda-forge - defaults dependencies: - python=3.10 - pip - pip: - -e \".[test]\" Pipeline Components 1. Code Quality Checks Style Checking quality-checks: script: - black --check . - isort --check-only . - flake8 . - pylint src/ Type Checking type-checks: script: - mypy src/ --strict Security Scanning security-checks: script: - bandit -r src/ - safety check - pip-audit 2. Testing Framework Test Execution test-suite: parallel: matrix: - PYTHON: ['3.8', '3.9', '3.10'] script: - pytest tests/ --cov=src/ Performance Testing performance: script: - pytest tests/performance/ --benchmark-only - python benchmarks/run.py 3. Documentation Documentation Build build-docs: script: - cd docs/ - make html - make linkcheck Documentation Deployment deploy-docs: script: - mkdocs gh-deploy only: - tags Deployment Strategies 1. Version Management Version Bumping # bump_version.py import re from pathlib import Path def bump_version(version_type='patch'): version_file = Path('src/your_package/_version.py') content = version_file.read_text() # Parse current version match = re.search(r'__version__ = [\"\\']([^\"\\']+)[\"\\']', content) current = match.group(1) major, minor, patch = map(int, current.split('.')) # Bump version if version_type == 'major': major += 1 minor = patch = 0 elif version_type == 'minor': minor += 1 patch = 0 else: # patch patch += 1 new_version = f'{major}.{minor}.{patch}' new_content = re.sub( r'__version__ = [\"\\']([^\"\\']+)[\"\\']', f'__version__ = \"{new_version}\"', content ) version_file.write_text(new_content) return new_version Release Workflow release: script: - python tools/bump_version.py - git tag v$(python -c \"import your_package; print(your_package.__version__)\") - git push origin --tags 2. Package Distribution Build Configuration # pyproject.toml [build-system] requires = [\"setuptools\u003e=45\", \"wheel\", \"build\"] build-backend = \"setuptools.build_meta\" [project] name = \"your-package\" dynamic = [\"version\"] description = \"Your package description\" readme = \"README.md\" license = {text = \"MIT\"} classifiers = [ \"Development Status :: 4 - Beta\", \"Intended Audience :: Developers\", \"License :: OSI Approved :: MIT License\", \"Programming Language :: Python :: 3\", \"Programming Language :: Python :: 3.8\", \"Programming Language :: Python :: 3.9\", \"Programming Language :: Python :: 3.10\", ] Distribution Script build-dist: script: - python -m build - twine check dist/* 3. Environment Management Docker Build # Dockerfile FROM python:3.10-slim WORKDIR /app COPY pyproject.toml . COPY setup.py . COPY setup.cfg . COPY src/ src/ RUN pip install -e . ENTRYPOINT [\"python\", \"-m\", \"your_package\"] Container Deployment deploy-container: script: - docker build -t your-package . - docker push your-package Best Practices 1. Pipeline Design Fast feedback cycles Parallel execution Clear failure points Comprehensive testing Security scanning 2. Environment Management Reproducible builds Version pinning Clean environments Platform compatibility Resource optimization 3. Deployment Strategy Semantic versioning Release notes Rollback procedures Feature flags Monitoring integration 4. Security Considerations Dependency scanning Code analysis Secret management Access control Vulnerability tracking Advanced Topics 1. Matrix Testing Multiple Python versions Different operating systems Various dependencies Hardware configurations Database versions 2. Performance Monitoring Benchmark tracking Resource utilization Response times Error rates Usage patterns 3. Automated Releases Version management Changelog generation Documentation updates Package publishing Container deployment 4. Quality Gates Coverage thresholds Performance benchmarks Security scans Documentation checks API compatibility Distribution \u0026 Releases Package Distribution Structure 1. Package Configuration Files Project Configuration # pyproject.toml [build-system] requires = [\"setuptools\u003e=45\", \"wheel\", \"build\"] build-backend = \"setuptools.build_meta\" [project] name = \"your-package\" dynamic = [\"version\"] description = \"Your package description\" authors = [ {name = \"Your Name\", email = \"your.email@example.com\"}, ] license = {text = \"MIT\"} requires-python = \"\u003e=3.8\" classifiers = [ \"Development Status :: 5 - Production/Stable\", \"Intended Audience :: Developers\", \"License :: OSI Approved :: MIT License\", \"Programming Language :: Python :: 3\", \"Programming Language :: Python :: 3.8\", \"Programming Language :: Python :: 3.9\", \"Programming Language :: Python :: 3.10\", \"Operating System :: OS Independent\", \"Topic :: Software Development :: Libraries :: Python Modules\", ] dependencies = [ \"numpy\u003e=1.20\", \"pandas\u003e=1.3\", \"scikit-learn\u003e=1.0\", ] [project.optional-dependencies] dev = [ \"pytest\u003e=6.0\", \"pytest-cov\u003e=2.0\", \"black\u003e=22.0\", \"mypy\u003e=0.900\", ] [project.urls] Homepage = \"https://github.com/username/your-package\" Documentation = \"https://your-package.readthedocs.io\" Repository = \"https://github.com/username/your-package.git\" Changelog = \"https://github.com/username/your-package/blob/main/CHANGELOG.md\" [tool.setuptools] packages = [\"your_package\"] Package Manifest # MANIFEST.in include LICENSE include README.md include CHANGELOG.md include pyproject.toml recursive-include your_package *.py recursive-include your_package/data *.json *.csv recursive-include docs *.rst *.py *.bat *.csv recursive-include tests *.py *.json prune docs/_build prune .github prune .pytest_cache 2. Version Management Version File # your_package/_version.py import re from typing import Tuple __version__ = \"1.2.3\" def parse_version(version_str: str) -\u003e Tuple[int, int, int]: \"\"\"Parse version string into major, minor, patch components.\"\"\" match = re.match(r\"(\\d+)\\.(\\d+)\\.(\\d+)\", version_str) if not match: raise ValueError(f\"Invalid version string: {version_str}\") return tuple(map(int, match.groups())) def get_version() -\u003e str: \"\"\"Get the current version string.\"\"\" return __version__ def is_compatible(required_version: str) -\u003e bool: \"\"\"Check if current version is compatible with required version.\"\"\" current = parse_version(__version__) required = parse_version(required_version) # Major version must match if current[0] != required[0]: return False # Current minor version must be \u003e= required if current[1] \u003c required[1]: return False # If minor versions match, current patch must be \u003e= required if current[1] == required[1] and current[2] \u003c required[2]: return False return True 3. Release Process Release Workflow # tools/release.py import subprocess from pathlib import Path from typing import Optional def update_version(version_type: str = 'patch') -\u003e str: \"\"\"Update version number in _version.py.\"\"\" version_file = Path('your_package/_version.py') content = version_file.read_text() # Extract current version import re match = re.search(r'__version__ = [\"\\']([^\"\\']+)[\"\\']', content) current = match.group(1) major, minor, patch = map(int, current.split('.')) # Update version if version_type == 'major': major += 1 minor = patch = 0 elif version_type == 'minor': minor += 1 patch = 0 else: # patch patch += 1 new_version = f'{major}.{minor}.{patch}' new_content = content.replace(f'__version__ = \"{current}\"', f'__version__ = \"{new_version}\"') version_file.write_text(new_content) return new_version def update_changelog(version: str, changes: str) -\u003e None: \"\"\"Update CHANGELOG.md with new version information.\"\"\" changelog = Path('CHANGELOG.md') content = changelog.read_text() # Add new version section new_section = f\"\\n## [{version}] - {datetime.date.today()}\\n\\n{changes}\\n\" content = content.replace(\"# Changelog\\n\", f\"# Changelog\\n{new_section}\") changelog.write_text(content) def create_release(version_type: str = 'patch', changes: Optional[str] = None) -\u003e None: \"\"\"Create a new release.\"\"\" # Update version new_version = update_version(version_type) # Update changelog if changes: update_changelog(new_version, changes) # Commit changes subprocess.run(['git', 'add', '.']) subprocess.run(['git', 'commit', '-m', f'Release version {new_version}']) # Create tag subprocess.run(['git', 'tag', f'v{new_version}']) # Push changes subprocess.run(['git', 'push', 'origin', 'main']) subprocess.run(['git', 'push', 'origin', f'v{new_version}']) Distribution Best Practices 1. Package Organization Directory Structure Best Practices Keep source in src/ directory Separate tests from source Include necessary package data Maintain clear documentation Version control configuration Package Data Management # setup.py from setuptools import setup setup( # ... other configuration ... package_data={ 'your_package': [ 'data/*.json', 'data/*.csv', 'config/*.yaml', ], }, include_package_data=True, ) 2. Distribution Strategy Build Process # tools/build.py import shutil from pathlib import Path import subprocess def clean_build(): \"\"\"Clean build directories.\"\"\" dirs_to_clean = ['build', 'dist', '*.egg-info'] for pattern in dirs_to_clean: for path in Path('.').glob(pattern): if path.is_dir(): shutil.rmtree(path) else: path.unlink() def build_package(): \"\"\"Build package distributions.\"\"\" clean_build() # Build distributions subprocess.run(['python', '-m', 'build']) # Verify distributions subprocess.run(['twine', 'check', 'dist/*']) def publish_package(): \"\"\"Publish package to PyPI.\"\"\" subprocess.run(['twine', 'upload', 'dist/*']) 3. Release Management Release Checklist # tools/release_checklist.py import subprocess from pathlib import Path class ReleaseChecker: def __init__(self): self.checks = [] self.errors = [] def run_tests(self): \"\"\"Run test suite.\"\"\" result = subprocess.run(['pytest'], capture_output=True) if result.returncode != 0: self.errors.append(\"Tests failed\") def check_style(self): \"\"\"Check code style.\"\"\" result = subprocess.run(['black', '--check', '.'], capture_output=True) if result.returncode != 0: self.errors.append(\"Code style check failed\") def verify_docs(self): \"\"\"Verify documentation builds.\"\"\" result = subprocess.run(['sphinx-build', '-b', 'html', 'docs', 'docs/_build/html']) if result.returncode != 0: self.errors.append(\"Documentation build failed\") def check_changelog(self): \"\"\"Verify changelog is updated.\"\"\" changelog = Path('CHANGELOG.md') if not changelog.exists(): self.errors.append(\"Changelog file missing\") def run_checks(self): \"\"\"Run all pre-release checks.\"\"\" self.run_tests() self.check_style() self.verify_docs() self.check_changelog() if self.errors: print(\"Release checks failed:\") for error in self.errors: print(f\"- {error}\") return False return True Advanced Distribution Topics 1. Continuous Delivery Automated Release Pipeline # .github/workflows/release.yml name: Release on: push: tags: - 'v*' jobs: release: runs-on: ubuntu-latest steps: - uses: actions/checkout@v3 - name: Set up Python uses: actions/setup-python@v4 with: python-version: '3.10' - name: Install dependencies run: | python -m pip install --upgrade pip pip install build twine - name: Build and publish env: TWINE_USERNAME: __token__ TWINE_PASSWORD: ${{ secrets.PYPI_API_TOKEN }} run: | python -m build twine upload dist/* 2. Multi-platform Support Platform-specific Dependencies # setup.py import sys from setuptools import setup extra_dependencies = {} if sys.platform.startswith('win'): extra_dependencies['windows'] = ['pywin32'] elif sys.platform.startswith('linux'): extra_dependencies['linux'] = ['python-systemd'] elif sys.platform.startswith('darwin'): extra_dependencies['macos'] = ['pyobjc-framework-Cocoa'] setup( # ... other configuration ... extras_require=extra_dependencies, ) 3. Binary Distribution Binary Build Configuration # setup.cfg [bdist_wheel] universal = 0 [build_ext] inplace = 1 Distribution Security 1. Package Signing GPG Signing Configuration # .pypirc [distutils] index-servers = pypi testpypi [pypi] username: __token__ password: sign: true identity: [testpypi] repository: https://test.pypi.org/legacy/ username: __token__ password: 2. Dependency Security Requirements Scanning # tools/check_dependencies.py import subprocess from typing import List, Tuple def scan_dependencies() -\u003e List[Tuple[str, str]]: \"\"\"Scan dependencies for security issues.\"\"\" result = subprocess.run(['safety', 'check'], capture_output=True, text=True) vulnerabilities = [] if result.returncode != 0: for line in result.stdout.splitlines(): if ' discovered in ' in line: package = line.split(' discovered in ')[1].split(' version ')[0] version = line.split(' version ')[1].split()[0] vulnerabilities.append((package, version)) return vulnerabilities Best Practices Summary 1. Version Management Use semantic versioning Maintain changelog Tag releases Document compatibility 2. Distribution Process Clean builds Version verification Documentation updates Security checks 3. Release Strategy Regular releases Clear process Automated checks User communication 4. Security Considerations Package signing Dependency scanning Security advisories Access control Optimization Performance Optimization Framework 1. Performance Monitoring Infrastructure Profiling Setup # profiling/profiler.py import cProfile import pstats from functools import wraps from pathlib import Path from typing import Callable, Any, Optional class PerformanceProfiler: \"\"\"Performance profiling utility for tracking execution metrics.\"\"\" def __init__(self, output_dir: str = \"profiles\"): self.output_dir = Path(output_dir) self.output_dir.mkdir(exist_ok=True) def profile(self, output_file: Optional[str] = None) -\u003e Callable: \"\"\"Decorator for profiling functions.\"\"\" def decorator(func: Callable) -\u003e Callable: @wraps(func) def wrapper(*args: Any, **kwargs: Any) -\u003e Any: profile = cProfile.Profile() try: result = profile.runcall(func, *args, **kwargs) if output_file: stats_path = self.output_dir / f\"{output_file}.stats\" profile.dump_stats(str(stats_path)) # Create readable report stats = pstats.Stats(str(stats_path)) stats.sort_stats('cumulative') report_path = self.output_dir / f\"{output_file}.txt\" with open(report_path, 'w') as f: stats.stream = f stats.print_stats() return result finally: profile.disable() return wrapper return decorator 2. Memory Management Memory Tracker # monitoring/memory.py import gc import psutil import os from typing import Dict, Any from dataclasses import dataclass from contextlib import contextmanager @dataclass class MemoryStats: \"\"\"Container for memory statistics.\"\"\" rss: int # Resident Set Size vms: int # Virtual Memory Size shared: int # Shared Memory objects: int # Python Objects Count class MemoryTracker: \"\"\"Utility for tracking memory usage.\"\"\" @staticmethod def get_process_memory() -\u003e MemoryStats: \"\"\"Get current process memory statistics.\"\"\" process = psutil.Process(os.getpid()) meminfo = process.memory_info() return MemoryStats( rss=meminfo.rss, vms=meminfo.vms, shared=meminfo.shared, objects=len(gc.get_objects()) ) @contextmanager def track_memory(self, label: str = \"\"): \"\"\"Context manager for tracking memory changes.\"\"\" gc.collect() # Clean up before measurement before = self.get_process_memory() yield gc.collect() # Clean up after operations after = self.get_process_memory() print(f\"Memory Change ({label}):\") print(f\"RSS: {(after.rss - before.rss) / 1024 / 1024:.2f} MB\") print(f\"Objects: {after.objects - before.objects}\") 3. Resource Management Resource Pool # resources/pool.py from typing import TypeVar, Generic, Callable, List, Optional from contextlib import contextmanager import threading import queue import time T = TypeVar('T') class ResourcePool(Generic[T]): \"\"\"Generic resource pool for managing reusable resources.\"\"\" def __init__(self, factory: Callable[[], T], max_size: int = 10, min_size: int = 2, max_idle_time: float = 300): self.factory = factory self.max_size = max_size self.min_size = min_size self.max_idle_time = max_idle_time self.pool: queue.Queue = queue.Queue() self.size = 0 self.lock = threading.Lock() self._initialize() def _initialize(self) -\u003e None: \"\"\"Initialize the minimum number of resources.\"\"\" for _ in range(self.min_size): self._add_resource() def _add_resource(self) -\u003e None: \"\"\"Create and add a new resource to the pool.\"\"\" with self.lock: if self.size \u003c self.max_size: resource = self.factory() self.pool.put((time.time(), resource)) self.size += 1 @contextmanager def acquire(self) -\u003e T: \"\"\"Acquire a resource from the pool.\"\"\" resource = None try: while True: try: timestamp, resource = self.pool.get_nowait() # Check if resource has been idle too long if time.time() - timestamp \u003e self.max_idle_time: self.size -= 1 continue break except queue.Empty: self._add_resource() yield resource finally: if resource is not None: self.pool.put((time.time(), resource)) Performance Optimization Techniques 1. Computation Optimization Memoization # optimization/memoization.py from typing import TypeVar, Callable, Dict, Any from functools import wraps T = TypeVar('T') def memoize(func: Callable[..., T]) -\u003e Callable[..., T]: \"\"\"Memoization decorator with cache size limit.\"\"\" cache: Dict[str, Any] = {} max_size = 1000 @wraps(func) def wrapper(*args: Any, **kwargs: Any) -\u003e T: # Create cache key from arguments key = str(args) + str(sorted(kwargs.items())) # Implement LRU-style cache if key in cache: value, _ = cache[key] cache[key] = (value, time.time()) return value # Calculate new value result = func(*args, **kwargs) # Manage cache size if len(cache) \u003e= max_size: # Remove oldest entry oldest_key = min(cache.keys(), key=lambda k: cache[k][1]) del cache[oldest_key] cache[key] = (result, time.time()) return result return wrapper 2. Data Structure Optimization Efficient Collections # optimization/collections.py from typing import TypeVar, Generic, Iterator, Optional from dataclasses import dataclass from collections import deque T = TypeVar('T') @dataclass class Node(Generic[T]): \"\"\"Node for custom data structures.\"\"\" value: T next: Optional['Node[T]'] = None prev: Optional['Node[T]'] = None class EfficientQueue(Generic[T]): \"\"\"Memory-efficient queue implementation.\"\"\" def __init__(self, maxsize: int = 0): self.maxsize = maxsize self._head: Optional[Node[T]] = None self._tail: Optional[Node[T]] = None self._size = 0 def push(self, value: T) -\u003e None: \"\"\"Add item to queue.\"\"\" if self.maxsize and self._size \u003e= self.maxsize: raise ValueError(\"Queue is full\") node = Node(value) if not self._head: self._head = self._tail = node else: node.prev = self._tail self._tail.next = node # type: ignore self._tail = node self._size += 1 def pop(self) -\u003e T: \"\"\"Remove and return item from queue.\"\"\" if not self._head: raise IndexError(\"Queue is empty\") value = self._head.value self._head = self._head.next if self._head: self._head.prev = None else: self._tail = None self._size -= 1 return value 3. I/O Optimization Efficient File Handling # optimization/io.py from typing import Iterator, Any, BinaryIO import mmap from contextlib import contextmanager import os class EfficientFileReader: \"\"\"Memory-efficient file reading utilities.\"\"\" @staticmethod @contextmanager def mmap_reader(filename: str) -\u003e Iterator[mmap.mmap]: \"\"\"Memory-mapped file reader.\"\"\" with open(filename, 'rb') as f: with mmap.mmap(f.fileno(), 0, access=mmap.ACCESS_READ) as m: yield m @staticmethod def chunk_reader(file: BinaryIO, chunk_size: int = 8192) -\u003e Iterator[bytes]: \"\"\"Efficient chunk-based file reader.\"\"\" while True: chunk = file.read(chunk_size) if not chunk: break yield chunk Resource Management Best Practices 1. Memory Management Best Practices Implementation # management/memory.py from typing import TypeVar, Generic, Optional import weakref T = TypeVar('T') class ResourceManager(Generic[T]): \"\"\"Resource manager with automatic cleanup.\"\"\" def __init__(self): self._resources = weakref.WeakSet() def register(self, resource: T) -\u003e T: \"\"\"Register a resource for management.\"\"\" self._resources.add(resource) return resource def cleanup(self) -\u003e None: \"\"\"Clean up all registered resources.\"\"\" for resource in self._resources: if hasattr(resource, 'close'): resource.close() 2. Thread Management Thread Pool Implementation # management/threads.py from typing import Callable, Any, List import threading from queue import Queue import time class WorkerThread(threading.Thread): \"\"\"Worker thread for thread pool.\"\"\" def __init__(self, tasks: Queue): super().__init__(daemon=True) self.tasks = tasks self.running = True def run(self) -\u003e None: while self.running: try: task = self.tasks.get(timeout=1) task() self.tasks.task_done() except Queue.Empty: continue class ThreadPool: \"\"\"Thread pool for parallel task execution.\"\"\" def __init__(self, num_threads: int): self.tasks: Queue = Queue() self.workers: List[WorkerThread] = [] for _ in range(num_threads): worker = WorkerThread(self.tasks) worker.start() self.workers.append(worker) def submit(self, func: Callable[..., Any], *args: Any, **kwargs: Any) -\u003e None: \"\"\"Submit task to thread pool.\"\"\" self.tasks.put(lambda: func(*args, **kwargs)) def shutdown(self) -\u003e None: \"\"\"Shutdown thread pool.\"\"\" for worker in self.workers: worker.running = False for worker in self.workers: worker.join() Performance Monitoring and Profiling 1. Performance Metrics Collection Metrics Collector # monitoring/metrics.py from typing import Dict, List, Any import time import statistics from dataclasses import dataclass from contextlib import contextmanager @dataclass class MetricPoint: \"\"\"Single metric measurement point.\"\"\" timestamp: float value: float class MetricsCollector: \"\"\"Collect and analyze performance metrics.\"\"\" def __init__(self): self.metrics: Dict[str, List[MetricPoint]] = {} def record(self, metric: str, value: float) -\u003e None: \"\"\"Record a metric value.\"\"\" if metric not in self.metrics: self.metrics[metric] = [] self.metrics[metric].append( MetricPoint(time.time(), value) ) @contextmanager def measure_time(self, metric: str) -\u003e None: \"\"\"Measure execution time of a block.\"\"\" start = time.time() try: yield finally: duration = time.time() - start self.record(metric, duration) def get_statistics(self, metric: str) -\u003e Dict[str, float]: \"\"\"Calculate statistics for a metric.\"\"\" values = [point.value for point in self.metrics[metric]] return { 'mean': statistics.mean(values), 'median': statistics.median(values), 'std_dev': statistics.stdev(values) if len(values) \u003e 1 else 0, 'min': min(values), 'max': max(values) } Best Practices Summary 1. Performance Optimization Profile before optimizing Focus on bottlenecks Monitor memory usage Optimize critical paths Use appropriate data structures 2. Resource Management Implement proper cleanup Use context managers Pool reusable resources Monitor resource usage Handle resource exhaustion 3. Memory Management Minimize object creation Use weak references Implement cleanup handlers Monitor memory leaks Profile memory usage 4. Threading and Concurrency Use thread pools Manage thread lifecycles Handle thread safety Monitor thread usage Implement proper synchronization Security \u0026 Errors Security Framework 1. Exception Hierarchy # exceptions.py from typing import Optional, Any class PackageError(Exception): \"\"\"Base exception for all package errors.\"\"\" def __init__(self, message: str, code: Optional[str] = None): super().__init__(message) self.code = code or 'UNKNOWN_ERROR' self.message = message class ValidationError(PackageError): \"\"\"Raised when input validation fails.\"\"\" def __init__(self, message: str, invalid_value: Any = None): super().__init__(message, code='VALIDATION_ERROR') self.invalid_value = invalid_value class SecurityError(PackageError): \"\"\"Base class for security-related errors.\"\"\" def __init__(self, message: str, severity: str = 'HIGH'): super().__init__(message, code='SECURITY_ERROR') self.severity = severity class AuthenticationError(SecurityError): \"\"\"Raised when authentication fails.\"\"\" def __init__(self, message: str): super().__init__(message, severity='CRITICAL') class AuthorizationError(SecurityError): \"\"\"Raised when authorization fails.\"\"\" def __init__(self, message: str, required_permissions: Optional[list] = None): super().__init__(message, severity='HIGH') self.required_permissions = required_permissions or [] class ConfigurationError(PackageError): \"\"\"Raised when configuration is invalid.\"\"\" def __init__(self, message: str, config_key: Optional[str] = None): super().__init__(message, code='CONFIG_ERROR') self.config_key = config_key 2. Input Validation Validation Framework # security/validation.py from typing import Any, Callable, TypeVar, Generic, List, Dict from dataclasses import dataclass from abc import ABC, abstractmethod T = TypeVar('T') class Validator(Generic[T], ABC): \"\"\"Base class for validators.\"\"\" @abstractmethod def validate(self, value: Any) -\u003e T: \"\"\"Validate and potentially transform input.\"\"\" pass @dataclass class ValidationResult: \"\"\"Result of validation operation.\"\"\" is_valid: bool errors: List[str] transformed_value: Any = None class InputValidator: \"\"\"Comprehensive input validation system.\"\"\" def __init__(self): self.validators: Dict[str, Validator] = {} def register_validator(self, name: str, validator: Validator) -\u003e None: \"\"\"Register a new validator.\"\"\" self.validators[name] = validator def validate(self, name: str, value: Any) -\u003e ValidationResult: \"\"\"Validate input using registered validator.\"\"\" if name not in self.validators: return ValidationResult( is_valid=False, errors=[f\"No validator registered for '{name}'\"] ) try: transformed = self.validators[name].validate(value) return ValidationResult( is_valid=True, errors=[], transformed_value=transformed ) except ValidationError as e: return ValidationResult( is_valid=False, errors=[str(e)] ) 3. Security Auditing Audit Logger # security/audit.py import logging import json from typing import Dict, Any, Optional from datetime import datetime import threading class AuditLogger: \"\"\"Security audit logging system.\"\"\" def __init__(self, log_file: str): self.logger = logging.getLogger('security_audit') handler = logging.FileHandler(log_file) handler.setFormatter( logging.Formatter('%(asctime)s - %(message)s') ) self.logger.addHandler(handler) self.logger.setLevel(logging.INFO) self._thread_local = threading.local() def set_context(self, **kwargs: Any) -\u003e None: \"\"\"Set context for current thread.\"\"\" if not hasattr(self._thread_local, 'context'): self._thread_local.context = {} self._thread_local.context.update(kwargs) def clear_context(self) -\u003e None: \"\"\"Clear context for current thread.\"\"\" if hasattr(self._thread_local, 'context'): del self._thread_local.context def log_security_event(self, event_type: str, details: Dict[str, Any], severity: str = 'INFO') -\u003e None: \"\"\"Log a security event.\"\"\" context = getattr(self._thread_local, 'context', {}) event = { 'timestamp': datetime.utcnow().isoformat(), 'event_type': event_type, 'severity': severity, 'details': details, 'context': context } self.logger.info(json.dumps(event)) Error Handling Patterns 1. Context Managers Error Context # error_handling/context.py from typing import Optional, Type, TypeVar from types import TracebackType import sys from contextlib import contextmanager T = TypeVar('T', bound=Exception) class ErrorContext: \"\"\"Context manager for handling errors.\"\"\" def __init__(self, error_types: tuple[Type[Exception], ...], handler: Optional[Callable[[Exception], None]] = None, reraise: bool = True): self.error_types = error_types self.handler = handler self.reraise = reraise self.error: Optional[Exception] = None def __enter__(self) -\u003e 'ErrorContext': return self def __exit__(self, exc_type: Optional[Type[BaseException]], exc_val: Optional[BaseException], exc_tb: Optional[TracebackType]) -\u003e bool: if exc_val is not None and isinstance(exc_val, self.error_types): self.error = exc_val if self.handler: self.handler(exc_val) return not self.reraise return False @contextmanager def handling_errors(*error_types: Type[Exception], handler: Optional[Callable[[Exception], None]] = None, reraise: bool = True): \"\"\"Convenient context manager for error handling.\"\"\" try: yield except error_types as e: if handler: handler(e) if reraise: raise 2. Error Recovery Recovery Strategies # error_handling/recovery.py from typing import TypeVar, Generic, Callable, Optional, Any from dataclasses import dataclass import time T = TypeVar('T') @dataclass class RetryConfig: \"\"\"Configuration for retry behavior.\"\"\" max_attempts: int = 3 delay: float = 1.0 backoff_factor: float = 2.0 exceptions: tuple[Type[Exception], ...] = (Exception,) class RetryStrategy(Generic[T]): \"\"\"Implements retry behavior for operations.\"\"\" def __init__(self, config: RetryConfig): self.config = config def execute(self, operation: Callable[..., T], *args: Any, **kwargs: Any) -\u003e T: \"\"\"Execute operation with retry behavior.\"\"\" last_exception: Optional[Exception] = None delay = self.config.delay for attempt in range(self.config.max_attempts): try: return operation(*args, **kwargs) except self.config.exceptions as e: last_exception = e if attempt \u003c self.config.max_attempts - 1: time.sleep(delay) delay *= self.config.backoff_factor continue assert last_exception is not None raise last_exception Security Best Practices 1. Authentication and Authorization Security Decorator # security/decorators.py from typing import Callable, Any, TypeVar from functools import wraps F = TypeVar('F', bound=Callable[..., Any]) def require_auth(permission: str) -\u003e Callable[[F], F]: \"\"\"Decorator to enforce authentication and authorization.\"\"\" def decorator(func: F) -\u003e F: @wraps(func) def wrapper(*args: Any, **kwargs: Any) -\u003e Any: # Get current user context user = get_current_user() # Check authentication if not user: raise AuthenticationError(\"User not authenticated\") # Check authorization if not user.has_permission(permission): raise AuthorizationError( \"Permission denied\", required_permissions=[permission] ) return func(*args, **kwargs) return wrapper # type: ignore return decorator 2. Secure Configuration Configuration Manager # security/config.py from typing import Any, Dict, Optional import os import json from pathlib import Path class SecureConfig: \"\"\"Secure configuration management.\"\"\" def __init__(self, config_path: str): self._config: Dict[str, Any] = {} self._secret_keys: set[str] = set() self._load_config(config_path) def _load_config(self, config_path: str) -\u003e None: \"\"\"Load configuration securely.\"\"\" path = Path(config_path) if not path.exists(): raise ConfigurationError(f\"Config file not found: {config_path}\") try: with open(path) as f: self._config = json.load(f) except json.JSONDecodeError as e: raise ConfigurationError(f\"Invalid config format: {e}\") # Load sensitive configs from environment for key in self._config: env_key = f\"APP_{key.upper()}\" if env_key in os.environ: self._config[key] = os.environ[env_key] self._secret_keys.add(key) def get(self, key: str, default: Any = None) -\u003e Any: \"\"\"Get configuration value.\"\"\" return self._config.get(key, default) def __str__(self) -\u003e str: \"\"\"Safe string representation hiding sensitive values.\"\"\" safe_config = { k: '******' if k in self._secret_keys else v for k, v in self._config.items() } return json.dumps(safe_config, indent=2) 3. Data Sanitization Input Sanitizer # security/sanitization.py import html import re from typing import Any, Optional class InputSanitizer: \"\"\"Input sanitization utilities.\"\"\" @staticmethod def sanitize_html(content: str) -\u003e str: \"\"\"Sanitize HTML content.\"\"\" return html.escape(content) @staticmethod def sanitize_filename(filename: str) -\u003e str: \"\"\"Sanitize file names.\"\"\" # Remove potentially dangerous characters clean = re.sub(r'[^a-zA-Z0-9._-]', '_', filename) # Prevent directory traversal return clean.lstrip('.') @staticmethod def sanitize_sql(value: Any) -\u003e str: \"\"\"Sanitize SQL input (prefer parameterized queries).\"\"\" if value is None: return 'NULL' return str(value).replace(\"'\", \"''\") Best Practices Implementation 1. Error Handling Guidelines Use specific exceptions Implement proper cleanup Log errors appropriately Provide context information Handle all error cases 2. Security Guidelines Validate all inputs Sanitize user data Use secure defaults Implement proper authentication Regular security audits 3. Recovery Strategies Implement retry logic Handle temporary failures Maintain system state Provide fallback options Monitor recovery success 4. Logging and Monitoring Log security events Monitor error patterns Track system health Alert on critical issues Maintain audit trails Security and Error Prevention 1. Code Analysis Tools Use static analyzers Implement security linting Regular dependency scans Code quality checks Type checking 2. Testing Practices Security test cases Error handling tests Input validation tests Recovery scenario tests Penetration testing 3. Documentation Security policies Error handling guides Recovery procedures Audit requirements Incident response Community \u0026 Maintenance Community Infrastructure 1. Issue Management Issue Templates # .github/ISSUE_TEMPLATE/bug_report.yml name: Bug Report description: File a bug report labels: [\"bug\", \"triage\"] body: - type: markdown attributes: value: | Thanks for taking the time to fill out this bug report! - type: input id: version attributes: label: Package Version description: What version of the package are you running? placeholder: \"1.2.3\" validations: required: true - type: textarea id: description attributes: label: Bug Description description: A clear description of the bug placeholder: What happened? validations: required: true - type: textarea id: reproduction attributes: label: Reproduction Steps description: Steps to reproduce the behavior placeholder: | 1. Install package '...' 2. Run command '...' 3. See error validations: required: true - type: textarea id: logs attributes: label: Relevant Log Output description: Please copy and paste any relevant log output render: shell Feature Request Template # .github/ISSUE_TEMPLATE/feature_request.yml name: Feature Request description: Suggest a new feature labels: [\"enhancement\"] body: - type: textarea id: problem attributes: label: Problem Description description: What problem does this feature solve? validations: required: true - type: textarea id: solution attributes: label: Proposed Solution description: Describe your proposed solution validations: required: true - type: dropdown id: importance attributes: label: Importance options: - Critical - High - Medium - Low validations: required: true 2. Pull Request Management PR Template # .github/pull_request_template.md ## Description Brief description of the changes. ## Type of Change - [ ] Bug fix - [ ] New feature - [ ] Breaking change - [ ] Documentation update ## Testing Describe the testing performed: - [ ] Unit tests added/updated - [ ] Integration tests added/updated - [ ] Manual testing performed ## Checklist - [ ] Code follows project style guidelines - [ ] Documentation updated - [ ] Tests pass - [ ] Changelog updated PR Review Guidelines # docs/contributing/review_guidelines.md # Pull Request Review Guidelines ## Code Review Checklist ### Functionality - [ ] Implements requirements correctly - [ ] Handles edge cases - [ ] Error handling is appropriate - [ ] Performance considerations addressed ### Code Quality - [ ] Follows style guidelines - [ ] Clear and maintainable - [ ] Properly documented - [ ] Well-tested ### Security - [ ] Input validation present - [ ] Security best practices followed - [ ] No sensitive data exposed - [ ] Error messages are safe 3. Community Guidelines Code of Conduct # CODE_OF_CONDUCT.md # Contributor Covenant Code of Conduct ## Our Pledge We as members, contributors, and leaders pledge to make participation in our community a harassment-free experience for everyone, regardless of age, body size, visible or invisible disability, ethnicity, sex characteristics, gender identity and expression, level of experience, education, socio-economic status, nationality, personal appearance, race, religion, or sexual identity and orientation. ## Our Standards Examples of behavior that contributes to a positive environment: * Using welcoming and inclusive language * Being respectful of differing viewpoints and experiences * Gracefully accepting constructive criticism * Focusing on what is best for the community * Showing empathy towards other community members [Additional sections...] Maintenance Framework 1. Version Management Release Checklist # tools/release_checklist.py from dataclasses import dataclass from typing import List, Optional import subprocess import re @dataclass class ReleaseCheck: name: str passed: bool details: Optional[str] = None class ReleaseManager: \"\"\"Manages release process and checks.\"\"\" def __init__(self, version: str): self.version = version self.checks: List[ReleaseCheck] = [] def run_checks(self) -\u003e bool: \"\"\"Run all pre-release checks.\"\"\" self._check_version_format() self._check_tests() self._check_docs() self._check_changelog() self._check_dependencies() return all(check.passed for check in self.checks) def _add_check(self, name: str, passed: bool, details: Optional[str] = None): self.checks.append(ReleaseCheck(name, passed, details)) def _check_version_format(self): \"\"\"Verify version number format.\"\"\" is_valid = re.match(r'^\\d+\\.\\d+\\.\\d+$', self.version) is not None self._add_check( 'Version Format', is_valid, f\"Version {self.version} {'is' if is_valid else 'is not'} valid\" ) def _check_tests(self): \"\"\"Run test suite.\"\"\" result = subprocess.run(['pytest'], capture_output=True, text=True) self._add_check( 'Test Suite', result.returncode == 0, result.stdout if result.returncode == 0 else result.stderr ) def _check_docs(self): \"\"\"Verify documentation builds.\"\"\" result = subprocess.run( ['sphinx-build', '-b', 'html', 'docs', 'docs/_build/html'], capture_output=True, text=True ) self._add_check( 'Documentation', result.returncode == 0, 'Documentation builds successfully' if result.returncode == 0 else result.stderr ) 2. Documentation Maintenance Documentation Review System # tools/doc_review.py from pathlib import Path from typing import List, Dict, Any import re import yaml class DocReviewer: \"\"\"Documentation review and maintenance system.\"\"\" def __init__(self, docs_dir: str): self.docs_dir = Path(docs_dir) def check_docs(self) -\u003e Dict[str, Any]: \"\"\"Review documentation for common issues.\"\"\" results = { 'broken_links': self._check_links(), 'outdated_versions': self._check_versions(), 'missing_sections': self._check_required_sections(), 'code_block_errors': self._check_code_blocks() } return results def _check_links(self) -\u003e List[str]: \"\"\"Check for broken links in documentation.\"\"\" broken_links = [] for doc_file in self.docs_dir.rglob('*.rst'): content = doc_file.read_text() # Check for broken internal references refs = re.finditer(r':ref:`([^`]+)`', content) for ref in refs: if not self._reference_exists(ref.group(1)): broken_links.append(f\"Broken reference in {doc_file}: {ref.group(0)}\") return broken_links def _check_versions(self) -\u003e List[str]: \"\"\"Check for outdated version references.\"\"\" outdated = [] current_version = self._get_current_version() for doc_file in self.docs_dir.rglob('*.rst'): content = doc_file.read_text() # Check for version references versions = re.finditer(r'version\\s+(\\d+\\.\\d+\\.\\d+)', content) for version in versions: if self._is_outdated(version.group(1), current_version): outdated.append(f\"Outdated version in {doc_file}: {version.group(1)}\") return outdated 3. Community Engagement Communication Templates # templates/communication.py from typing import Dict, Any from datetime import datetime import jinja2 class CommunicationManager: \"\"\"Manages community communication templates.\"\"\" def __init__(self): self.env = jinja2.Environment( loader=jinja2.FileSystemLoader('templates') ) def generate_release_announcement(self, version: str, changes: List[str]) -\u003e str: \"\"\"Generate release announcement.\"\"\" template = self.env.get_template('release_announcement.md') return template.render( version=version, changes=changes, date=datetime.now().strftime('%Y-%m-%d') ) def generate_security_advisory(self, issue: str, severity: str, mitigation: str) -\u003e str: \"\"\"Generate security advisory.\"\"\" template = self.env.get_template('security_advisory.md') return template.render( issue=issue, severity=severity, mitigation=mitigation, date=datetime.now().strftime('%Y-%m-%d') ) Community Management Best Practices 1. Issue Management Quick initial response Clear communication Regular updates Proper categorization Follow-up verification 2. Pull Request Management Timely reviews Constructive feedback Clear merge criteria Version compatibility Documentation updates 3. Community Support Responsive communication Clear documentation Example code Regular updates Community recognition 4. Release Management Regular schedule Clear changelog Testing verification User communication Migration support Maintenance Best Practices 1. Code Maintenance Regular updates Dependency management Performance monitoring Security patches Technical debt management 2. Documentation Updates Keep current Version specific Example maintenance Clear explanations Regular review 3. Community Growth Welcome contributors Mentor new developers Recognize contributions Foster discussions Build community 4. Quality Assurance Automated testing Manual verification Performance benchmarks Security audits User feedback Long-term Sustainability 1. Project Planning Feature roadmap Version planning Resource allocation Community goals Sustainability model 2. Knowledge Transfer Documentation Code comments Design documents Training materials Contributor guides 3. Community Building Regular meetings Open discussion Shared ownership Clear governance Transparent decisions ",
  "wordCount" : "8309",
  "inLanguage": "en",
  "datePublished": "2025-01-01T00:00:00Z",
  "dateModified": "2025-01-01T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Trevor Jordan"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/blog/posts/package-development/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Analytics \u0026 Modeling Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "/blog/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="/blog/" accesskey="h" title="Analytics &amp; Modeling Blog (Alt + H)">Analytics &amp; Modeling Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="/blog/posts/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="/blog/archives/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="/blog/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="/blog/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://tsj7ww.github.io/personal" title="Portfolio">
                    <span>Portfolio</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="/blog/">Home</a>&nbsp;»&nbsp;<a href="/blog/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Software Development: Python Packages
    </h1>
    <div class="post-meta"><span title='2025-01-01 00:00:00 +0000 UTC'>January 1, 2025</span>&nbsp;·&nbsp;40 min&nbsp;·&nbsp;Trevor Jordan

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#architecture" aria-label="Architecture">Architecture</a><ul>
                        
                <li>
                    <a href="#complete-package-structure" aria-label="Complete Package Structure">Complete Package Structure</a></li>
                <li>
                    <a href="#core-components-and-their-purposes" aria-label="Core Components and Their Purposes">Core Components and Their Purposes</a><ul>
                        
                <li>
                    <a href="#1-package-root-srcyour_package" aria-label="1. Package Root (src/your_package/)">1. Package Root (src/your_package/)</a></li>
                <li>
                    <a href="#2-core-module-core" aria-label="2. Core Module (core/)">2. Core Module (core/)</a></li>
                <li>
                    <a href="#3-interfaces-interfaces" aria-label="3. Interfaces (interfaces/)">3. Interfaces (interfaces/)</a></li>
                <li>
                    <a href="#4-processing-processing" aria-label="4. Processing (processing/)">4. Processing (processing/)</a></li>
                <li>
                    <a href="#5-inputoutput-io" aria-label="5. Input/Output (io/)">5. Input/Output (io/)</a></li>
                <li>
                    <a href="#6-utilities-utils" aria-label="6. Utilities (utils/)">6. Utilities (utils/)</a></li></ul>
                </li>
                <li>
                    <a href="#module-interaction-principles" aria-label="Module Interaction Principles">Module Interaction Principles</a><ul>
                        
                <li>
                    <a href="#1-dependency-flow" aria-label="1. Dependency Flow">1. Dependency Flow</a></li>
                <li>
                    <a href="#2-interface-stability" aria-label="2. Interface Stability">2. Interface Stability</a></li>
                <li>
                    <a href="#3-extension-points" aria-label="3. Extension Points">3. Extension Points</a></li></ul>
                </li>
                <li>
                    <a href="#best-practices-by-component" aria-label="Best Practices by Component">Best Practices by Component</a><ul>
                        
                <li>
                    <a href="#1-core-module" aria-label="1. Core Module">1. Core Module</a></li>
                <li>
                    <a href="#2-processing-module" aria-label="2. Processing Module">2. Processing Module</a></li>
                <li>
                    <a href="#3-io-module" aria-label="3. IO Module">3. IO Module</a></li>
                <li>
                    <a href="#4-utilities" aria-label="4. Utilities">4. Utilities</a></li></ul>
                </li>
                <li>
                    <a href="#advanced-considerations" aria-label="Advanced Considerations">Advanced Considerations</a><ul>
                        
                <li>
                    <a href="#1-thread-safety" aria-label="1. Thread Safety">1. Thread Safety</a></li>
                <li>
                    <a href="#2-performance" aria-label="2. Performance">2. Performance</a></li>
                <li>
                    <a href="#3-error-handling" aria-label="3. Error Handling">3. Error Handling</a></li></ul>
                </li>
                <li>
                    <a href="#testing-strategy" aria-label="Testing Strategy">Testing Strategy</a><ul>
                        
                <li>
                    <a href="#1-unit-tests" aria-label="1. Unit Tests">1. Unit Tests</a></li>
                <li>
                    <a href="#2-integration-tests" aria-label="2. Integration Tests">2. Integration Tests</a></li>
                <li>
                    <a href="#3-performance-tests" aria-label="3. Performance Tests">3. Performance Tests</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#environment--tools" aria-label="Environment &amp; Tools">Environment &amp; Tools</a><ul>
                        
                <li>
                    <a href="#development-environment-foundation" aria-label="Development Environment Foundation">Development Environment Foundation</a><ul>
                        
                <li>
                    <a href="#1-python-version-management" aria-label="1. Python Version Management">1. Python Version Management</a><ul>
                        
                <li>
                    <a href="#pyenv" aria-label="Pyenv">Pyenv</a></li></ul>
                </li>
                <li>
                    <a href="#2-virtual-environment-management" aria-label="2. Virtual Environment Management">2. Virtual Environment Management</a><ul>
                        
                <li>
                    <a href="#poetry" aria-label="Poetry">Poetry</a></li>
                <li>
                    <a href="#virtualenvvenv" aria-label="Virtualenv/venv">Virtualenv/venv</a></li></ul>
                </li>
                <li>
                    <a href="#3-ide-configuration" aria-label="3. IDE Configuration">3. IDE Configuration</a><ul>
                        
                <li>
                    <a href="#vscode-setup" aria-label="VSCode Setup">VSCode Setup</a></li>
                <li>
                    <a href="#pycharm-configuration" aria-label="PyCharm Configuration">PyCharm Configuration</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#development-tools" aria-label="Development Tools">Development Tools</a><ul>
                        
                <li>
                    <a href="#1-code-quality-tools" aria-label="1. Code Quality Tools">1. Code Quality Tools</a><ul>
                        
                <li>
                    <a href="#linting" aria-label="Linting">Linting</a></li>
                <li>
                    <a href="#formatting" aria-label="Formatting">Formatting</a></li></ul>
                </li>
                <li>
                    <a href="#2-testing-tools" aria-label="2. Testing Tools">2. Testing Tools</a><ul>
                        
                <li>
                    <a href="#pytest-configuration" aria-label="Pytest Configuration">Pytest Configuration</a></li></ul>
                </li>
                <li>
                    <a href="#3-documentation-tools" aria-label="3. Documentation Tools">3. Documentation Tools</a><ul>
                        
                <li>
                    <a href="#sphinx-setup" aria-label="Sphinx Setup">Sphinx Setup</a></li></ul>
                </li>
                <li>
                    <a href="#4-pre-commit-hooks" aria-label="4. Pre-commit Hooks">4. Pre-commit Hooks</a></li></ul>
                </li>
                <li>
                    <a href="#development-workflow-integration" aria-label="Development Workflow Integration">Development Workflow Integration</a><ul>
                        
                <li>
                    <a href="#1-continuous-integration" aria-label="1. Continuous Integration">1. Continuous Integration</a><ul>
                        
                <li>
                    <a href="#github-actions" aria-label="GitHub Actions">GitHub Actions</a></li></ul>
                </li>
                <li>
                    <a href="#2-development-database" aria-label="2. Development Database">2. Development Database</a><ul>
                        
                <li>
                    <a href="#docker-development-database" aria-label="Docker Development Database">Docker Development Database</a></li></ul>
                </li>
                <li>
                    <a href="#3-debugging-tools" aria-label="3. Debugging Tools">3. Debugging Tools</a><ul>
                        
                <li>
                    <a href="#vs-code-launch-configuration" aria-label="VS Code Launch Configuration">VS Code Launch Configuration</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#best-practices" aria-label="Best Practices">Best Practices</a><ul>
                        
                <li>
                    <a href="#1-environment-management" aria-label="1. Environment Management">1. Environment Management</a></li>
                <li>
                    <a href="#2-code-quality" aria-label="2. Code Quality">2. Code Quality</a></li>
                <li>
                    <a href="#3-testing" aria-label="3. Testing">3. Testing</a></li>
                <li>
                    <a href="#4-documentation" aria-label="4. Documentation">4. Documentation</a></li>
                <li>
                    <a href="#5-version-control" aria-label="5. Version Control">5. Version Control</a></li>
                <li>
                    <a href="#6-continuous-integration" aria-label="6. Continuous Integration">6. Continuous Integration</a></li></ul>
                </li>
                <li>
                    <a href="#tool-selection-guide" aria-label="Tool Selection Guide">Tool Selection Guide</a><ul>
                        
                <li>
                    <a href="#1-core-tools-required" aria-label="1. Core Tools (Required)">1. Core Tools (Required)</a></li>
                <li>
                    <a href="#2-code-quality-recommended" aria-label="2. Code Quality (Recommended)">2. Code Quality (Recommended)</a></li>
                <li>
                    <a href="#3-documentation-recommended" aria-label="3. Documentation (Recommended)">3. Documentation (Recommended)</a></li>
                <li>
                    <a href="#4-development-optional" aria-label="4. Development (Optional)">4. Development (Optional)</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#testing" aria-label="Testing">Testing</a><ul>
                        
                <li>
                    <a href="#testing-framework-overview" aria-label="Testing Framework Overview">Testing Framework Overview</a><ul>
                        
                <li>
                    <a href="#1-testing-directory-structure" aria-label="1. Testing Directory Structure">1. Testing Directory Structure</a></li>
                <li>
                    <a href="#2-test-categories" aria-label="2. Test Categories">2. Test Categories</a><ul>
                        
                <li>
                    <a href="#unit-tests" aria-label="Unit Tests">Unit Tests</a></li>
                <li>
                    <a href="#integration-tests" aria-label="Integration Tests">Integration Tests</a></li>
                <li>
                    <a href="#performance-tests" aria-label="Performance Tests">Performance Tests</a></li></ul>
                </li>
                <li>
                    <a href="#3-test-configuration" aria-label="3. Test Configuration">3. Test Configuration</a><ul>
                        
                <li>
                    <a href="#pytest-configuration-1" aria-label="Pytest Configuration">Pytest Configuration</a></li>
                <li>
                    <a href="#coverage-configuration" aria-label="Coverage Configuration">Coverage Configuration</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#quality-assurance-tools" aria-label="Quality Assurance Tools">Quality Assurance Tools</a><ul>
                        
                <li>
                    <a href="#1-code-style-and-formatting" aria-label="1. Code Style and Formatting">1. Code Style and Formatting</a><ul>
                        
                <li>
                    <a href="#black-configuration" aria-label="Black Configuration">Black Configuration</a></li>
                <li>
                    <a href="#flake8-configuration" aria-label="Flake8 Configuration">Flake8 Configuration</a></li></ul>
                </li>
                <li>
                    <a href="#2-type-checking" aria-label="2. Type Checking">2. Type Checking</a><ul>
                        
                <li>
                    <a href="#mypy-configuration" aria-label="Mypy Configuration">Mypy Configuration</a></li></ul>
                </li>
                <li>
                    <a href="#3-security-scanning" aria-label="3. Security Scanning">3. Security Scanning</a><ul>
                        
                <li>
                    <a href="#bandit-configuration" aria-label="Bandit Configuration">Bandit Configuration</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#test-writing-guidelines" aria-label="Test Writing Guidelines">Test Writing Guidelines</a><ul>
                        
                <li>
                    <a href="#1-test-structure" aria-label="1. Test Structure">1. Test Structure</a></li>
                <li>
                    <a href="#2-test-fixtures" aria-label="2. Test Fixtures">2. Test Fixtures</a></li>
                <li>
                    <a href="#3-mocking-strategies" aria-label="3. Mocking Strategies">3. Mocking Strategies</a></li></ul>
                </li>
                <li>
                    <a href="#continuous-integration" aria-label="Continuous Integration">Continuous Integration</a><ul>
                        
                <li>
                    <a href="#1-github-actions-configuration" aria-label="1. GitHub Actions Configuration">1. GitHub Actions Configuration</a></li></ul>
                </li>
                <li>
                    <a href="#best-practices-1" aria-label="Best Practices">Best Practices</a><ul>
                        
                <li>
                    <a href="#1-testing-principles" aria-label="1. Testing Principles">1. Testing Principles</a></li>
                <li>
                    <a href="#2-coverage-goals" aria-label="2. Coverage Goals">2. Coverage Goals</a></li>
                <li>
                    <a href="#3-performance-testing" aria-label="3. Performance Testing">3. Performance Testing</a></li>
                <li>
                    <a href="#4-quality-metrics" aria-label="4. Quality Metrics">4. Quality Metrics</a></li>
                <li>
                    <a href="#5-continuous-improvement" aria-label="5. Continuous Improvement">5. Continuous Improvement</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#standards" aria-label="Standards">Standards</a><ul>
                        
                <li>
                    <a href="#documentation-structure" aria-label="Documentation Structure">Documentation Structure</a><ul>
                        
                <li>
                    <a href="#1-documentation-directory-layout" aria-label="1. Documentation Directory Layout">1. Documentation Directory Layout</a></li>
                <li>
                    <a href="#2-documentation-types" aria-label="2. Documentation Types">2. Documentation Types</a><ul>
                        
                <li>
                    <a href="#api-documentation" aria-label="API Documentation">API Documentation</a></li>
                <li>
                    <a href="#user-guides" aria-label="User Guides">User Guides</a></li>
                <li>
                    <a href="#tutorials" aria-label="Tutorials">Tutorials</a></li></ul>
                </li>
                <li>
                    <a href="#3-documentation-standards" aria-label="3. Documentation Standards">3. Documentation Standards</a><ul>
                        
                <li>
                    <a href="#docstring-format" aria-label="Docstring Format">Docstring Format</a></li>
                <li>
                    <a href="#documentation-checklist" aria-label="Documentation Checklist">Documentation Checklist</a></li></ul>
                </li>
                <li>
                    <a href="#4-sphinx-configuration" aria-label="4. Sphinx Configuration">4. Sphinx Configuration</a></li></ul>
                </li>
                <li>
                    <a href="#documentation-best-practices" aria-label="Documentation Best Practices">Documentation Best Practices</a><ul>
                        
                <li>
                    <a href="#1-writing-guidelines" aria-label="1. Writing Guidelines">1. Writing Guidelines</a></li>
                <li>
                    <a href="#2-code-examples" aria-label="2. Code Examples">2. Code Examples</a></li>
                <li>
                    <a href="#3-version-management" aria-label="3. Version Management">3. Version Management</a></li>
                <li>
                    <a href="#4-documentation-testing" aria-label="4. Documentation Testing">4. Documentation Testing</a></li></ul>
                </li>
                <li>
                    <a href="#documentation-workflow" aria-label="Documentation Workflow">Documentation Workflow</a><ul>
                        
                <li>
                    <a href="#1-development-process" aria-label="1. Development Process">1. Development Process</a></li>
                <li>
                    <a href="#2-review-process" aria-label="2. Review Process">2. Review Process</a></li>
                <li>
                    <a href="#3-publishing-workflow" aria-label="3. Publishing Workflow">3. Publishing Workflow</a></li></ul>
                </li>
                <li>
                    <a href="#advanced-documentation-features" aria-label="Advanced Documentation Features">Advanced Documentation Features</a><ul>
                        
                <li>
                    <a href="#1-interactive-examples" aria-label="1. Interactive Examples">1. Interactive Examples</a></li>
                <li>
                    <a href="#2-api-versioning" aria-label="2. API Versioning">2. API Versioning</a></li>
                <li>
                    <a href="#3-documentation-generation" aria-label="3. Documentation Generation">3. Documentation Generation</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#ci--cd" aria-label="CI / CD">CI / CD</a><ul>
                        
                <li>
                    <a href="#cicd-infrastructure-overview" aria-label="CI/CD Infrastructure Overview">CI/CD Infrastructure Overview</a><ul>
                        
                <li>
                    <a href="#1-cicd-pipeline-structure" aria-label="1. CI/CD Pipeline Structure">1. CI/CD Pipeline Structure</a></li>
                <li>
                    <a href="#2-core-pipeline-components" aria-label="2. Core Pipeline Components">2. Core Pipeline Components</a><ul>
                        
                <li>
                    <a href="#continuous-integration-pipeline" aria-label="Continuous Integration Pipeline">Continuous Integration Pipeline</a></li>
                <li>
                    <a href="#release-pipeline" aria-label="Release Pipeline">Release Pipeline</a></li></ul>
                </li>
                <li>
                    <a href="#3-environment-configurations" aria-label="3. Environment Configurations">3. Environment Configurations</a><ul>
                        
                <li>
                    <a href="#development-environment" aria-label="Development Environment">Development Environment</a></li>
                <li>
                    <a href="#testing-environment" aria-label="Testing Environment">Testing Environment</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#pipeline-components" aria-label="Pipeline Components">Pipeline Components</a><ul>
                        
                <li>
                    <a href="#1-code-quality-checks" aria-label="1. Code Quality Checks">1. Code Quality Checks</a><ul>
                        
                <li>
                    <a href="#style-checking" aria-label="Style Checking">Style Checking</a></li>
                <li>
                    <a href="#type-checking" aria-label="Type Checking">Type Checking</a></li>
                <li>
                    <a href="#security-scanning" aria-label="Security Scanning">Security Scanning</a></li></ul>
                </li>
                <li>
                    <a href="#2-testing-framework" aria-label="2. Testing Framework">2. Testing Framework</a><ul>
                        
                <li>
                    <a href="#test-execution" aria-label="Test Execution">Test Execution</a></li>
                <li>
                    <a href="#performance-testing" aria-label="Performance Testing">Performance Testing</a></li></ul>
                </li>
                <li>
                    <a href="#3-documentation" aria-label="3. Documentation">3. Documentation</a><ul>
                        
                <li>
                    <a href="#documentation-build" aria-label="Documentation Build">Documentation Build</a></li>
                <li>
                    <a href="#documentation-deployment" aria-label="Documentation Deployment">Documentation Deployment</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#deployment-strategies" aria-label="Deployment Strategies">Deployment Strategies</a><ul>
                        
                <li>
                    <a href="#1-version-management" aria-label="1. Version Management">1. Version Management</a><ul>
                        
                <li>
                    <a href="#version-bumping" aria-label="Version Bumping">Version Bumping</a></li>
                <li>
                    <a href="#release-workflow" aria-label="Release Workflow">Release Workflow</a></li></ul>
                </li>
                <li>
                    <a href="#2-package-distribution" aria-label="2. Package Distribution">2. Package Distribution</a><ul>
                        
                <li>
                    <a href="#build-configuration" aria-label="Build Configuration">Build Configuration</a></li>
                <li>
                    <a href="#distribution-script" aria-label="Distribution Script">Distribution Script</a></li></ul>
                </li>
                <li>
                    <a href="#3-environment-management" aria-label="3. Environment Management">3. Environment Management</a><ul>
                        
                <li>
                    <a href="#docker-build" aria-label="Docker Build">Docker Build</a></li>
                <li>
                    <a href="#container-deployment" aria-label="Container Deployment">Container Deployment</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#best-practices-2" aria-label="Best Practices">Best Practices</a><ul>
                        
                <li>
                    <a href="#1-pipeline-design" aria-label="1. Pipeline Design">1. Pipeline Design</a></li>
                <li>
                    <a href="#2-environment-management" aria-label="2. Environment Management">2. Environment Management</a></li>
                <li>
                    <a href="#3-deployment-strategy" aria-label="3. Deployment Strategy">3. Deployment Strategy</a></li>
                <li>
                    <a href="#4-security-considerations" aria-label="4. Security Considerations">4. Security Considerations</a></li></ul>
                </li>
                <li>
                    <a href="#advanced-topics" aria-label="Advanced Topics">Advanced Topics</a><ul>
                        
                <li>
                    <a href="#1-matrix-testing" aria-label="1. Matrix Testing">1. Matrix Testing</a></li>
                <li>
                    <a href="#2-performance-monitoring" aria-label="2. Performance Monitoring">2. Performance Monitoring</a></li>
                <li>
                    <a href="#3-automated-releases" aria-label="3. Automated Releases">3. Automated Releases</a></li>
                <li>
                    <a href="#4-quality-gates" aria-label="4. Quality Gates">4. Quality Gates</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#distribution--releases" aria-label="Distribution &amp; Releases">Distribution &amp; Releases</a><ul>
                        
                <li>
                    <a href="#package-distribution-structure" aria-label="Package Distribution Structure">Package Distribution Structure</a><ul>
                        
                <li>
                    <a href="#1-package-configuration-files" aria-label="1. Package Configuration Files">1. Package Configuration Files</a><ul>
                        
                <li>
                    <a href="#project-configuration" aria-label="Project Configuration">Project Configuration</a></li>
                <li>
                    <a href="#package-manifest" aria-label="Package Manifest">Package Manifest</a></li></ul>
                </li>
                <li>
                    <a href="#2-version-management" aria-label="2. Version Management">2. Version Management</a><ul>
                        
                <li>
                    <a href="#version-file" aria-label="Version File">Version File</a></li></ul>
                </li>
                <li>
                    <a href="#3-release-process" aria-label="3. Release Process">3. Release Process</a><ul>
                        
                <li>
                    <a href="#release-workflow-1" aria-label="Release Workflow">Release Workflow</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#distribution-best-practices" aria-label="Distribution Best Practices">Distribution Best Practices</a><ul>
                        
                <li>
                    <a href="#1-package-organization" aria-label="1. Package Organization">1. Package Organization</a><ul>
                        
                <li>
                    <a href="#directory-structure-best-practices" aria-label="Directory Structure Best Practices">Directory Structure Best Practices</a></li>
                <li>
                    <a href="#package-data-management" aria-label="Package Data Management">Package Data Management</a></li></ul>
                </li>
                <li>
                    <a href="#2-distribution-strategy" aria-label="2. Distribution Strategy">2. Distribution Strategy</a><ul>
                        
                <li>
                    <a href="#build-process" aria-label="Build Process">Build Process</a></li></ul>
                </li>
                <li>
                    <a href="#3-release-management" aria-label="3. Release Management">3. Release Management</a><ul>
                        
                <li>
                    <a href="#release-checklist" aria-label="Release Checklist">Release Checklist</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#advanced-distribution-topics" aria-label="Advanced Distribution Topics">Advanced Distribution Topics</a><ul>
                        
                <li>
                    <a href="#1-continuous-delivery" aria-label="1. Continuous Delivery">1. Continuous Delivery</a><ul>
                        
                <li>
                    <a href="#automated-release-pipeline" aria-label="Automated Release Pipeline">Automated Release Pipeline</a></li></ul>
                </li>
                <li>
                    <a href="#2-multi-platform-support" aria-label="2. Multi-platform Support">2. Multi-platform Support</a><ul>
                        
                <li>
                    <a href="#platform-specific-dependencies" aria-label="Platform-specific Dependencies">Platform-specific Dependencies</a></li></ul>
                </li>
                <li>
                    <a href="#3-binary-distribution" aria-label="3. Binary Distribution">3. Binary Distribution</a><ul>
                        
                <li>
                    <a href="#binary-build-configuration" aria-label="Binary Build Configuration">Binary Build Configuration</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#distribution-security" aria-label="Distribution Security">Distribution Security</a><ul>
                        
                <li>
                    <a href="#1-package-signing" aria-label="1. Package Signing">1. Package Signing</a><ul>
                        
                <li>
                    <a href="#gpg-signing-configuration" aria-label="GPG Signing Configuration">GPG Signing Configuration</a></li></ul>
                </li>
                <li>
                    <a href="#2-dependency-security" aria-label="2. Dependency Security">2. Dependency Security</a><ul>
                        
                <li>
                    <a href="#requirements-scanning" aria-label="Requirements Scanning">Requirements Scanning</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#best-practices-summary" aria-label="Best Practices Summary">Best Practices Summary</a><ul>
                        
                <li>
                    <a href="#1-version-management-1" aria-label="1. Version Management">1. Version Management</a></li>
                <li>
                    <a href="#2-distribution-process" aria-label="2. Distribution Process">2. Distribution Process</a></li>
                <li>
                    <a href="#3-release-strategy" aria-label="3. Release Strategy">3. Release Strategy</a></li>
                <li>
                    <a href="#4-security-considerations-1" aria-label="4. Security Considerations">4. Security Considerations</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#optimization" aria-label="Optimization">Optimization</a><ul>
                        
                <li>
                    <a href="#performance-optimization-framework" aria-label="Performance Optimization Framework">Performance Optimization Framework</a><ul>
                        
                <li>
                    <a href="#1-performance-monitoring-infrastructure" aria-label="1. Performance Monitoring Infrastructure">1. Performance Monitoring Infrastructure</a><ul>
                        
                <li>
                    <a href="#profiling-setup" aria-label="Profiling Setup">Profiling Setup</a></li></ul>
                </li>
                <li>
                    <a href="#2-memory-management" aria-label="2. Memory Management">2. Memory Management</a><ul>
                        
                <li>
                    <a href="#memory-tracker" aria-label="Memory Tracker">Memory Tracker</a></li></ul>
                </li>
                <li>
                    <a href="#3-resource-management" aria-label="3. Resource Management">3. Resource Management</a><ul>
                        
                <li>
                    <a href="#resource-pool" aria-label="Resource Pool">Resource Pool</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#performance-optimization-techniques" aria-label="Performance Optimization Techniques">Performance Optimization Techniques</a><ul>
                        
                <li>
                    <a href="#1-computation-optimization" aria-label="1. Computation Optimization">1. Computation Optimization</a><ul>
                        
                <li>
                    <a href="#memoization" aria-label="Memoization">Memoization</a></li></ul>
                </li>
                <li>
                    <a href="#2-data-structure-optimization" aria-label="2. Data Structure Optimization">2. Data Structure Optimization</a><ul>
                        
                <li>
                    <a href="#efficient-collections" aria-label="Efficient Collections">Efficient Collections</a></li></ul>
                </li>
                <li>
                    <a href="#3-io-optimization" aria-label="3. I/O Optimization">3. I/O Optimization</a><ul>
                        
                <li>
                    <a href="#efficient-file-handling" aria-label="Efficient File Handling">Efficient File Handling</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#resource-management-best-practices" aria-label="Resource Management Best Practices">Resource Management Best Practices</a><ul>
                        
                <li>
                    <a href="#1-memory-management" aria-label="1. Memory Management">1. Memory Management</a><ul>
                        
                <li>
                    <a href="#best-practices-implementation" aria-label="Best Practices Implementation">Best Practices Implementation</a></li></ul>
                </li>
                <li>
                    <a href="#2-thread-management" aria-label="2. Thread Management">2. Thread Management</a><ul>
                        
                <li>
                    <a href="#thread-pool-implementation" aria-label="Thread Pool Implementation">Thread Pool Implementation</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#performance-monitoring-and-profiling" aria-label="Performance Monitoring and Profiling">Performance Monitoring and Profiling</a><ul>
                        
                <li>
                    <a href="#1-performance-metrics-collection" aria-label="1. Performance Metrics Collection">1. Performance Metrics Collection</a><ul>
                        
                <li>
                    <a href="#metrics-collector" aria-label="Metrics Collector">Metrics Collector</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#best-practices-summary-1" aria-label="Best Practices Summary">Best Practices Summary</a><ul>
                        
                <li>
                    <a href="#1-performance-optimization" aria-label="1. Performance Optimization">1. Performance Optimization</a></li>
                <li>
                    <a href="#2-resource-management" aria-label="2. Resource Management">2. Resource Management</a></li>
                <li>
                    <a href="#3-memory-management" aria-label="3. Memory Management">3. Memory Management</a></li>
                <li>
                    <a href="#4-threading-and-concurrency" aria-label="4. Threading and Concurrency">4. Threading and Concurrency</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#security--errors" aria-label="Security &amp; Errors">Security &amp; Errors</a><ul>
                        
                <li>
                    <a href="#security-framework" aria-label="Security Framework">Security Framework</a><ul>
                        
                <li>
                    <a href="#1-exception-hierarchy" aria-label="1. Exception Hierarchy">1. Exception Hierarchy</a></li>
                <li>
                    <a href="#2-input-validation" aria-label="2. Input Validation">2. Input Validation</a><ul>
                        
                <li>
                    <a href="#validation-framework" aria-label="Validation Framework">Validation Framework</a></li></ul>
                </li>
                <li>
                    <a href="#3-security-auditing" aria-label="3. Security Auditing">3. Security Auditing</a><ul>
                        
                <li>
                    <a href="#audit-logger" aria-label="Audit Logger">Audit Logger</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#error-handling-patterns" aria-label="Error Handling Patterns">Error Handling Patterns</a><ul>
                        
                <li>
                    <a href="#1-context-managers" aria-label="1. Context Managers">1. Context Managers</a><ul>
                        
                <li>
                    <a href="#error-context" aria-label="Error Context">Error Context</a></li></ul>
                </li>
                <li>
                    <a href="#2-error-recovery" aria-label="2. Error Recovery">2. Error Recovery</a><ul>
                        
                <li>
                    <a href="#recovery-strategies" aria-label="Recovery Strategies">Recovery Strategies</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#security-best-practices" aria-label="Security Best Practices">Security Best Practices</a><ul>
                        
                <li>
                    <a href="#1-authentication-and-authorization" aria-label="1. Authentication and Authorization">1. Authentication and Authorization</a><ul>
                        
                <li>
                    <a href="#security-decorator" aria-label="Security Decorator">Security Decorator</a></li></ul>
                </li>
                <li>
                    <a href="#2-secure-configuration" aria-label="2. Secure Configuration">2. Secure Configuration</a><ul>
                        
                <li>
                    <a href="#configuration-manager" aria-label="Configuration Manager">Configuration Manager</a></li></ul>
                </li>
                <li>
                    <a href="#3-data-sanitization" aria-label="3. Data Sanitization">3. Data Sanitization</a><ul>
                        
                <li>
                    <a href="#input-sanitizer" aria-label="Input Sanitizer">Input Sanitizer</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#best-practices-implementation-1" aria-label="Best Practices Implementation">Best Practices Implementation</a><ul>
                        
                <li>
                    <a href="#1-error-handling-guidelines" aria-label="1. Error Handling Guidelines">1. Error Handling Guidelines</a></li>
                <li>
                    <a href="#2-security-guidelines" aria-label="2. Security Guidelines">2. Security Guidelines</a></li>
                <li>
                    <a href="#3-recovery-strategies" aria-label="3. Recovery Strategies">3. Recovery Strategies</a></li>
                <li>
                    <a href="#4-logging-and-monitoring" aria-label="4. Logging and Monitoring">4. Logging and Monitoring</a></li></ul>
                </li>
                <li>
                    <a href="#security-and-error-prevention" aria-label="Security and Error Prevention">Security and Error Prevention</a><ul>
                        
                <li>
                    <a href="#1-code-analysis-tools" aria-label="1. Code Analysis Tools">1. Code Analysis Tools</a></li>
                <li>
                    <a href="#2-testing-practices" aria-label="2. Testing Practices">2. Testing Practices</a></li>
                <li>
                    <a href="#3-documentation-1" aria-label="3. Documentation">3. Documentation</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#community--maintenance" aria-label="Community &amp; Maintenance">Community &amp; Maintenance</a><ul>
                        
                <li>
                    <a href="#community-infrastructure" aria-label="Community Infrastructure">Community Infrastructure</a><ul>
                        
                <li>
                    <a href="#1-issue-management" aria-label="1. Issue Management">1. Issue Management</a><ul>
                        
                <li>
                    <a href="#issue-templates" aria-label="Issue Templates">Issue Templates</a></li>
                <li>
                    <a href="#feature-request-template" aria-label="Feature Request Template">Feature Request Template</a></li></ul>
                </li>
                <li>
                    <a href="#2-pull-request-management" aria-label="2. Pull Request Management">2. Pull Request Management</a><ul>
                        
                <li>
                    <a href="#pr-template" aria-label="PR Template">PR Template</a></li>
                <li>
                    <a href="#pr-review-guidelines" aria-label="PR Review Guidelines">PR Review Guidelines</a></li></ul>
                </li>
                <li>
                    <a href="#3-community-guidelines" aria-label="3. Community Guidelines">3. Community Guidelines</a><ul>
                        
                <li>
                    <a href="#code-of-conduct" aria-label="Code of Conduct">Code of Conduct</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#maintenance-framework" aria-label="Maintenance Framework">Maintenance Framework</a><ul>
                        
                <li>
                    <a href="#1-version-management-2" aria-label="1. Version Management">1. Version Management</a><ul>
                        
                <li>
                    <a href="#release-checklist-1" aria-label="Release Checklist">Release Checklist</a></li></ul>
                </li>
                <li>
                    <a href="#2-documentation-maintenance" aria-label="2. Documentation Maintenance">2. Documentation Maintenance</a><ul>
                        
                <li>
                    <a href="#documentation-review-system" aria-label="Documentation Review System">Documentation Review System</a></li></ul>
                </li>
                <li>
                    <a href="#3-community-engagement" aria-label="3. Community Engagement">3. Community Engagement</a><ul>
                        
                <li>
                    <a href="#communication-templates" aria-label="Communication Templates">Communication Templates</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#community-management-best-practices" aria-label="Community Management Best Practices">Community Management Best Practices</a><ul>
                        
                <li>
                    <a href="#1-issue-management-1" aria-label="1. Issue Management">1. Issue Management</a></li>
                <li>
                    <a href="#2-pull-request-management-1" aria-label="2. Pull Request Management">2. Pull Request Management</a></li>
                <li>
                    <a href="#3-community-support" aria-label="3. Community Support">3. Community Support</a></li>
                <li>
                    <a href="#4-release-management" aria-label="4. Release Management">4. Release Management</a></li></ul>
                </li>
                <li>
                    <a href="#maintenance-best-practices" aria-label="Maintenance Best Practices">Maintenance Best Practices</a><ul>
                        
                <li>
                    <a href="#1-code-maintenance" aria-label="1. Code Maintenance">1. Code Maintenance</a></li>
                <li>
                    <a href="#2-documentation-updates" aria-label="2. Documentation Updates">2. Documentation Updates</a></li>
                <li>
                    <a href="#3-community-growth" aria-label="3. Community Growth">3. Community Growth</a></li>
                <li>
                    <a href="#4-quality-assurance" aria-label="4. Quality Assurance">4. Quality Assurance</a></li></ul>
                </li>
                <li>
                    <a href="#long-term-sustainability" aria-label="Long-term Sustainability">Long-term Sustainability</a><ul>
                        
                <li>
                    <a href="#1-project-planning" aria-label="1. Project Planning">1. Project Planning</a></li>
                <li>
                    <a href="#2-knowledge-transfer" aria-label="2. Knowledge Transfer">2. Knowledge Transfer</a></li>
                <li>
                    <a href="#3-community-building" aria-label="3. Community Building">3. Community Building</a>
                </li>
            </ul>
            </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="architecture">Architecture<a hidden class="anchor" aria-hidden="true" href="#architecture">#</a></h1>
<h2 id="complete-package-structure">Complete Package Structure<a hidden class="anchor" aria-hidden="true" href="#complete-package-structure">#</a></h2>
<pre tabindex="0"><code>your_package/
├── .github/                     # GitHub-specific configurations
│   ├── ISSUE_TEMPLATE/         # Issue templates
│   │   ├── bug_report.md      # Bug report template
│   │   └── feature_request.md  # Feature request template
│   └── workflows/              # GitHub Actions workflows
│       ├── tests.yml          # Testing workflow
│       ├── publish.yml        # Publishing workflow
│       └── docs.yml           # Documentation workflow
│
├── docs/                       # Documentation
│   ├── _static/               # Static files for documentation
│   ├── _templates/            # Documentation templates
│   ├── api/                   # API documentation
│   ├── examples/              # Example galleries
│   ├── tutorials/             # Tutorial documents
│   ├── conf.py               # Sphinx configuration
│   └── index.rst             # Documentation root
│
├── examples/                   # Example scripts and notebooks
│   ├── basic/                # Basic usage examples
│   └── advanced/             # Advanced usage examples
│
├── src/                       # Source code directory
│   └── your_package/         # Main package directory
│       ├── __init__.py       # Package initialization
│       ├── _version.py       # Version information
│       ├── _typing.py        # Type definitions
│       ├── _config.py        # Configuration management
│       │
│       ├── core/             # Core functionality
│       │   ├── __init__.py
│       │   ├── base.py       # Base classes
│       │   ├── exceptions.py # Custom exceptions
│       │   └── registry.py   # Component registry
│       │
│       ├── interfaces/       # Public interfaces
│       │   ├── __init__.py
│       │   └── protocols.py  # Interface definitions
│       │
│       ├── utils/            # Utility functions
│       │   ├── __init__.py
│       │   ├── decorators.py # Utility decorators
│       │   ├── validation.py # Input validation
│       │   └── helpers.py    # Helper functions
│       │
│       ├── io/               # Input/Output operations
│       │   ├── __init__.py
│       │   ├── readers.py    # Data readers
│       │   └── writers.py    # Data writers
│       │
│       ├── processing/       # Data processing
│       │   ├── __init__.py
│       │   ├── pipeline.py   # Processing pipeline
│       │   └── transforms.py # Data transformations
│       │
│       └── cli/              # Command-line interface
│           ├── __init__.py
│           └── commands.py   # CLI commands
│
├── tests/                     # Test suite
│   ├── conftest.py           # Test configuration
│   ├── unit/                 # Unit tests
│   │   ├── test_core.py
│   │   └── test_utils.py
│   ├── integration/          # Integration tests
│   │   └── test_pipeline.py
│   └── data/                 # Test data
│
├── benchmarks/               # Performance benchmarks
│   ├── benchmarks.py        # Benchmark definitions
│   └── data/                # Benchmark data
│
├── requirements/             # Dependency specifications
│   ├── base.txt             # Core requirements
│   ├── dev.txt             # Development requirements
│   ├── docs.txt            # Documentation requirements
│   └── test.txt            # Test requirements
│
├── scripts/                  # Development scripts
│   ├── lint.sh             # Linting script
│   └── build_docs.sh       # Documentation build script
│
├── .gitignore              # Git ignore patterns
├── .pre-commit-config.yaml # Pre-commit hooks
├── pyproject.toml         # Project metadata and build
├── setup.py              # Package setup script
├── setup.cfg            # Package configuration
├── MANIFEST.in          # Package manifest
├── README.md           # Project readme
├── LICENSE            # License file
└── CHANGELOG.md       # Version changelog
</code></pre><h2 id="core-components-and-their-purposes">Core Components and Their Purposes<a hidden class="anchor" aria-hidden="true" href="#core-components-and-their-purposes">#</a></h2>
<h3 id="1-package-root-srcyour_package">1. Package Root (<code>src/your_package/</code>)<a hidden class="anchor" aria-hidden="true" href="#1-package-root-srcyour_package">#</a></h3>
<p>The main package directory contains core implementation and public interfaces.</p>
<p><strong>Key Components:</strong></p>
<ul>
<li><code>__init__.py</code>: Package initialization and public API</li>
<li><code>_version.py</code>: Version management</li>
<li><code>_typing.py</code>: Type definitions and protocols</li>
<li><code>_config.py</code>: Configuration management</li>
</ul>
<h3 id="2-core-module-core">2. Core Module (<code>core/</code>)<a hidden class="anchor" aria-hidden="true" href="#2-core-module-core">#</a></h3>
<p>Contains fundamental implementations and base classes.</p>
<p><strong>Purpose:</strong></p>
<ul>
<li>Define base abstractions</li>
<li>Implement core algorithms</li>
<li>Manage component lifecycle</li>
<li>Handle error conditions</li>
</ul>
<p><strong>Example Core Component:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Protocol</span><span class="p">,</span> <span class="n">TypeVar</span><span class="p">,</span> <span class="n">Generic</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">T</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Component</span><span class="p">(</span><span class="n">Protocol</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Base protocol for all components.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Initialize the component.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="o">...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">cleanup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Clean up component resources.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="o">...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Registry</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Registry for managing components.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">register</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">component</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Register a component.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="o">...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Retrieve a registered component.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="o">...</span>
</span></span></code></pre></div><h3 id="3-interfaces-interfaces">3. Interfaces (<code>interfaces/</code>)<a hidden class="anchor" aria-hidden="true" href="#3-interfaces-interfaces">#</a></h3>
<p>Public API definitions and protocols.</p>
<p><strong>Purpose:</strong></p>
<ul>
<li>Define public contracts</li>
<li>Specify type protocols</li>
<li>Document API stability</li>
<li>Manage backward compatibility</li>
</ul>
<p><strong>Example Interface:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Protocol</span><span class="p">,</span> <span class="n">Sequence</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">DataSource</span><span class="p">(</span><span class="n">Protocol</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Protocol for data sources.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Establish connection to data source.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="o">...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">since</span><span class="p">:</span> <span class="n">datetime</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Read data from source.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="o">...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">disconnect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Close connection to data source.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="o">...</span>
</span></span></code></pre></div><h3 id="4-processing-processing">4. Processing (<code>processing/</code>)<a hidden class="anchor" aria-hidden="true" href="#4-processing-processing">#</a></h3>
<p>Data transformation and processing logic.</p>
<p><strong>Purpose:</strong></p>
<ul>
<li>Implement transformations</li>
<li>Define processing pipelines</li>
<li>Handle data validation</li>
<li>Manage computation flow</li>
</ul>
<h3 id="5-inputoutput-io">5. Input/Output (<code>io/</code>)<a hidden class="anchor" aria-hidden="true" href="#5-inputoutput-io">#</a></h3>
<p>Data reading and writing operations.</p>
<p><strong>Purpose:</strong></p>
<ul>
<li>File operations</li>
<li>Network communication</li>
<li>Data serialization</li>
<li>Format conversion</li>
</ul>
<h3 id="6-utilities-utils">6. Utilities (<code>utils/</code>)<a hidden class="anchor" aria-hidden="true" href="#6-utilities-utils">#</a></h3>
<p>Shared helper functions and tools.</p>
<p><strong>Purpose:</strong></p>
<ul>
<li>Common operations</li>
<li>Helper functions</li>
<li>Decorators</li>
<li>Validation tools</li>
</ul>
<h2 id="module-interaction-principles">Module Interaction Principles<a hidden class="anchor" aria-hidden="true" href="#module-interaction-principles">#</a></h2>
<h3 id="1-dependency-flow">1. Dependency Flow<a hidden class="anchor" aria-hidden="true" href="#1-dependency-flow">#</a></h3>
<p>Dependencies should flow inward:</p>
<ul>
<li>Core modules have minimal dependencies</li>
<li>Outer layers depend on inner layers</li>
<li>Avoid circular dependencies</li>
<li>Use dependency injection</li>
</ul>
<h3 id="2-interface-stability">2. Interface Stability<a hidden class="anchor" aria-hidden="true" href="#2-interface-stability">#</a></h3>
<p>Maintain stable public interfaces:</p>
<ul>
<li>Versioned APIs</li>
<li>Deprecation policies</li>
<li>Compatibility layers</li>
<li>Migration tools</li>
</ul>
<h3 id="3-extension-points">3. Extension Points<a hidden class="anchor" aria-hidden="true" href="#3-extension-points">#</a></h3>
<p>Support customization and extension:</p>
<ul>
<li>Plugin systems</li>
<li>Hook points</li>
<li>Custom implementations</li>
<li>Configuration options</li>
</ul>
<h2 id="best-practices-by-component">Best Practices by Component<a hidden class="anchor" aria-hidden="true" href="#best-practices-by-component">#</a></h2>
<h3 id="1-core-module">1. Core Module<a hidden class="anchor" aria-hidden="true" href="#1-core-module">#</a></h3>
<ul>
<li>Minimize external dependencies</li>
<li>Focus on abstractions</li>
<li>Maintain backward compatibility</li>
<li>Document thoroughly</li>
</ul>
<h3 id="2-processing-module">2. Processing Module<a hidden class="anchor" aria-hidden="true" href="#2-processing-module">#</a></h3>
<ul>
<li>Clear data contracts</li>
<li>Error handling</li>
<li>Progress tracking</li>
<li>Resource management</li>
</ul>
<h3 id="3-io-module">3. IO Module<a hidden class="anchor" aria-hidden="true" href="#3-io-module">#</a></h3>
<ul>
<li>Resource cleanup</li>
<li>Error recovery</li>
<li>Performance optimization</li>
<li>Format validation</li>
</ul>
<h3 id="4-utilities">4. Utilities<a hidden class="anchor" aria-hidden="true" href="#4-utilities">#</a></h3>
<ul>
<li>Function purity</li>
<li>Error handling</li>
<li>Documentation</li>
<li>Type hints</li>
</ul>
<h2 id="advanced-considerations">Advanced Considerations<a hidden class="anchor" aria-hidden="true" href="#advanced-considerations">#</a></h2>
<h3 id="1-thread-safety">1. Thread Safety<a hidden class="anchor" aria-hidden="true" href="#1-thread-safety">#</a></h3>
<ul>
<li>Thread-safe implementations</li>
<li>Resource locking</li>
<li>Concurrent access</li>
<li>State isolation</li>
</ul>
<h3 id="2-performance">2. Performance<a hidden class="anchor" aria-hidden="true" href="#2-performance">#</a></h3>
<ul>
<li>Lazy loading</li>
<li>Caching strategies</li>
<li>Resource pooling</li>
<li>Memory management</li>
</ul>
<h3 id="3-error-handling">3. Error Handling<a hidden class="anchor" aria-hidden="true" href="#3-error-handling">#</a></h3>
<ul>
<li>Error hierarchies</li>
<li>Recovery strategies</li>
<li>Logging</li>
<li>Debugging support</li>
</ul>
<h2 id="testing-strategy">Testing Strategy<a hidden class="anchor" aria-hidden="true" href="#testing-strategy">#</a></h2>
<h3 id="1-unit-tests">1. Unit Tests<a hidden class="anchor" aria-hidden="true" href="#1-unit-tests">#</a></h3>
<ul>
<li>Component isolation</li>
<li>Edge cases</li>
<li>Error conditions</li>
<li>Performance checks</li>
</ul>
<h3 id="2-integration-tests">2. Integration Tests<a hidden class="anchor" aria-hidden="true" href="#2-integration-tests">#</a></h3>
<ul>
<li>Component interaction</li>
<li>End-to-end workflows</li>
<li>Resource management</li>
<li>Error propagation</li>
</ul>
<h3 id="3-performance-tests">3. Performance Tests<a hidden class="anchor" aria-hidden="true" href="#3-performance-tests">#</a></h3>
<ul>
<li>Benchmarks</li>
<li>Memory usage</li>
<li>CPU utilization</li>
<li>Scalability tests</li>
</ul>
<h1 id="environment--tools">Environment &amp; Tools<a hidden class="anchor" aria-hidden="true" href="#environment--tools">#</a></h1>
<h2 id="development-environment-foundation">Development Environment Foundation<a hidden class="anchor" aria-hidden="true" href="#development-environment-foundation">#</a></h2>
<h3 id="1-python-version-management">1. Python Version Management<a hidden class="anchor" aria-hidden="true" href="#1-python-version-management">#</a></h3>
<h4 id="pyenv">Pyenv<a hidden class="anchor" aria-hidden="true" href="#pyenv">#</a></h4>
<p>The foundation of version management:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Installation structure</span>
</span></span><span class="line"><span class="cl">~/.pyenv/
</span></span><span class="line"><span class="cl">├── versions/          <span class="c1"># Python versions</span>
</span></span><span class="line"><span class="cl">├── shims/            <span class="c1"># Command shims</span>
</span></span><span class="line"><span class="cl">└── plugins/          <span class="c1"># Pyenv plugins</span>
</span></span></code></pre></div><p><strong>Key Features:</strong></p>
<ul>
<li>Multiple Python versions</li>
<li>Project-specific versions</li>
<li>Automatic version switching</li>
<li>Virtual environment integration</li>
</ul>
<p><strong>Best Practices:</strong></p>
<ul>
<li>Use <code>.python-version</code> file per project</li>
<li>Install latest stable releases</li>
<li>Keep global packages minimal</li>
<li>Include version in CI/CD</li>
</ul>
<h3 id="2-virtual-environment-management">2. Virtual Environment Management<a hidden class="anchor" aria-hidden="true" href="#2-virtual-environment-management">#</a></h3>
<h4 id="poetry">Poetry<a hidden class="anchor" aria-hidden="true" href="#poetry">#</a></h4>
<p>Modern dependency management:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="p">[</span><span class="nx">tool</span><span class="p">.</span><span class="nx">poetry</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;your-package&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">version</span> <span class="p">=</span> <span class="s2">&#34;0.1.0&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">description</span> <span class="p">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">authors</span> <span class="p">=</span> <span class="p">[</span><span class="s2">&#34;Your Name &lt;your.email@example.com&gt;&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">tool</span><span class="p">.</span><span class="nx">poetry</span><span class="p">.</span><span class="nx">dependencies</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">python</span> <span class="p">=</span> <span class="s2">&#34;^3.8&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">numpy</span> <span class="p">=</span> <span class="s2">&#34;^1.20&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">tool</span><span class="p">.</span><span class="nx">poetry</span><span class="p">.</span><span class="nx">group</span><span class="p">.</span><span class="nx">dev</span><span class="p">.</span><span class="nx">dependencies</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">pytest</span> <span class="p">=</span> <span class="s2">&#34;^7.0&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">black</span> <span class="p">=</span> <span class="s2">&#34;^22.0&#34;</span>
</span></span></code></pre></div><p><strong>Key Features:</strong></p>
<ul>
<li>Dependency resolution</li>
<li>Lock file management</li>
<li>Build system integration</li>
<li>Publishing workflow</li>
</ul>
<h4 id="virtualenvvenv">Virtualenv/venv<a hidden class="anchor" aria-hidden="true" href="#virtualenvvenv">#</a></h4>
<p>Traditional virtual environment:</p>
<pre tabindex="0"><code>.venv/
├── bin/           # Executables
├── include/       # Header files
└── lib/           # Python packages
</code></pre><h3 id="3-ide-configuration">3. IDE Configuration<a hidden class="anchor" aria-hidden="true" href="#3-ide-configuration">#</a></h3>
<h4 id="vscode-setup">VSCode Setup<a hidden class="anchor" aria-hidden="true" href="#vscode-setup">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;python.defaultInterpreterPath&#34;</span><span class="p">:</span> <span class="s2">&#34;${workspaceFolder}/.venv/bin/python&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;python.linting.enabled&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;python.linting.pylintEnabled&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;python.formatting.provider&#34;</span><span class="p">:</span> <span class="s2">&#34;black&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;editor.formatOnSave&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;python.testing.pytestEnabled&#34;</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="pycharm-configuration">PyCharm Configuration<a hidden class="anchor" aria-hidden="true" href="#pycharm-configuration">#</a></h4>
<p>Professional IDE setup:</p>
<ul>
<li>Project interpreter</li>
<li>Test runners</li>
<li>Debugger</li>
<li>Code analysis</li>
</ul>
<h2 id="development-tools">Development Tools<a hidden class="anchor" aria-hidden="true" href="#development-tools">#</a></h2>
<h3 id="1-code-quality-tools">1. Code Quality Tools<a hidden class="anchor" aria-hidden="true" href="#1-code-quality-tools">#</a></h3>
<h4 id="linting">Linting<a hidden class="anchor" aria-hidden="true" href="#linting">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="c1"># .flake8</span>
</span></span><span class="line"><span class="cl"><span class="k">[flake8]</span>
</span></span><span class="line"><span class="cl"><span class="na">max-line-length</span> <span class="o">=</span> <span class="s">88</span>
</span></span><span class="line"><span class="cl"><span class="na">extend-ignore</span> <span class="o">=</span> <span class="s">E203</span>
</span></span><span class="line"><span class="cl"><span class="na">per-file-ignores</span> <span class="o">=</span><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">    __init__.py:F401</span>
</span></span><span class="line"><span class="cl"><span class="na">exclude</span> <span class="o">=</span><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">    .git,
</span></span></span><span class="line"><span class="cl"><span class="s">    __pycache__,
</span></span></span><span class="line"><span class="cl"><span class="s">    build,
</span></span></span><span class="line"><span class="cl"><span class="s">    dist</span>
</span></span></code></pre></div><p><strong>Tools Stack:</strong></p>
<ul>
<li>Flake8: Style guide enforcement</li>
<li>Pylint: Code analysis</li>
<li>mypy: Static type checking</li>
<li>bandit: Security linting</li>
</ul>
<h4 id="formatting">Formatting<a hidden class="anchor" aria-hidden="true" href="#formatting">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="c"># pyproject.toml</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">tool</span><span class="p">.</span><span class="nx">black</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">line-length</span> <span class="p">=</span> <span class="mi">88</span>
</span></span><span class="line"><span class="cl"><span class="nx">target-version</span> <span class="p">=</span> <span class="p">[</span><span class="s1">&#39;py38&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">include</span> <span class="p">=</span> <span class="s1">&#39;\.pyi?$&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">tool</span><span class="p">.</span><span class="nx">isort</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">profile</span> <span class="p">=</span> <span class="s2">&#34;black&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">multi_line_output</span> <span class="p">=</span> <span class="mi">3</span>
</span></span></code></pre></div><p><strong>Tools:</strong></p>
<ul>
<li>Black: Code formatting</li>
<li>isort: Import sorting</li>
<li>docformatter: Docstring formatting</li>
</ul>
<h3 id="2-testing-tools">2. Testing Tools<a hidden class="anchor" aria-hidden="true" href="#2-testing-tools">#</a></h3>
<h4 id="pytest-configuration">Pytest Configuration<a hidden class="anchor" aria-hidden="true" href="#pytest-configuration">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="c1"># pytest.ini</span>
</span></span><span class="line"><span class="cl"><span class="k">[pytest]</span>
</span></span><span class="line"><span class="cl"><span class="na">testpaths</span> <span class="o">=</span> <span class="s">tests</span>
</span></span><span class="line"><span class="cl"><span class="na">python_files</span> <span class="o">=</span> <span class="s">test_*.py</span>
</span></span><span class="line"><span class="cl"><span class="na">python_functions</span> <span class="o">=</span> <span class="s">test_*</span>
</span></span><span class="line"><span class="cl"><span class="na">addopts</span> <span class="o">=</span> <span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">    --verbose
</span></span></span><span class="line"><span class="cl"><span class="s">    --cov=your_package
</span></span></span><span class="line"><span class="cl"><span class="s">    --cov-report=term-missing
</span></span></span><span class="line"><span class="cl"><span class="s">    --cov-report=xml</span>
</span></span></code></pre></div><p><strong>Testing Stack:</strong></p>
<ul>
<li>pytest: Test runner</li>
<li>pytest-cov: Coverage reporting</li>
<li>pytest-xdist: Parallel testing</li>
<li>pytest-benchmark: Performance testing</li>
</ul>
<h3 id="3-documentation-tools">3. Documentation Tools<a hidden class="anchor" aria-hidden="true" href="#3-documentation-tools">#</a></h3>
<h4 id="sphinx-setup">Sphinx Setup<a hidden class="anchor" aria-hidden="true" href="#sphinx-setup">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># conf.py</span>
</span></span><span class="line"><span class="cl"><span class="n">extensions</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;sphinx.ext.autodoc&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;sphinx.ext.napoleon&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;sphinx.ext.viewcode&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;sphinx_rtd_theme&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">html_theme</span> <span class="o">=</span> <span class="s1">&#39;sphinx_rtd_theme&#39;</span>
</span></span></code></pre></div><p><strong>Documentation Stack:</strong></p>
<ul>
<li>Sphinx: Documentation generator</li>
<li>MyST: Markdown support</li>
<li>sphinx-autoapi: API documentation</li>
<li>sphinx-gallery: Example gallery</li>
</ul>
<h3 id="4-pre-commit-hooks">4. Pre-commit Hooks<a hidden class="anchor" aria-hidden="true" href="#4-pre-commit-hooks">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># .pre-commit-config.yaml</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">repos</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l">https://github.com/psf/black</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">rev</span><span class="p">:</span><span class="w"> </span><span class="m">22.3.0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">hooks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">black</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">language_version</span><span class="p">:</span><span class="w"> </span><span class="l">python3.8</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l">https://github.com/PyCQA/flake8</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">rev</span><span class="p">:</span><span class="w"> </span><span class="m">4.0.1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">hooks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">flake8</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">additional_dependencies</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="l">flake8-docstrings]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l">https://github.com/pre-commit/mirrors-mypy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">rev</span><span class="p">:</span><span class="w"> </span><span class="l">v0.950</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">hooks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">mypy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">additional_dependencies</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="l">types-all]</span><span class="w">
</span></span></span></code></pre></div><h2 id="development-workflow-integration">Development Workflow Integration<a hidden class="anchor" aria-hidden="true" href="#development-workflow-integration">#</a></h2>
<h3 id="1-continuous-integration">1. Continuous Integration<a hidden class="anchor" aria-hidden="true" href="#1-continuous-integration">#</a></h3>
<h4 id="github-actions">GitHub Actions<a hidden class="anchor" aria-hidden="true" href="#github-actions">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">CI</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">push</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="l">main ]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">pull_request</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="l">main ]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">test</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">strategy</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">matrix</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">python-version</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="m">3.8</span><span class="p">,</span><span class="w"> </span><span class="m">3.9</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;3.10&#34;</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Set up Python</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/setup-python@v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">python-version</span><span class="p">:</span><span class="w"> </span><span class="l">${{ matrix.python-version }}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Install dependencies</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">        pip install poetry
</span></span></span><span class="line"><span class="cl"><span class="sd">        poetry install</span><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Run tests</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l">poetry run pytest</span><span class="w">
</span></span></span></code></pre></div><h3 id="2-development-database">2. Development Database<a hidden class="anchor" aria-hidden="true" href="#2-development-database">#</a></h3>
<h4 id="docker-development-database">Docker Development Database<a hidden class="anchor" aria-hidden="true" href="#docker-development-database">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># docker-compose.yml</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;3.8&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">dev_db</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">postgres:13</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">POSTGRES_DB</span><span class="p">:</span><span class="w"> </span><span class="l">dev_db</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">POSTGRES_USER</span><span class="p">:</span><span class="w"> </span><span class="l">dev_user</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">POSTGRES_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="l">dev_password</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">ports</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s2">&#34;5432:5432&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">dev_db_data:/var/lib/postgresql/data</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">dev_db_data</span><span class="p">:</span><span class="w">
</span></span></span></code></pre></div><h3 id="3-debugging-tools">3. Debugging Tools<a hidden class="anchor" aria-hidden="true" href="#3-debugging-tools">#</a></h3>
<h4 id="vs-code-launch-configuration">VS Code Launch Configuration<a hidden class="anchor" aria-hidden="true" href="#vs-code-launch-configuration">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;version&#34;</span><span class="p">:</span> <span class="s2">&#34;0.2.0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;configurations&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;Python: Current File&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;python&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;request&#34;</span><span class="p">:</span> <span class="s2">&#34;launch&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;program&#34;</span><span class="p">:</span> <span class="s2">&#34;${file}&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;console&#34;</span><span class="p">:</span> <span class="s2">&#34;integratedTerminal&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;justMyCode&#34;</span><span class="p">:</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;Python: Debug Tests&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;python&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;request&#34;</span><span class="p">:</span> <span class="s2">&#34;launch&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;program&#34;</span><span class="p">:</span> <span class="s2">&#34;${workspaceFolder}/.venv/bin/pytest&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;args&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;-v&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;tests/&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;console&#34;</span><span class="p">:</span> <span class="s2">&#34;integratedTerminal&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;justMyCode&#34;</span><span class="p">:</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="best-practices">Best Practices<a hidden class="anchor" aria-hidden="true" href="#best-practices">#</a></h2>
<h3 id="1-environment-management">1. Environment Management<a hidden class="anchor" aria-hidden="true" href="#1-environment-management">#</a></h3>
<ul>
<li>Use virtual environments consistently</li>
<li>Document environment setup</li>
<li>Version lock dependencies</li>
<li>Regular dependency updates</li>
</ul>
<h3 id="2-code-quality">2. Code Quality<a hidden class="anchor" aria-hidden="true" href="#2-code-quality">#</a></h3>
<ul>
<li>Automated code formatting</li>
<li>Consistent style enforcement</li>
<li>Type checking</li>
<li>Security scanning</li>
</ul>
<h3 id="3-testing">3. Testing<a hidden class="anchor" aria-hidden="true" href="#3-testing">#</a></h3>
<ul>
<li>Comprehensive test coverage</li>
<li>Regular test execution</li>
<li>Performance benchmarking</li>
<li>Integration testing</li>
</ul>
<h3 id="4-documentation">4. Documentation<a hidden class="anchor" aria-hidden="true" href="#4-documentation">#</a></h3>
<ul>
<li>API documentation</li>
<li>Usage examples</li>
<li>Development guides</li>
<li>Change logs</li>
</ul>
<h3 id="5-version-control">5. Version Control<a hidden class="anchor" aria-hidden="true" href="#5-version-control">#</a></h3>
<ul>
<li>Branching strategy</li>
<li>Code review process</li>
<li>Commit message standards</li>
<li>Release tagging</li>
</ul>
<h3 id="6-continuous-integration">6. Continuous Integration<a hidden class="anchor" aria-hidden="true" href="#6-continuous-integration">#</a></h3>
<ul>
<li>Automated testing</li>
<li>Code quality checks</li>
<li>Documentation builds</li>
<li>Release automation</li>
</ul>
<h2 id="tool-selection-guide">Tool Selection Guide<a hidden class="anchor" aria-hidden="true" href="#tool-selection-guide">#</a></h2>
<h3 id="1-core-tools-required">1. Core Tools (Required)<a hidden class="anchor" aria-hidden="true" href="#1-core-tools-required">#</a></h3>
<ul>
<li>Version Control: Git</li>
<li>Package Manager: Poetry/pip</li>
<li>Virtual Environment: venv/virtualenv</li>
<li>Test Runner: pytest</li>
</ul>
<h3 id="2-code-quality-recommended">2. Code Quality (Recommended)<a hidden class="anchor" aria-hidden="true" href="#2-code-quality-recommended">#</a></h3>
<ul>
<li>Formatter: Black</li>
<li>Linter: Flake8</li>
<li>Type Checker: mypy</li>
<li>Import Sorter: isort</li>
</ul>
<h3 id="3-documentation-recommended">3. Documentation (Recommended)<a hidden class="anchor" aria-hidden="true" href="#3-documentation-recommended">#</a></h3>
<ul>
<li>Generator: Sphinx</li>
<li>API Docs: sphinx-autoapi</li>
<li>Examples: sphinx-gallery</li>
<li>Markdown: MyST</li>
</ul>
<h3 id="4-development-optional">4. Development (Optional)<a hidden class="anchor" aria-hidden="true" href="#4-development-optional">#</a></h3>
<ul>
<li>Debugger: pdb/ipdb</li>
<li>Profiler: cProfile</li>
<li>Benchmark: pytest-benchmark</li>
<li>Coverage: pytest-cov</li>
</ul>
<h1 id="testing">Testing<a hidden class="anchor" aria-hidden="true" href="#testing">#</a></h1>
<h2 id="testing-framework-overview">Testing Framework Overview<a hidden class="anchor" aria-hidden="true" href="#testing-framework-overview">#</a></h2>
<h3 id="1-testing-directory-structure">1. Testing Directory Structure<a hidden class="anchor" aria-hidden="true" href="#1-testing-directory-structure">#</a></h3>
<pre tabindex="0"><code>tests/
├── conftest.py                # Shared test configuration and fixtures
├── __init__.py               # Test package initialization
├── unit/                     # Unit tests
│   ├── __init__.py
│   ├── test_core.py         # Core functionality tests
│   ├── test_utils.py        # Utility function tests
│   └── test_interfaces.py   # Interface tests
├── integration/              # Integration tests
│   ├── __init__.py
│   ├── test_workflow.py     # Workflow tests
│   └── test_end_to_end.py   # End-to-end tests
├── performance/             # Performance tests
│   ├── __init__.py
│   ├── benchmarks.py       # Benchmark definitions
│   └── test_scaling.py     # Scaling tests
└── data/                   # Test data
    ├── sample_input.json   # Sample input files
    └── expected_output.json # Expected output files
</code></pre><h3 id="2-test-categories">2. Test Categories<a hidden class="anchor" aria-hidden="true" href="#2-test-categories">#</a></h3>
<h4 id="unit-tests">Unit Tests<a hidden class="anchor" aria-hidden="true" href="#unit-tests">#</a></h4>
<p>Tests for individual components in isolation.</p>
<p><strong>Key Principles:</strong></p>
<ul>
<li>Test single units of functionality</li>
<li>Mock external dependencies</li>
<li>Fast execution</li>
<li>High coverage</li>
</ul>
<p><strong>Example Unit Test:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pytest</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">your_package.core</span> <span class="kn">import</span> <span class="n">DataProcessor</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">test_data_processor_initialization</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="n">processor</span> <span class="o">=</span> <span class="n">DataProcessor</span><span class="p">(</span><span class="n">chunk_size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="n">processor</span><span class="o">.</span><span class="n">chunk_size</span> <span class="o">==</span> <span class="mi">100</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="ow">not</span> <span class="n">processor</span><span class="o">.</span><span class="n">is_processing</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@pytest.mark.parametrize</span><span class="p">(</span><span class="s2">&#34;input_data,expected&#34;</span><span class="p">,</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">]),</span>
</span></span><span class="line"><span class="cl">    <span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]),</span>
</span></span><span class="line"><span class="cl">    <span class="p">([],</span> <span class="p">[]),</span>
</span></span><span class="line"><span class="cl"><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">test_data_processing</span><span class="p">(</span><span class="n">input_data</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">processor</span> <span class="o">=</span> <span class="n">DataProcessor</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">result</span> <span class="o">=</span> <span class="n">processor</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">input_data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="n">expected</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">test_invalid_input_raises_error</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="n">processor</span> <span class="o">=</span> <span class="n">DataProcessor</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="k">match</span><span class="o">=</span><span class="s2">&#34;Input must be a list&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">processor</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</span></span></code></pre></div><h4 id="integration-tests">Integration Tests<a hidden class="anchor" aria-hidden="true" href="#integration-tests">#</a></h4>
<p>Tests for component interactions.</p>
<p><strong>Key Principles:</strong></p>
<ul>
<li>Test component interactions</li>
<li>Minimal mocking</li>
<li>Real dependencies</li>
<li>Workflow validation</li>
</ul>
<p><strong>Example Integration Test:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pytest</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">your_package.core</span> <span class="kn">import</span> <span class="n">DataProcessor</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">your_package.io</span> <span class="kn">import</span> <span class="n">DataReader</span><span class="p">,</span> <span class="n">DataWriter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">test_complete_data_workflow</span><span class="p">(</span><span class="n">tmp_path</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># Setup</span>
</span></span><span class="line"><span class="cl">    <span class="n">input_file</span> <span class="o">=</span> <span class="n">tmp_path</span> <span class="o">/</span> <span class="s2">&#34;input.csv&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">output_file</span> <span class="o">=</span> <span class="n">tmp_path</span> <span class="o">/</span> <span class="s2">&#34;output.csv&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">input_file</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="s2">&#34;1,2,3</span><span class="se">\n</span><span class="s2">4,5,6&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Process</span>
</span></span><span class="line"><span class="cl">    <span class="n">reader</span> <span class="o">=</span> <span class="n">DataReader</span><span class="p">(</span><span class="n">input_file</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">processor</span> <span class="o">=</span> <span class="n">DataProcessor</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">writer</span> <span class="o">=</span> <span class="n">DataWriter</span><span class="p">(</span><span class="n">output_file</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">data</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">processed_data</span> <span class="o">=</span> <span class="n">processor</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">writer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">processed_data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Verify</span>
</span></span><span class="line"><span class="cl">    <span class="n">result</span> <span class="o">=</span> <span class="n">output_file</span><span class="o">.</span><span class="n">read_text</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="s2">&#34;2,4,6</span><span class="se">\n</span><span class="s2">8,10,12&#34;</span>
</span></span></code></pre></div><h4 id="performance-tests">Performance Tests<a hidden class="anchor" aria-hidden="true" href="#performance-tests">#</a></h4>
<p>Tests for performance characteristics.</p>
<p><strong>Key Principles:</strong></p>
<ul>
<li>Measure execution time</li>
<li>Memory usage</li>
<li>Scaling behavior</li>
<li>Resource utilization</li>
</ul>
<p><strong>Example Performance Test:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pytest</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">your_package.core</span> <span class="kn">import</span> <span class="n">DataProcessor</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@pytest.mark.benchmark</span><span class="p">(</span><span class="n">group</span><span class="o">=</span><span class="s2">&#34;processing&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">test_processing_performance</span><span class="p">(</span><span class="n">benchmark</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">processor</span> <span class="o">=</span> <span class="n">DataProcessor</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">process_data</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">processor</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="n">result</span> <span class="o">=</span> <span class="n">benchmark</span><span class="p">(</span><span class="n">process_data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="3-test-configuration">3. Test Configuration<a hidden class="anchor" aria-hidden="true" href="#3-test-configuration">#</a></h3>
<h4 id="pytest-configuration-1">Pytest Configuration<a hidden class="anchor" aria-hidden="true" href="#pytest-configuration-1">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="c1"># pytest.ini</span>
</span></span><span class="line"><span class="cl"><span class="k">[pytest]</span>
</span></span><span class="line"><span class="cl"><span class="na">testpaths</span> <span class="o">=</span> <span class="s">tests</span>
</span></span><span class="line"><span class="cl"><span class="na">python_files</span> <span class="o">=</span> <span class="s">test_*.py</span>
</span></span><span class="line"><span class="cl"><span class="na">python_functions</span> <span class="o">=</span> <span class="s">test_*</span>
</span></span><span class="line"><span class="cl"><span class="na">addopts</span> <span class="o">=</span> <span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">    --verbose
</span></span></span><span class="line"><span class="cl"><span class="s">    --cov=your_package
</span></span></span><span class="line"><span class="cl"><span class="s">    --cov-report=term-missing
</span></span></span><span class="line"><span class="cl"><span class="s">    --cov-report=xml</span>
</span></span><span class="line"><span class="cl"><span class="na">markers</span> <span class="o">=</span><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">    slow: marks tests as slow
</span></span></span><span class="line"><span class="cl"><span class="s">    integration: marks tests as integration tests</span>
</span></span></code></pre></div><h4 id="coverage-configuration">Coverage Configuration<a hidden class="anchor" aria-hidden="true" href="#coverage-configuration">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="c1"># .coveragerc</span>
</span></span><span class="line"><span class="cl"><span class="k">[run]</span>
</span></span><span class="line"><span class="cl"><span class="na">source</span> <span class="o">=</span> <span class="s">your_package</span>
</span></span><span class="line"><span class="cl"><span class="na">omit</span> <span class="o">=</span><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">    tests/*
</span></span></span><span class="line"><span class="cl"><span class="s">    setup.py</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">[report]</span>
</span></span><span class="line"><span class="cl"><span class="na">exclude_lines</span> <span class="o">=</span><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">    pragma: no cover
</span></span></span><span class="line"><span class="cl"><span class="s">    def __repr__
</span></span></span><span class="line"><span class="cl"><span class="s">    raise NotImplementedError
</span></span></span><span class="line"><span class="cl"><span class="s">    if __name__ == .__main__.:</span>
</span></span></code></pre></div><h2 id="quality-assurance-tools">Quality Assurance Tools<a hidden class="anchor" aria-hidden="true" href="#quality-assurance-tools">#</a></h2>
<h3 id="1-code-style-and-formatting">1. Code Style and Formatting<a hidden class="anchor" aria-hidden="true" href="#1-code-style-and-formatting">#</a></h3>
<h4 id="black-configuration">Black Configuration<a hidden class="anchor" aria-hidden="true" href="#black-configuration">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="c"># pyproject.toml</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">tool</span><span class="p">.</span><span class="nx">black</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">line-length</span> <span class="p">=</span> <span class="mi">88</span>
</span></span><span class="line"><span class="cl"><span class="nx">target-version</span> <span class="p">=</span> <span class="p">[</span><span class="s1">&#39;py38&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">include</span> <span class="p">=</span> <span class="s1">&#39;\.pyi?$&#39;</span>
</span></span><span class="line"><span class="cl"><span class="nx">extend-exclude</span> <span class="p">=</span> <span class="s1">&#39;&#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1"># A regex preceded with ^/ will apply only to files and directories
</span></span></span><span class="line"><span class="cl"><span class="s1"># in the root of the project.
</span></span></span><span class="line"><span class="cl"><span class="s1">^/tests/
</span></span></span><span class="line"><span class="cl"><span class="s1">&#39;&#39;&#39;</span>
</span></span></code></pre></div><h4 id="flake8-configuration">Flake8 Configuration<a hidden class="anchor" aria-hidden="true" href="#flake8-configuration">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="c1"># .flake8</span>
</span></span><span class="line"><span class="cl"><span class="k">[flake8]</span>
</span></span><span class="line"><span class="cl"><span class="na">max-line-length</span> <span class="o">=</span> <span class="s">88</span>
</span></span><span class="line"><span class="cl"><span class="na">extend-ignore</span> <span class="o">=</span> <span class="s">E203</span>
</span></span><span class="line"><span class="cl"><span class="na">exclude</span> <span class="o">=</span><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">    .git,
</span></span></span><span class="line"><span class="cl"><span class="s">    __pycache__,
</span></span></span><span class="line"><span class="cl"><span class="s">    build,
</span></span></span><span class="line"><span class="cl"><span class="s">    dist</span>
</span></span><span class="line"><span class="cl"><span class="na">per-file-ignores</span> <span class="o">=</span><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">    __init__.py:F401</span>
</span></span></code></pre></div><h3 id="2-type-checking">2. Type Checking<a hidden class="anchor" aria-hidden="true" href="#2-type-checking">#</a></h3>
<h4 id="mypy-configuration">Mypy Configuration<a hidden class="anchor" aria-hidden="true" href="#mypy-configuration">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="c"># pyproject.toml</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">tool</span><span class="p">.</span><span class="nx">mypy</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">python_version</span> <span class="p">=</span> <span class="s2">&#34;3.8&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">warn_return_any</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="nx">warn_unused_configs</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="nx">disallow_untyped_defs</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[[</span><span class="nx">tool</span><span class="p">.</span><span class="nx">mypy</span><span class="p">.</span><span class="nx">overrides</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="nx">module</span> <span class="p">=</span> <span class="s2">&#34;tests.*&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">disallow_untyped_defs</span> <span class="p">=</span> <span class="kc">false</span>
</span></span></code></pre></div><h3 id="3-security-scanning">3. Security Scanning<a hidden class="anchor" aria-hidden="true" href="#3-security-scanning">#</a></h3>
<h4 id="bandit-configuration">Bandit Configuration<a hidden class="anchor" aria-hidden="true" href="#bandit-configuration">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># .bandit</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">exclude_dirs</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;tests&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;docs&#39;</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">skips</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;B101&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;B601&#39;</span><span class="p">]</span><span class="w">
</span></span></span></code></pre></div><h2 id="test-writing-guidelines">Test Writing Guidelines<a hidden class="anchor" aria-hidden="true" href="#test-writing-guidelines">#</a></h2>
<h3 id="1-test-structure">1. Test Structure<a hidden class="anchor" aria-hidden="true" href="#1-test-structure">#</a></h3>
<p><strong>Arrange-Act-Assert Pattern:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">test_data_processing</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># Arrange</span>
</span></span><span class="line"><span class="cl">    <span class="n">processor</span> <span class="o">=</span> <span class="n">DataProcessor</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">input_data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="n">expected_output</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Act</span>
</span></span><span class="line"><span class="cl">    <span class="n">result</span> <span class="o">=</span> <span class="n">processor</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">input_data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Assert</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="n">expected_output</span>
</span></span></code></pre></div><h3 id="2-test-fixtures">2. Test Fixtures<a hidden class="anchor" aria-hidden="true" href="#2-test-fixtures">#</a></h3>
<p><strong>Fixture Definitions:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># conftest.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pytest</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@pytest.fixture</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">sample_data</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@pytest.fixture</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">temp_data_file</span><span class="p">(</span><span class="n">tmp_path</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">file_path</span> <span class="o">=</span> <span class="n">tmp_path</span> <span class="o">/</span> <span class="s2">&#34;data.txt&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">file_path</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="s2">&#34;test data&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">file_path</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@pytest.fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s2">&#34;session&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">database_connection</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="n">db</span> <span class="o">=</span> <span class="n">DatabaseConnection</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">db</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="k">yield</span> <span class="n">db</span>
</span></span><span class="line"><span class="cl">    <span class="n">db</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
</span></span></code></pre></div><h3 id="3-mocking-strategies">3. Mocking Strategies<a hidden class="anchor" aria-hidden="true" href="#3-mocking-strategies">#</a></h3>
<p><strong>Mock Examples:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">unittest.mock</span> <span class="kn">import</span> <span class="n">Mock</span><span class="p">,</span> <span class="n">patch</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">test_external_api_call</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">with</span> <span class="n">patch</span><span class="p">(</span><span class="s1">&#39;your_package.api.external_call&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">mock_call</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">mock_call</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="s1">&#39;success&#39;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="n">your_function</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="k">assert</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;success&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="n">mock_call</span><span class="o">.</span><span class="n">assert_called_once</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">test_complex_interaction</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="n">mock_dependency</span> <span class="o">=</span> <span class="n">Mock</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">mock_dependency</span><span class="o">.</span><span class="n">process</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="s1">&#39;processed&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="n">processor</span> <span class="o">=</span> <span class="n">DataProcessor</span><span class="p">(</span><span class="n">dependency</span><span class="o">=</span><span class="n">mock_dependency</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">result</span> <span class="o">=</span> <span class="n">processor</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="s1">&#39;processed&#39;</span>
</span></span></code></pre></div><h2 id="continuous-integration">Continuous Integration<a hidden class="anchor" aria-hidden="true" href="#continuous-integration">#</a></h2>
<h3 id="1-github-actions-configuration">1. GitHub Actions Configuration<a hidden class="anchor" aria-hidden="true" href="#1-github-actions-configuration">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Tests</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">push</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="l">main ]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">pull_request</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="l">main ]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">test</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">strategy</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">matrix</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">python-version</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="m">3.8</span><span class="p">,</span><span class="w"> </span><span class="m">3.9</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;3.10&#34;</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Set up Python</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/setup-python@v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">python-version</span><span class="p">:</span><span class="w"> </span><span class="l">${{ matrix.python-version }}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Install dependencies</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">        python -m pip install --upgrade pip
</span></span></span><span class="line"><span class="cl"><span class="sd">        pip install -e &#34;.[test]&#34;</span><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Run tests</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">        pytest --cov=your_package --cov-report=xml</span><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Upload coverage</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">codecov/codecov-action@v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">file</span><span class="p">:</span><span class="w"> </span><span class="l">./coverage.xml</span><span class="w">
</span></span></span></code></pre></div><h2 id="best-practices-1">Best Practices<a hidden class="anchor" aria-hidden="true" href="#best-practices-1">#</a></h2>
<h3 id="1-testing-principles">1. Testing Principles<a hidden class="anchor" aria-hidden="true" href="#1-testing-principles">#</a></h3>
<ul>
<li>Write tests first (TDD when appropriate)</li>
<li>Test edge cases</li>
<li>Keep tests focused</li>
<li>Use meaningful test names</li>
<li>Document test purposes</li>
</ul>
<h3 id="2-coverage-goals">2. Coverage Goals<a hidden class="anchor" aria-hidden="true" href="#2-coverage-goals">#</a></h3>
<ul>
<li>Aim for high coverage (&gt;90%)</li>
<li>Focus on critical paths</li>
<li>Test error conditions</li>
<li>Cover edge cases</li>
<li>Monitor coverage trends</li>
</ul>
<h3 id="3-performance-testing">3. Performance Testing<a hidden class="anchor" aria-hidden="true" href="#3-performance-testing">#</a></h3>
<ul>
<li>Establish baselines</li>
<li>Regular benchmarking</li>
<li>Monitor trends</li>
<li>Test scaling behavior</li>
<li>Profile resource usage</li>
</ul>
<h3 id="4-quality-metrics">4. Quality Metrics<a hidden class="anchor" aria-hidden="true" href="#4-quality-metrics">#</a></h3>
<ul>
<li>Code coverage</li>
<li>Cyclomatic complexity</li>
<li>Documentation coverage</li>
<li>Type coverage</li>
<li>Security scan results</li>
</ul>
<h3 id="5-continuous-improvement">5. Continuous Improvement<a hidden class="anchor" aria-hidden="true" href="#5-continuous-improvement">#</a></h3>
<ul>
<li>Regular test review</li>
<li>Performance optimization</li>
<li>Coverage improvement</li>
<li>Test maintenance</li>
<li>Documentation updates</li>
</ul>
<h1 id="standards">Standards<a hidden class="anchor" aria-hidden="true" href="#standards">#</a></h1>
<h2 id="documentation-structure">Documentation Structure<a hidden class="anchor" aria-hidden="true" href="#documentation-structure">#</a></h2>
<h3 id="1-documentation-directory-layout">1. Documentation Directory Layout<a hidden class="anchor" aria-hidden="true" href="#1-documentation-directory-layout">#</a></h3>
<pre tabindex="0"><code>docs/
├── _static/                    # Static files (images, custom CSS)
│   ├── custom.css             # Custom styling
│   └── images/                # Documentation images
│       ├── architecture.png
│       └── workflow.png
├── _templates/                 # Custom Sphinx templates
│   └── layout.html
├── api/                        # API Reference
│   ├── core.rst               # Core module documentation
│   ├── utils.rst              # Utilities documentation
│   └── index.rst              # API documentation index
├── guides/                     # User Guides
│   ├── getting_started.rst    # Getting started guide
│   ├── installation.rst       # Installation instructions
│   └── advanced.rst           # Advanced usage guide
├── tutorials/                  # Tutorials
│   ├── basic/                 # Basic tutorials
│   └── advanced/              # Advanced tutorials
├── examples/                   # Example Gallery
│   ├── basic_usage.py         # Basic usage examples
│   └── advanced_usage.py      # Advanced usage examples
├── dev/                        # Developer Documentation
│   ├── contributing.rst       # Contribution guide
│   ├── architecture.rst       # Architecture documentation
│   └── release.rst           # Release process
├── conf.py                    # Sphinx configuration
└── index.rst                  # Documentation home page
</code></pre><h3 id="2-documentation-types">2. Documentation Types<a hidden class="anchor" aria-hidden="true" href="#2-documentation-types">#</a></h3>
<h4 id="api-documentation">API Documentation<a hidden class="anchor" aria-hidden="true" href="#api-documentation">#</a></h4>
<p>Detailed technical reference for all public interfaces.</p>
<p><strong>Example API Documentation:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">DataProcessor</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Process data using configurable transformations.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    The DataProcessor class provides a flexible interface for applying
</span></span></span><span class="line"><span class="cl"><span class="s2">    various transformations to input data. It supports both batch
</span></span></span><span class="line"><span class="cl"><span class="s2">    and streaming processing modes.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Args:
</span></span></span><span class="line"><span class="cl"><span class="s2">        chunk_size (int): Size of data chunks for processing.
</span></span></span><span class="line"><span class="cl"><span class="s2">        mode (str): Processing mode (&#39;batch&#39; or &#39;stream&#39;).
</span></span></span><span class="line"><span class="cl"><span class="s2">        validate (bool, optional): Whether to validate input data.
</span></span></span><span class="line"><span class="cl"><span class="s2">            Defaults to True.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Attributes:
</span></span></span><span class="line"><span class="cl"><span class="s2">        chunk_size (int): Current chunk size setting.
</span></span></span><span class="line"><span class="cl"><span class="s2">        mode (str): Current processing mode.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Examples:
</span></span></span><span class="line"><span class="cl"><span class="s2">        Basic usage:
</span></span></span><span class="line"><span class="cl"><span class="s2">        &gt;&gt;&gt; processor = DataProcessor(chunk_size=100)
</span></span></span><span class="line"><span class="cl"><span class="s2">        &gt;&gt;&gt; result = processor.process([1, 2, 3])
</span></span></span><span class="line"><span class="cl"><span class="s2">        &gt;&gt;&gt; print(result)
</span></span></span><span class="line"><span class="cl"><span class="s2">        [2, 4, 6]
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">        Streaming mode:
</span></span></span><span class="line"><span class="cl"><span class="s2">        &gt;&gt;&gt; processor = DataProcessor(mode=&#39;stream&#39;)
</span></span></span><span class="line"><span class="cl"><span class="s2">        &gt;&gt;&gt; for item in processor.stream_process(data_iterator):
</span></span></span><span class="line"><span class="cl"><span class="s2">        ...     print(item)
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Note:
</span></span></span><span class="line"><span class="cl"><span class="s2">        This class is thread-safe and can be used in concurrent
</span></span></span><span class="line"><span class="cl"><span class="s2">        processing scenarios.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Process a batch of data.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">        Args:
</span></span></span><span class="line"><span class="cl"><span class="s2">            data: Input data to process.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">        Returns:
</span></span></span><span class="line"><span class="cl"><span class="s2">            Processed data.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">        Raises:
</span></span></span><span class="line"><span class="cl"><span class="s2">            ValueError: If input data is invalid.
</span></span></span><span class="line"><span class="cl"><span class="s2">            ProcessingError: If processing fails.
</span></span></span><span class="line"><span class="cl"><span class="s2">        &#34;&#34;&#34;</span>
</span></span></code></pre></div><h4 id="user-guides">User Guides<a hidden class="anchor" aria-hidden="true" href="#user-guides">#</a></h4>
<p>Step-by-step instructions for common tasks.</p>
<p><strong>Example Guide Structure:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-rst" data-lang="rst"><span class="line"><span class="cl"><span class="gh">Getting Started</span>
</span></span><span class="line"><span class="cl"><span class="gh">==============</span>
</span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="gh">Installation</span>
</span></span><span class="line"><span class="cl"><span class="gh">-----------</span>
</span></span><span class="line"><span class="cl"><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> <span class="k">bash</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    pip install your-package
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="gh">Basic Usage</span>
</span></span><span class="line"><span class="cl"><span class="gh">----------</span>
</span></span><span class="line"><span class="cl">This section covers the basic usage of the package<span class="se">::</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="s">    import your_package</span>
</span></span><span class="line"><span class="cl"><span class="s">    
</span></span></span><span class="line"><span class="cl"><span class="s">    # Initialize processor
</span></span></span><span class="line"><span class="cl"><span class="s">    processor = your_package.DataProcessor()
</span></span></span><span class="line"><span class="cl"><span class="s">    
</span></span></span><span class="line"><span class="cl"><span class="s">    # Process data
</span></span></span><span class="line"><span class="cl"><span class="s">    result = processor.process([1, 2, 3])
</span></span></span><span class="line"><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s"></span><span class="gh">Advanced Features</span>
</span></span><span class="line"><span class="cl"><span class="gh">---------------</span>
</span></span><span class="line"><span class="cl">For advanced usage, including streaming processing and<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>custom transformations, see <span class="na">:ref:</span><span class="nv">`advanced-features`</span>.<span class="err">
</span></span></span></code></pre></div><h4 id="tutorials">Tutorials<a hidden class="anchor" aria-hidden="true" href="#tutorials">#</a></h4>
<p>Hands-on learning materials.</p>
<p><strong>Example Tutorial:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2"># Data Processing Tutorial
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">This tutorial demonstrates basic data processing with our package.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">## Setup
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">First, import required modules:
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">your_package</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Create sample data</span>
</span></span><span class="line"><span class="cl"><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Initialize processor</span>
</span></span><span class="line"><span class="cl"><span class="n">processor</span> <span class="o">=</span> <span class="n">your_package</span><span class="o">.</span><span class="n">DataProcessor</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">chunk_size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;batch&#39;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Process data</span>
</span></span><span class="line"><span class="cl"><span class="n">result</span> <span class="o">=</span> <span class="n">processor</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">## Analysis
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">Let&#39;s analyze the results:
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Input mean: </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Output mean: </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="3-documentation-standards">3. Documentation Standards<a hidden class="anchor" aria-hidden="true" href="#3-documentation-standards">#</a></h3>
<h4 id="docstring-format">Docstring Format<a hidden class="anchor" aria-hidden="true" href="#docstring-format">#</a></h4>
<p>Using Google-style docstrings:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">complex_function</span><span class="p">(</span><span class="n">param1</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">param2</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Perform a complex operation with the given parameters.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    This function combines multiple operations and returns a dictionary
</span></span></span><span class="line"><span class="cl"><span class="s2">    containing the results. It handles various edge cases and supports
</span></span></span><span class="line"><span class="cl"><span class="s2">    timeout functionality.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Args:
</span></span></span><span class="line"><span class="cl"><span class="s2">        param1: The first parameter description.
</span></span></span><span class="line"><span class="cl"><span class="s2">        param2: The second parameter description.
</span></span></span><span class="line"><span class="cl"><span class="s2">        *args: Additional arguments for processing.
</span></span></span><span class="line"><span class="cl"><span class="s2">        timeout: Optional timeout in seconds. Defaults to None.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Returns:
</span></span></span><span class="line"><span class="cl"><span class="s2">        A dictionary containing:
</span></span></span><span class="line"><span class="cl"><span class="s2">            - &#39;result&#39;: The primary result
</span></span></span><span class="line"><span class="cl"><span class="s2">            - &#39;metadata&#39;: Processing metadata
</span></span></span><span class="line"><span class="cl"><span class="s2">            - &#39;stats&#39;: Operation statistics
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Raises:
</span></span></span><span class="line"><span class="cl"><span class="s2">        ValueError: If parameters are invalid.
</span></span></span><span class="line"><span class="cl"><span class="s2">        TimeoutError: If operation exceeds timeout.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Example:
</span></span></span><span class="line"><span class="cl"><span class="s2">        &gt;&gt;&gt; result = complex_function(1, &#34;test&#34;, timeout=5.0)
</span></span></span><span class="line"><span class="cl"><span class="s2">        &gt;&gt;&gt; print(result[&#39;status&#39;])
</span></span></span><span class="line"><span class="cl"><span class="s2">        &#39;success&#39;
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Note:
</span></span></span><span class="line"><span class="cl"><span class="s2">        This function is thread-safe and can be used in parallel
</span></span></span><span class="line"><span class="cl"><span class="s2">        processing scenarios.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span></code></pre></div><h4 id="documentation-checklist">Documentation Checklist<a hidden class="anchor" aria-hidden="true" href="#documentation-checklist">#</a></h4>
<ul>
<li><input disabled="" type="checkbox"> All public APIs documented</li>
<li><input disabled="" type="checkbox"> Examples provided</li>
<li><input disabled="" type="checkbox"> Type hints included</li>
<li><input disabled="" type="checkbox"> Exceptions documented</li>
<li><input disabled="" type="checkbox"> Parameters described</li>
<li><input disabled="" type="checkbox"> Return values explained</li>
<li><input disabled="" type="checkbox"> Usage notes added</li>
<li><input disabled="" type="checkbox"> Links to related documentation</li>
</ul>
<h3 id="4-sphinx-configuration">4. Sphinx Configuration<a hidden class="anchor" aria-hidden="true" href="#4-sphinx-configuration">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># conf.py</span>
</span></span><span class="line"><span class="cl"><span class="n">project</span> <span class="o">=</span> <span class="s1">&#39;Your Package&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">copyright</span> <span class="o">=</span> <span class="s1">&#39;2025, Your Name&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">author</span> <span class="o">=</span> <span class="s1">&#39;Your Name&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">extensions</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;sphinx.ext.autodoc&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;sphinx.ext.napoleon&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;sphinx.ext.viewcode&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;sphinx.ext.intersphinx&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;sphinx_rtd_theme&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;sphinx_gallery.gen_gallery&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;myst_parser&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Napoleon settings</span>
</span></span><span class="line"><span class="cl"><span class="n">napoleon_google_docstring</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="n">napoleon_numpy_docstring</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="n">napoleon_include_init_with_doc</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl"><span class="n">napoleon_include_private_with_doc</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl"><span class="n">napoleon_include_special_with_doc</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="n">napoleon_use_admonition_for_examples</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="n">napoleon_use_admonition_for_notes</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="n">napoleon_use_admonition_for_references</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl"><span class="n">napoleon_use_ivar</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl"><span class="n">napoleon_use_param</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="n">napoleon_use_rtype</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="n">napoleon_preprocess_types</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl"><span class="n">napoleon_type_aliases</span> <span class="o">=</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl"><span class="n">napoleon_attr_annotations</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Intersphinx mapping</span>
</span></span><span class="line"><span class="cl"><span class="n">intersphinx_mapping</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;python&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;https://docs.python.org/3&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;numpy&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;https://numpy.org/doc/stable/&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;pandas&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;https://pandas.pydata.org/docs/&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="documentation-best-practices">Documentation Best Practices<a hidden class="anchor" aria-hidden="true" href="#documentation-best-practices">#</a></h2>
<h3 id="1-writing-guidelines">1. Writing Guidelines<a hidden class="anchor" aria-hidden="true" href="#1-writing-guidelines">#</a></h3>
<ul>
<li>Use clear, concise language</li>
<li>Provide concrete examples</li>
<li>Include error handling</li>
<li>Document edge cases</li>
<li>Link related concepts</li>
<li>Keep current with code</li>
</ul>
<h3 id="2-code-examples">2. Code Examples<a hidden class="anchor" aria-hidden="true" href="#2-code-examples">#</a></h3>
<ul>
<li>Show common use cases</li>
<li>Demonstrate error handling</li>
<li>Include performance tips</li>
<li>Show proper cleanup</li>
<li>Test all examples</li>
</ul>
<h3 id="3-version-management">3. Version Management<a hidden class="anchor" aria-hidden="true" href="#3-version-management">#</a></h3>
<ul>
<li>Track API changes</li>
<li>Document deprecations</li>
<li>Maintain changelog</li>
<li>Version documentation</li>
<li>Migration guides</li>
</ul>
<h3 id="4-documentation-testing">4. Documentation Testing<a hidden class="anchor" aria-hidden="true" href="#4-documentation-testing">#</a></h3>
<ul>
<li>Verify code examples</li>
<li>Check links</li>
<li>Validate markup</li>
<li>Test builds</li>
<li>Review rendering</li>
</ul>
<h2 id="documentation-workflow">Documentation Workflow<a hidden class="anchor" aria-hidden="true" href="#documentation-workflow">#</a></h2>
<h3 id="1-development-process">1. Development Process<a hidden class="anchor" aria-hidden="true" href="#1-development-process">#</a></h3>
<ul>
<li>Document while coding</li>
<li>Review documentation</li>
<li>Update examples</li>
<li>Check references</li>
<li>Verify accuracy</li>
</ul>
<h3 id="2-review-process">2. Review Process<a hidden class="anchor" aria-hidden="true" href="#2-review-process">#</a></h3>
<ul>
<li>Technical accuracy</li>
<li>Completeness</li>
<li>Clarity</li>
<li>Examples work</li>
<li>Links valid</li>
</ul>
<h3 id="3-publishing-workflow">3. Publishing Workflow<a hidden class="anchor" aria-hidden="true" href="#3-publishing-workflow">#</a></h3>
<ul>
<li>Build documentation</li>
<li>Version control</li>
<li>Deploy updates</li>
<li>Announce changes</li>
<li>Archive versions</li>
</ul>
<h2 id="advanced-documentation-features">Advanced Documentation Features<a hidden class="anchor" aria-hidden="true" href="#advanced-documentation-features">#</a></h2>
<h3 id="1-interactive-examples">1. Interactive Examples<a hidden class="anchor" aria-hidden="true" href="#1-interactive-examples">#</a></h3>
<p>Using Jupyter notebooks:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># example.ipynb</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="s2">&#34;cells&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="s2">&#34;cell_type&#34;</span><span class="p">:</span> <span class="s2">&#34;markdown&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="s2">&#34;metadata&#34;</span><span class="p">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">   <span class="s2">&#34;source&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;# Interactive Tutorial</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;This notebook demonstrates advanced features...&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="s2">&#34;cell_type&#34;</span><span class="p">:</span> <span class="s2">&#34;code&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="s2">&#34;execution_count&#34;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="s2">&#34;metadata&#34;</span><span class="p">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">   <span class="s2">&#34;source&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;import your_package</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;# Interactive code examples...&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"> <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="2-api-versioning">2. API Versioning<a hidden class="anchor" aria-hidden="true" href="#2-api-versioning">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">deprecated_function</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;This function is deprecated.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    .. deprecated:: 1.2.0
</span></span></span><span class="line"><span class="cl"><span class="s2">       Use :func:`new_function` instead.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;This function is deprecated. Use new_function instead.&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="ne">DeprecationWarning</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span></code></pre></div><h3 id="3-documentation-generation">3. Documentation Generation<a hidden class="anchor" aria-hidden="true" href="#3-documentation-generation">#</a></h3>
<p>Automated documentation updates:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># .github/workflows/docs.yml</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Documentation</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">push</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="l">main ]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">docs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Build docs</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">        pip install -e &#34;.[docs]&#34;
</span></span></span><span class="line"><span class="cl"><span class="sd">        cd docs &amp;&amp; make html</span><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Deploy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">peaceiris/actions-gh-pages@v3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">github_token</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.GITHUB_TOKEN }}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">publish_dir</span><span class="p">:</span><span class="w"> </span><span class="l">./docs/_build/html</span><span class="w">
</span></span></span></code></pre></div><h1 id="ci--cd">CI / CD<a hidden class="anchor" aria-hidden="true" href="#ci--cd">#</a></h1>
<h2 id="cicd-infrastructure-overview">CI/CD Infrastructure Overview<a hidden class="anchor" aria-hidden="true" href="#cicd-infrastructure-overview">#</a></h2>
<h3 id="1-cicd-pipeline-structure">1. CI/CD Pipeline Structure<a hidden class="anchor" aria-hidden="true" href="#1-cicd-pipeline-structure">#</a></h3>
<pre tabindex="0"><code>.github/workflows/
├── ci.yml                 # Main CI pipeline
├── release.yml           # Release workflow
├── docs.yml             # Documentation builds
└── nightly.yml         # Nightly tests
</code></pre><h3 id="2-core-pipeline-components">2. Core Pipeline Components<a hidden class="anchor" aria-hidden="true" href="#2-core-pipeline-components">#</a></h3>
<h4 id="continuous-integration-pipeline">Continuous Integration Pipeline<a hidden class="anchor" aria-hidden="true" href="#continuous-integration-pipeline">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># .github/workflows/ci.yml</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Continuous Integration</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">push</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="l">main, develop ]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">pull_request</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="l">main, develop ]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">quality</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Code Quality</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Set up Python</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/setup-python@v4</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">python-version</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;3.10&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Quality checks</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          pip install -e &#34;.[dev]&#34;
</span></span></span><span class="line"><span class="cl"><span class="sd">          black --check .
</span></span></span><span class="line"><span class="cl"><span class="sd">          isort --check-only .
</span></span></span><span class="line"><span class="cl"><span class="sd">          flake8 .
</span></span></span><span class="line"><span class="cl"><span class="sd">          mypy src/</span><span class="w">          
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">test</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Test Suite</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">strategy</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">matrix</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">python-version</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;3.8&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;3.9&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;3.10&#39;</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">os</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="l">ubuntu-latest, windows-latest, macos-latest]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">${{ matrix.os }}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Set up Python</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/setup-python@v4</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">python-version</span><span class="p">:</span><span class="w"> </span><span class="l">${{ matrix.python-version }}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Run tests</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          pip install -e &#34;.[test]&#34;
</span></span></span><span class="line"><span class="cl"><span class="sd">          pytest tests/ --cov=src/ --cov-report=xml
</span></span></span><span class="line"><span class="cl"><span class="sd">          </span><span class="w">          
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Upload coverage</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">codecov/codecov-action@v3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">file</span><span class="p">:</span><span class="w"> </span><span class="l">./coverage.xml</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">security</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Security Scan</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Security checks</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          pip install bandit safety
</span></span></span><span class="line"><span class="cl"><span class="sd">          bandit -r src/
</span></span></span><span class="line"><span class="cl"><span class="sd">          safety check</span><span class="w">          
</span></span></span></code></pre></div><h4 id="release-pipeline">Release Pipeline<a hidden class="anchor" aria-hidden="true" href="#release-pipeline">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># .github/workflows/release.yml</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Release</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">push</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">tags</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s1">&#39;v*&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">build</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Build and Publish</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Set up Python</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/setup-python@v4</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">python-version</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;3.10&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Build package</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          pip install build twine
</span></span></span><span class="line"><span class="cl"><span class="sd">          python -m build
</span></span></span><span class="line"><span class="cl"><span class="sd">          </span><span class="w">          
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Publish to PyPI</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">env</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">TWINE_USERNAME</span><span class="p">:</span><span class="w"> </span><span class="l">__token__</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">TWINE_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.PYPI_API_TOKEN }}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          twine upload dist/*</span><span class="w">          
</span></span></span></code></pre></div><h3 id="3-environment-configurations">3. Environment Configurations<a hidden class="anchor" aria-hidden="true" href="#3-environment-configurations">#</a></h3>
<h4 id="development-environment">Development Environment<a hidden class="anchor" aria-hidden="true" href="#development-environment">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">development</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">channels</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">conda-forge</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">defaults</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">dependencies</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">python=3.10</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">pip</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">pip</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- -<span class="l">e &#34;.[dev]&#34;</span><span class="w">
</span></span></span></code></pre></div><h4 id="testing-environment">Testing Environment<a hidden class="anchor" aria-hidden="true" href="#testing-environment">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">testing</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">channels</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">conda-forge</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">defaults</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">dependencies</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">python=3.10</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">pip</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">pip</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- -<span class="l">e &#34;.[test]&#34;</span><span class="w">
</span></span></span></code></pre></div><h2 id="pipeline-components">Pipeline Components<a hidden class="anchor" aria-hidden="true" href="#pipeline-components">#</a></h2>
<h3 id="1-code-quality-checks">1. Code Quality Checks<a hidden class="anchor" aria-hidden="true" href="#1-code-quality-checks">#</a></h3>
<h4 id="style-checking">Style Checking<a hidden class="anchor" aria-hidden="true" href="#style-checking">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">quality-checks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">script</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">black --check .</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">isort --check-only .</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">flake8 .</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">pylint src/</span><span class="w">
</span></span></span></code></pre></div><h4 id="type-checking">Type Checking<a hidden class="anchor" aria-hidden="true" href="#type-checking">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">type-checks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">script</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">mypy src/ --strict</span><span class="w">
</span></span></span></code></pre></div><h4 id="security-scanning">Security Scanning<a hidden class="anchor" aria-hidden="true" href="#security-scanning">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">security-checks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">script</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">bandit -r src/</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">safety check</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">pip-audit</span><span class="w">
</span></span></span></code></pre></div><h3 id="2-testing-framework">2. Testing Framework<a hidden class="anchor" aria-hidden="true" href="#2-testing-framework">#</a></h3>
<h4 id="test-execution">Test Execution<a hidden class="anchor" aria-hidden="true" href="#test-execution">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">test-suite</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">parallel</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">matrix</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">PYTHON</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;3.8&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;3.9&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;3.10&#39;</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">script</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">pytest tests/ --cov=src/</span><span class="w">
</span></span></span></code></pre></div><h4 id="performance-testing">Performance Testing<a hidden class="anchor" aria-hidden="true" href="#performance-testing">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">performance</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">script</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">pytest tests/performance/ --benchmark-only</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">python benchmarks/run.py</span><span class="w">
</span></span></span></code></pre></div><h3 id="3-documentation">3. Documentation<a hidden class="anchor" aria-hidden="true" href="#3-documentation">#</a></h3>
<h4 id="documentation-build">Documentation Build<a hidden class="anchor" aria-hidden="true" href="#documentation-build">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">build-docs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">script</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">cd docs/</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">make html</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">make linkcheck</span><span class="w">
</span></span></span></code></pre></div><h4 id="documentation-deployment">Documentation Deployment<a hidden class="anchor" aria-hidden="true" href="#documentation-deployment">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">deploy-docs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">script</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">mkdocs gh-deploy</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">only</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">tags</span><span class="w">
</span></span></span></code></pre></div><h2 id="deployment-strategies">Deployment Strategies<a hidden class="anchor" aria-hidden="true" href="#deployment-strategies">#</a></h2>
<h3 id="1-version-management">1. Version Management<a hidden class="anchor" aria-hidden="true" href="#1-version-management">#</a></h3>
<h4 id="version-bumping">Version Bumping<a hidden class="anchor" aria-hidden="true" href="#version-bumping">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># bump_version.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">re</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">bump_version</span><span class="p">(</span><span class="n">version_type</span><span class="o">=</span><span class="s1">&#39;patch&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">version_file</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;src/your_package/_version.py&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">content</span> <span class="o">=</span> <span class="n">version_file</span><span class="o">.</span><span class="n">read_text</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># Parse current version</span>
</span></span><span class="line"><span class="cl">    <span class="k">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;__version__ = [&#34;</span><span class="se">\&#39;</span><span class="s1">]([^&#34;</span><span class="se">\&#39;</span><span class="s1">]+)[&#34;</span><span class="se">\&#39;</span><span class="s1">]&#39;</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">current</span> <span class="o">=</span> <span class="k">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">major</span><span class="p">,</span> <span class="n">minor</span><span class="p">,</span> <span class="n">patch</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">current</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># Bump version</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">version_type</span> <span class="o">==</span> <span class="s1">&#39;major&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">major</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="n">minor</span> <span class="o">=</span> <span class="n">patch</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    <span class="k">elif</span> <span class="n">version_type</span> <span class="o">==</span> <span class="s1">&#39;minor&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">minor</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="n">patch</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span><span class="p">:</span>  <span class="c1"># patch</span>
</span></span><span class="line"><span class="cl">        <span class="n">patch</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="n">new_version</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">major</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">minor</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">patch</span><span class="si">}</span><span class="s1">&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="n">new_content</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="sa">r</span><span class="s1">&#39;__version__ = [&#34;</span><span class="se">\&#39;</span><span class="s1">]([^&#34;</span><span class="se">\&#39;</span><span class="s1">]+)[&#34;</span><span class="se">\&#39;</span><span class="s1">]&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="sa">f</span><span class="s1">&#39;__version__ = &#34;</span><span class="si">{</span><span class="n">new_version</span><span class="si">}</span><span class="s1">&#34;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">content</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="n">version_file</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="n">new_content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">new_version</span>
</span></span></code></pre></div><h4 id="release-workflow">Release Workflow<a hidden class="anchor" aria-hidden="true" href="#release-workflow">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">release</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">script</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">python tools/bump_version.py</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">git tag v$(python -c &#34;import your_package; print(your_package.__version__)&#34;)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">git push origin --tags</span><span class="w">
</span></span></span></code></pre></div><h3 id="2-package-distribution">2. Package Distribution<a hidden class="anchor" aria-hidden="true" href="#2-package-distribution">#</a></h3>
<h4 id="build-configuration">Build Configuration<a hidden class="anchor" aria-hidden="true" href="#build-configuration">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="c"># pyproject.toml</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">build-system</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">requires</span> <span class="p">=</span> <span class="p">[</span><span class="s2">&#34;setuptools&gt;=45&#34;</span><span class="p">,</span> <span class="s2">&#34;wheel&#34;</span><span class="p">,</span> <span class="s2">&#34;build&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">build-backend</span> <span class="p">=</span> <span class="s2">&#34;setuptools.build_meta&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">project</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;your-package&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">dynamic</span> <span class="p">=</span> <span class="p">[</span><span class="s2">&#34;version&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">description</span> <span class="p">=</span> <span class="s2">&#34;Your package description&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">readme</span> <span class="p">=</span> <span class="s2">&#34;README.md&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">license</span> <span class="p">=</span> <span class="p">{</span><span class="nx">text</span> <span class="p">=</span> <span class="s2">&#34;MIT&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">classifiers</span> <span class="p">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;Development Status :: 4 - Beta&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;Intended Audience :: Developers&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;License :: OSI Approved :: MIT License&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;Programming Language :: Python :: 3&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;Programming Language :: Python :: 3.8&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;Programming Language :: Python :: 3.9&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;Programming Language :: Python :: 3.10&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></div><h4 id="distribution-script">Distribution Script<a hidden class="anchor" aria-hidden="true" href="#distribution-script">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">build-dist</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">script</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">python -m build</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">twine check dist/*</span><span class="w">
</span></span></span></code></pre></div><h3 id="3-environment-management">3. Environment Management<a hidden class="anchor" aria-hidden="true" href="#3-environment-management">#</a></h3>
<h4 id="docker-build">Docker Build<a hidden class="anchor" aria-hidden="true" href="#docker-build">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="cl"><span class="c"># Dockerfile</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">FROM</span><span class="s"> python:3.10-slim</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">WORKDIR</span><span class="s"> /app</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">COPY</span> pyproject.toml .<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">COPY</span> setup.py .<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">COPY</span> setup.cfg .<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">COPY</span> src/ src/<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">RUN</span> pip install -e .<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">ENTRYPOINT</span> <span class="p">[</span><span class="s2">&#34;python&#34;</span><span class="p">,</span> <span class="s2">&#34;-m&#34;</span><span class="p">,</span> <span class="s2">&#34;your_package&#34;</span><span class="p">]</span><span class="err">
</span></span></span></code></pre></div><h4 id="container-deployment">Container Deployment<a hidden class="anchor" aria-hidden="true" href="#container-deployment">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">deploy-container</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">script</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">docker build -t your-package .</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">docker push your-package</span><span class="w">
</span></span></span></code></pre></div><h2 id="best-practices-2">Best Practices<a hidden class="anchor" aria-hidden="true" href="#best-practices-2">#</a></h2>
<h3 id="1-pipeline-design">1. Pipeline Design<a hidden class="anchor" aria-hidden="true" href="#1-pipeline-design">#</a></h3>
<ul>
<li>Fast feedback cycles</li>
<li>Parallel execution</li>
<li>Clear failure points</li>
<li>Comprehensive testing</li>
<li>Security scanning</li>
</ul>
<h3 id="2-environment-management">2. Environment Management<a hidden class="anchor" aria-hidden="true" href="#2-environment-management">#</a></h3>
<ul>
<li>Reproducible builds</li>
<li>Version pinning</li>
<li>Clean environments</li>
<li>Platform compatibility</li>
<li>Resource optimization</li>
</ul>
<h3 id="3-deployment-strategy">3. Deployment Strategy<a hidden class="anchor" aria-hidden="true" href="#3-deployment-strategy">#</a></h3>
<ul>
<li>Semantic versioning</li>
<li>Release notes</li>
<li>Rollback procedures</li>
<li>Feature flags</li>
<li>Monitoring integration</li>
</ul>
<h3 id="4-security-considerations">4. Security Considerations<a hidden class="anchor" aria-hidden="true" href="#4-security-considerations">#</a></h3>
<ul>
<li>Dependency scanning</li>
<li>Code analysis</li>
<li>Secret management</li>
<li>Access control</li>
<li>Vulnerability tracking</li>
</ul>
<h2 id="advanced-topics">Advanced Topics<a hidden class="anchor" aria-hidden="true" href="#advanced-topics">#</a></h2>
<h3 id="1-matrix-testing">1. Matrix Testing<a hidden class="anchor" aria-hidden="true" href="#1-matrix-testing">#</a></h3>
<ul>
<li>Multiple Python versions</li>
<li>Different operating systems</li>
<li>Various dependencies</li>
<li>Hardware configurations</li>
<li>Database versions</li>
</ul>
<h3 id="2-performance-monitoring">2. Performance Monitoring<a hidden class="anchor" aria-hidden="true" href="#2-performance-monitoring">#</a></h3>
<ul>
<li>Benchmark tracking</li>
<li>Resource utilization</li>
<li>Response times</li>
<li>Error rates</li>
<li>Usage patterns</li>
</ul>
<h3 id="3-automated-releases">3. Automated Releases<a hidden class="anchor" aria-hidden="true" href="#3-automated-releases">#</a></h3>
<ul>
<li>Version management</li>
<li>Changelog generation</li>
<li>Documentation updates</li>
<li>Package publishing</li>
<li>Container deployment</li>
</ul>
<h3 id="4-quality-gates">4. Quality Gates<a hidden class="anchor" aria-hidden="true" href="#4-quality-gates">#</a></h3>
<ul>
<li>Coverage thresholds</li>
<li>Performance benchmarks</li>
<li>Security scans</li>
<li>Documentation checks</li>
<li>API compatibility</li>
</ul>
<h1 id="distribution--releases">Distribution &amp; Releases<a hidden class="anchor" aria-hidden="true" href="#distribution--releases">#</a></h1>
<h2 id="package-distribution-structure">Package Distribution Structure<a hidden class="anchor" aria-hidden="true" href="#package-distribution-structure">#</a></h2>
<h3 id="1-package-configuration-files">1. Package Configuration Files<a hidden class="anchor" aria-hidden="true" href="#1-package-configuration-files">#</a></h3>
<h4 id="project-configuration">Project Configuration<a hidden class="anchor" aria-hidden="true" href="#project-configuration">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="c"># pyproject.toml</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">build-system</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">requires</span> <span class="p">=</span> <span class="p">[</span><span class="s2">&#34;setuptools&gt;=45&#34;</span><span class="p">,</span> <span class="s2">&#34;wheel&#34;</span><span class="p">,</span> <span class="s2">&#34;build&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">build-backend</span> <span class="p">=</span> <span class="s2">&#34;setuptools.build_meta&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">project</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;your-package&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">dynamic</span> <span class="p">=</span> <span class="p">[</span><span class="s2">&#34;version&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">description</span> <span class="p">=</span> <span class="s2">&#34;Your package description&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">authors</span> <span class="p">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span><span class="nx">name</span> <span class="p">=</span> <span class="s2">&#34;Your Name&#34;</span><span class="p">,</span> <span class="nx">email</span> <span class="p">=</span> <span class="s2">&#34;your.email@example.com&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">license</span> <span class="p">=</span> <span class="p">{</span><span class="nx">text</span> <span class="p">=</span> <span class="s2">&#34;MIT&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">requires-python</span> <span class="p">=</span> <span class="s2">&#34;&gt;=3.8&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">classifiers</span> <span class="p">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;Development Status :: 5 - Production/Stable&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;Intended Audience :: Developers&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;License :: OSI Approved :: MIT License&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;Programming Language :: Python :: 3&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;Programming Language :: Python :: 3.8&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;Programming Language :: Python :: 3.9&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;Programming Language :: Python :: 3.10&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;Operating System :: OS Independent&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;Topic :: Software Development :: Libraries :: Python Modules&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">dependencies</span> <span class="p">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;numpy&gt;=1.20&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;pandas&gt;=1.3&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;scikit-learn&gt;=1.0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">project</span><span class="p">.</span><span class="nx">optional-dependencies</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">dev</span> <span class="p">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;pytest&gt;=6.0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;pytest-cov&gt;=2.0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;black&gt;=22.0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;mypy&gt;=0.900&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">project</span><span class="p">.</span><span class="nx">urls</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">Homepage</span> <span class="p">=</span> <span class="s2">&#34;https://github.com/username/your-package&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">Documentation</span> <span class="p">=</span> <span class="s2">&#34;https://your-package.readthedocs.io&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">Repository</span> <span class="p">=</span> <span class="s2">&#34;https://github.com/username/your-package.git&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">Changelog</span> <span class="p">=</span> <span class="s2">&#34;https://github.com/username/your-package/blob/main/CHANGELOG.md&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">tool</span><span class="p">.</span><span class="nx">setuptools</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">packages</span> <span class="p">=</span> <span class="p">[</span><span class="s2">&#34;your_package&#34;</span><span class="p">]</span>
</span></span></code></pre></div><h4 id="package-manifest">Package Manifest<a hidden class="anchor" aria-hidden="true" href="#package-manifest">#</a></h4>
<pre tabindex="0"><code># MANIFEST.in
include LICENSE
include README.md
include CHANGELOG.md
include pyproject.toml

recursive-include your_package *.py
recursive-include your_package/data *.json *.csv
recursive-include docs *.rst *.py *.bat *.csv
recursive-include tests *.py *.json

prune docs/_build
prune .github
prune .pytest_cache
</code></pre><h3 id="2-version-management">2. Version Management<a hidden class="anchor" aria-hidden="true" href="#2-version-management">#</a></h3>
<h4 id="version-file">Version File<a hidden class="anchor" aria-hidden="true" href="#version-file">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># your_package/_version.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">re</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Tuple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">__version__</span> <span class="o">=</span> <span class="s2">&#34;1.2.3&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">parse_version</span><span class="p">(</span><span class="n">version_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Parse version string into major, minor, patch components.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="k">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">&#34;(\d+)\.(\d+)\.(\d+)&#34;</span><span class="p">,</span> <span class="n">version_str</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="ow">not</span> <span class="k">match</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Invalid version string: </span><span class="si">{</span><span class="n">version_str</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="k">match</span><span class="o">.</span><span class="n">groups</span><span class="p">()))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">get_version</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Get the current version string.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">__version__</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">is_compatible</span><span class="p">(</span><span class="n">required_version</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Check if current version is compatible with required version.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">current</span> <span class="o">=</span> <span class="n">parse_version</span><span class="p">(</span><span class="n">__version__</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">required</span> <span class="o">=</span> <span class="n">parse_version</span><span class="p">(</span><span class="n">required_version</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># Major version must match</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">current</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">required</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># Current minor version must be &gt;= required</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">required</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># If minor versions match, current patch must be &gt;= required</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">required</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">current</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">required</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="kc">True</span>
</span></span></code></pre></div><h3 id="3-release-process">3. Release Process<a hidden class="anchor" aria-hidden="true" href="#3-release-process">#</a></h3>
<h4 id="release-workflow-1">Release Workflow<a hidden class="anchor" aria-hidden="true" href="#release-workflow-1">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># tools/release.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">subprocess</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">update_version</span><span class="p">(</span><span class="n">version_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;patch&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Update version number in _version.py.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">version_file</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;your_package/_version.py&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">content</span> <span class="o">=</span> <span class="n">version_file</span><span class="o">.</span><span class="n">read_text</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># Extract current version</span>
</span></span><span class="line"><span class="cl">    <span class="kn">import</span> <span class="nn">re</span>
</span></span><span class="line"><span class="cl">    <span class="k">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;__version__ = [&#34;</span><span class="se">\&#39;</span><span class="s1">]([^&#34;</span><span class="se">\&#39;</span><span class="s1">]+)[&#34;</span><span class="se">\&#39;</span><span class="s1">]&#39;</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">current</span> <span class="o">=</span> <span class="k">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">major</span><span class="p">,</span> <span class="n">minor</span><span class="p">,</span> <span class="n">patch</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">current</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># Update version</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">version_type</span> <span class="o">==</span> <span class="s1">&#39;major&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">major</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="n">minor</span> <span class="o">=</span> <span class="n">patch</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    <span class="k">elif</span> <span class="n">version_type</span> <span class="o">==</span> <span class="s1">&#39;minor&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">minor</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="n">patch</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span><span class="p">:</span>  <span class="c1"># patch</span>
</span></span><span class="line"><span class="cl">        <span class="n">patch</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="n">new_version</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">major</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">minor</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">patch</span><span class="si">}</span><span class="s1">&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="n">new_content</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;__version__ = &#34;</span><span class="si">{</span><span class="n">current</span><span class="si">}</span><span class="s1">&#34;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                                <span class="sa">f</span><span class="s1">&#39;__version__ = &#34;</span><span class="si">{</span><span class="n">new_version</span><span class="si">}</span><span class="s1">&#34;&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">version_file</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="n">new_content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">new_version</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">update_changelog</span><span class="p">(</span><span class="n">version</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">changes</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Update CHANGELOG.md with new version information.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">changelog</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;CHANGELOG.md&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">content</span> <span class="o">=</span> <span class="n">changelog</span><span class="o">.</span><span class="n">read_text</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># Add new version section</span>
</span></span><span class="line"><span class="cl">    <span class="n">new_section</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">## [</span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s2">] - </span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="si">}</span><span class="se">\n\n</span><span class="si">{</span><span class="n">changes</span><span class="si">}</span><span class="se">\n</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&#34;# Changelog</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&#34;# Changelog</span><span class="se">\n</span><span class="si">{</span><span class="n">new_section</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">changelog</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">create_release</span><span class="p">(</span><span class="n">version_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;patch&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                  <span class="n">changes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Create a new release.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># Update version</span>
</span></span><span class="line"><span class="cl">    <span class="n">new_version</span> <span class="o">=</span> <span class="n">update_version</span><span class="p">(</span><span class="n">version_type</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># Update changelog</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">changes</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">update_changelog</span><span class="p">(</span><span class="n">new_version</span><span class="p">,</span> <span class="n">changes</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># Commit changes</span>
</span></span><span class="line"><span class="cl">    <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s1">&#39;git&#39;</span><span class="p">,</span> <span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s1">&#39;git&#39;</span><span class="p">,</span> <span class="s1">&#39;commit&#39;</span><span class="p">,</span> <span class="s1">&#39;-m&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Release version </span><span class="si">{</span><span class="n">new_version</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># Create tag</span>
</span></span><span class="line"><span class="cl">    <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s1">&#39;git&#39;</span><span class="p">,</span> <span class="s1">&#39;tag&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;v</span><span class="si">{</span><span class="n">new_version</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># Push changes</span>
</span></span><span class="line"><span class="cl">    <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s1">&#39;git&#39;</span><span class="p">,</span> <span class="s1">&#39;push&#39;</span><span class="p">,</span> <span class="s1">&#39;origin&#39;</span><span class="p">,</span> <span class="s1">&#39;main&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s1">&#39;git&#39;</span><span class="p">,</span> <span class="s1">&#39;push&#39;</span><span class="p">,</span> <span class="s1">&#39;origin&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;v</span><span class="si">{</span><span class="n">new_version</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">])</span>
</span></span></code></pre></div><h2 id="distribution-best-practices">Distribution Best Practices<a hidden class="anchor" aria-hidden="true" href="#distribution-best-practices">#</a></h2>
<h3 id="1-package-organization">1. Package Organization<a hidden class="anchor" aria-hidden="true" href="#1-package-organization">#</a></h3>
<h4 id="directory-structure-best-practices">Directory Structure Best Practices<a hidden class="anchor" aria-hidden="true" href="#directory-structure-best-practices">#</a></h4>
<ul>
<li>Keep source in <code>src/</code> directory</li>
<li>Separate tests from source</li>
<li>Include necessary package data</li>
<li>Maintain clear documentation</li>
<li>Version control configuration</li>
</ul>
<h4 id="package-data-management">Package Data Management<a hidden class="anchor" aria-hidden="true" href="#package-data-management">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># setup.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">setuptools</span> <span class="kn">import</span> <span class="n">setup</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">setup</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># ... other configuration ...</span>
</span></span><span class="line"><span class="cl">    <span class="n">package_data</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;your_package&#39;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;data/*.json&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;data/*.csv&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;config/*.yaml&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="n">include_package_data</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><h3 id="2-distribution-strategy">2. Distribution Strategy<a hidden class="anchor" aria-hidden="true" href="#2-distribution-strategy">#</a></h3>
<h4 id="build-process">Build Process<a hidden class="anchor" aria-hidden="true" href="#build-process">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># tools/build.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">shutil</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">subprocess</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">clean_build</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Clean build directories.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">dirs_to_clean</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;build&#39;</span><span class="p">,</span> <span class="s1">&#39;dist&#39;</span><span class="p">,</span> <span class="s1">&#39;*.egg-info&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">pattern</span> <span class="ow">in</span> <span class="n">dirs_to_clean</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">pattern</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">                <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">path</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">build_package</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Build package distributions.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">clean_build</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># Build distributions</span>
</span></span><span class="line"><span class="cl">    <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s1">&#39;python&#39;</span><span class="p">,</span> <span class="s1">&#39;-m&#39;</span><span class="p">,</span> <span class="s1">&#39;build&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># Verify distributions</span>
</span></span><span class="line"><span class="cl">    <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s1">&#39;twine&#39;</span><span class="p">,</span> <span class="s1">&#39;check&#39;</span><span class="p">,</span> <span class="s1">&#39;dist/*&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">publish_package</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Publish package to PyPI.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s1">&#39;twine&#39;</span><span class="p">,</span> <span class="s1">&#39;upload&#39;</span><span class="p">,</span> <span class="s1">&#39;dist/*&#39;</span><span class="p">])</span>
</span></span></code></pre></div><h3 id="3-release-management">3. Release Management<a hidden class="anchor" aria-hidden="true" href="#3-release-management">#</a></h3>
<h4 id="release-checklist">Release Checklist<a hidden class="anchor" aria-hidden="true" href="#release-checklist">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># tools/release_checklist.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">subprocess</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">ReleaseChecker</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">checks</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">run_tests</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Run test suite.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s1">&#39;pytest&#39;</span><span class="p">],</span> <span class="n">capture_output</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">returncode</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&#34;Tests failed&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">check_style</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Check code style.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;--check&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">],</span> <span class="n">capture_output</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">returncode</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&#34;Code style check failed&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">verify_docs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Verify documentation builds.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s1">&#39;sphinx-build&#39;</span><span class="p">,</span> <span class="s1">&#39;-b&#39;</span><span class="p">,</span> <span class="s1">&#39;html&#39;</span><span class="p">,</span> <span class="s1">&#39;docs&#39;</span><span class="p">,</span> <span class="s1">&#39;docs/_build/html&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">returncode</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&#34;Documentation build failed&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">check_changelog</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Verify changelog is updated.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">changelog</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;CHANGELOG.md&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="n">changelog</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&#34;Changelog file missing&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">run_checks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Run all pre-release checks.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">run_tests</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">check_style</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">verify_docs</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">check_changelog</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Release checks failed:&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;- </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">True</span>
</span></span></code></pre></div><h2 id="advanced-distribution-topics">Advanced Distribution Topics<a hidden class="anchor" aria-hidden="true" href="#advanced-distribution-topics">#</a></h2>
<h3 id="1-continuous-delivery">1. Continuous Delivery<a hidden class="anchor" aria-hidden="true" href="#1-continuous-delivery">#</a></h3>
<h4 id="automated-release-pipeline">Automated Release Pipeline<a hidden class="anchor" aria-hidden="true" href="#automated-release-pipeline">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># .github/workflows/release.yml</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Release</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">push</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">tags</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s1">&#39;v*&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">jobs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">release</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l">ubuntu-latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/checkout@v3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Set up Python</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l">actions/setup-python@v4</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">python-version</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;3.10&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Install dependencies</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          python -m pip install --upgrade pip
</span></span></span><span class="line"><span class="cl"><span class="sd">          pip install build twine
</span></span></span><span class="line"><span class="cl"><span class="sd">          </span><span class="w">          
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Build and publish</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">env</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">TWINE_USERNAME</span><span class="p">:</span><span class="w"> </span><span class="l">__token__</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">TWINE_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="l">${{ secrets.PYPI_API_TOKEN }}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          python -m build
</span></span></span><span class="line"><span class="cl"><span class="sd">          twine upload dist/*</span><span class="w">          
</span></span></span></code></pre></div><h3 id="2-multi-platform-support">2. Multi-platform Support<a hidden class="anchor" aria-hidden="true" href="#2-multi-platform-support">#</a></h3>
<h4 id="platform-specific-dependencies">Platform-specific Dependencies<a hidden class="anchor" aria-hidden="true" href="#platform-specific-dependencies">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># setup.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">sys</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">setuptools</span> <span class="kn">import</span> <span class="n">setup</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">extra_dependencies</span> <span class="o">=</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;win&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">extra_dependencies</span><span class="p">[</span><span class="s1">&#39;windows&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;pywin32&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="k">elif</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;linux&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">extra_dependencies</span><span class="p">[</span><span class="s1">&#39;linux&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;python-systemd&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="k">elif</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;darwin&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">extra_dependencies</span><span class="p">[</span><span class="s1">&#39;macos&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;pyobjc-framework-Cocoa&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">setup</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># ... other configuration ...</span>
</span></span><span class="line"><span class="cl">    <span class="n">extras_require</span><span class="o">=</span><span class="n">extra_dependencies</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><h3 id="3-binary-distribution">3. Binary Distribution<a hidden class="anchor" aria-hidden="true" href="#3-binary-distribution">#</a></h3>
<h4 id="binary-build-configuration">Binary Build Configuration<a hidden class="anchor" aria-hidden="true" href="#binary-build-configuration">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="c1"># setup.cfg</span>
</span></span><span class="line"><span class="cl"><span class="k">[bdist_wheel]</span>
</span></span><span class="line"><span class="cl"><span class="na">universal</span> <span class="o">=</span> <span class="s">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">[build_ext]</span>
</span></span><span class="line"><span class="cl"><span class="na">inplace</span> <span class="o">=</span> <span class="s">1</span>
</span></span></code></pre></div><h2 id="distribution-security">Distribution Security<a hidden class="anchor" aria-hidden="true" href="#distribution-security">#</a></h2>
<h3 id="1-package-signing">1. Package Signing<a hidden class="anchor" aria-hidden="true" href="#1-package-signing">#</a></h3>
<h4 id="gpg-signing-configuration">GPG Signing Configuration<a hidden class="anchor" aria-hidden="true" href="#gpg-signing-configuration">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="c1"># .pypirc</span>
</span></span><span class="line"><span class="cl"><span class="k">[distutils]</span>
</span></span><span class="line"><span class="cl"><span class="na">index-servers</span> <span class="o">=</span><span class="s">
</span></span></span><span class="line"><span class="cl"><span class="s">    pypi
</span></span></span><span class="line"><span class="cl"><span class="s">    testpypi</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">[pypi]</span>
</span></span><span class="line"><span class="cl"><span class="na">username: __token__</span>
</span></span><span class="line"><span class="cl"><span class="na">password: &lt;your-token&gt;</span>
</span></span><span class="line"><span class="cl"><span class="na">sign: true</span>
</span></span><span class="line"><span class="cl"><span class="na">identity: &lt;your-gpg-identity&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">[testpypi]</span>
</span></span><span class="line"><span class="cl"><span class="na">repository: https://test.pypi.org/legacy/</span>
</span></span><span class="line"><span class="cl"><span class="na">username: __token__</span>
</span></span><span class="line"><span class="cl"><span class="na">password: &lt;your-test-token&gt;</span>
</span></span></code></pre></div><h3 id="2-dependency-security">2. Dependency Security<a hidden class="anchor" aria-hidden="true" href="#2-dependency-security">#</a></h3>
<h4 id="requirements-scanning">Requirements Scanning<a hidden class="anchor" aria-hidden="true" href="#requirements-scanning">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># tools/check_dependencies.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">subprocess</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Tuple</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">scan_dependencies</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Scan dependencies for security issues.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">result</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s1">&#39;safety&#39;</span><span class="p">,</span> <span class="s1">&#39;check&#39;</span><span class="p">],</span> <span class="n">capture_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="n">vulnerabilities</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">returncode</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">splitlines</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="s1">&#39; discovered in &#39;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">package</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; discovered in &#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; version &#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                <span class="n">version</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; version &#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                <span class="n">vulnerabilities</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">package</span><span class="p">,</span> <span class="n">version</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">vulnerabilities</span>
</span></span></code></pre></div><h2 id="best-practices-summary">Best Practices Summary<a hidden class="anchor" aria-hidden="true" href="#best-practices-summary">#</a></h2>
<h3 id="1-version-management-1">1. Version Management<a hidden class="anchor" aria-hidden="true" href="#1-version-management-1">#</a></h3>
<ul>
<li>Use semantic versioning</li>
<li>Maintain changelog</li>
<li>Tag releases</li>
<li>Document compatibility</li>
</ul>
<h3 id="2-distribution-process">2. Distribution Process<a hidden class="anchor" aria-hidden="true" href="#2-distribution-process">#</a></h3>
<ul>
<li>Clean builds</li>
<li>Version verification</li>
<li>Documentation updates</li>
<li>Security checks</li>
</ul>
<h3 id="3-release-strategy">3. Release Strategy<a hidden class="anchor" aria-hidden="true" href="#3-release-strategy">#</a></h3>
<ul>
<li>Regular releases</li>
<li>Clear process</li>
<li>Automated checks</li>
<li>User communication</li>
</ul>
<h3 id="4-security-considerations-1">4. Security Considerations<a hidden class="anchor" aria-hidden="true" href="#4-security-considerations-1">#</a></h3>
<ul>
<li>Package signing</li>
<li>Dependency scanning</li>
<li>Security advisories</li>
<li>Access control</li>
</ul>
<h1 id="optimization">Optimization<a hidden class="anchor" aria-hidden="true" href="#optimization">#</a></h1>
<h2 id="performance-optimization-framework">Performance Optimization Framework<a hidden class="anchor" aria-hidden="true" href="#performance-optimization-framework">#</a></h2>
<h3 id="1-performance-monitoring-infrastructure">1. Performance Monitoring Infrastructure<a hidden class="anchor" aria-hidden="true" href="#1-performance-monitoring-infrastructure">#</a></h3>
<h4 id="profiling-setup">Profiling Setup<a hidden class="anchor" aria-hidden="true" href="#profiling-setup">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># profiling/profiler.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">cProfile</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pstats</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">wraps</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">PerformanceProfiler</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Performance profiling utility for tracking execution metrics.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&#34;profiles&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">output_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">output_dir</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">output_dir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">profile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Decorator for profiling functions.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nd">@wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">profile</span> <span class="o">=</span> <span class="n">cProfile</span><span class="o">.</span><span class="n">Profile</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">result</span> <span class="o">=</span> <span class="n">profile</span><span class="o">.</span><span class="n">runcall</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                    <span class="k">if</span> <span class="n">output_file</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                        <span class="n">stats_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_dir</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">output_file</span><span class="si">}</span><span class="s2">.stats&#34;</span>
</span></span><span class="line"><span class="cl">                        <span class="n">profile</span><span class="o">.</span><span class="n">dump_stats</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">stats_path</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                        <span class="c1"># Create readable report</span>
</span></span><span class="line"><span class="cl">                        <span class="n">stats</span> <span class="o">=</span> <span class="n">pstats</span><span class="o">.</span><span class="n">Stats</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">stats_path</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                        <span class="n">stats</span><span class="o">.</span><span class="n">sort_stats</span><span class="p">(</span><span class="s1">&#39;cumulative&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                        <span class="n">report_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_dir</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">output_file</span><span class="si">}</span><span class="s2">.txt&#34;</span>
</span></span><span class="line"><span class="cl">                        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">report_path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                            <span class="n">stats</span><span class="o">.</span><span class="n">stream</span> <span class="o">=</span> <span class="n">f</span>
</span></span><span class="line"><span class="cl">                            <span class="n">stats</span><span class="o">.</span><span class="n">print_stats</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                    <span class="k">return</span> <span class="n">result</span>
</span></span><span class="line"><span class="cl">                <span class="k">finally</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">profile</span><span class="o">.</span><span class="n">disable</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">wrapper</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">decorator</span>
</span></span></code></pre></div><h3 id="2-memory-management">2. Memory Management<a hidden class="anchor" aria-hidden="true" href="#2-memory-management">#</a></h3>
<h4 id="memory-tracker">Memory Tracker<a hidden class="anchor" aria-hidden="true" href="#memory-tracker">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># monitoring/memory.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">gc</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">psutil</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">contextmanager</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@dataclass</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">MemoryStats</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Container for memory statistics.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">rss</span><span class="p">:</span> <span class="nb">int</span>  <span class="c1"># Resident Set Size</span>
</span></span><span class="line"><span class="cl">    <span class="n">vms</span><span class="p">:</span> <span class="nb">int</span>  <span class="c1"># Virtual Memory Size</span>
</span></span><span class="line"><span class="cl">    <span class="n">shared</span><span class="p">:</span> <span class="nb">int</span>  <span class="c1"># Shared Memory</span>
</span></span><span class="line"><span class="cl">    <span class="n">objects</span><span class="p">:</span> <span class="nb">int</span>  <span class="c1"># Python Objects Count</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">MemoryTracker</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Utility for tracking memory usage.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="nd">@staticmethod</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">get_process_memory</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">MemoryStats</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Get current process memory statistics.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">process</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">        <span class="n">meminfo</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">memory_info</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">MemoryStats</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="n">rss</span><span class="o">=</span><span class="n">meminfo</span><span class="o">.</span><span class="n">rss</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">vms</span><span class="o">=</span><span class="n">meminfo</span><span class="o">.</span><span class="n">vms</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">shared</span><span class="o">=</span><span class="n">meminfo</span><span class="o">.</span><span class="n">shared</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">objects</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">gc</span><span class="o">.</span><span class="n">get_objects</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">        <span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="nd">@contextmanager</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">track_memory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Context manager for tracking memory changes.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">gc</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>  <span class="c1"># Clean up before measurement</span>
</span></span><span class="line"><span class="cl">        <span class="n">before</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_process_memory</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="k">yield</span>
</span></span><span class="line"><span class="cl">        <span class="n">gc</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>  <span class="c1"># Clean up after operations</span>
</span></span><span class="line"><span class="cl">        <span class="n">after</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_process_memory</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Memory Change (</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s2">):&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;RSS: </span><span class="si">{</span><span class="p">(</span><span class="n">after</span><span class="o">.</span><span class="n">rss</span> <span class="o">-</span> <span class="n">before</span><span class="o">.</span><span class="n">rss</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1024</span> <span class="o">/</span> <span class="mi">1024</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MB&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Objects: </span><span class="si">{</span><span class="n">after</span><span class="o">.</span><span class="n">objects</span> <span class="o">-</span> <span class="n">before</span><span class="o">.</span><span class="n">objects</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="3-resource-management">3. Resource Management<a hidden class="anchor" aria-hidden="true" href="#3-resource-management">#</a></h3>
<h4 id="resource-pool">Resource Pool<a hidden class="anchor" aria-hidden="true" href="#resource-pool">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># resources/pool.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">TypeVar</span><span class="p">,</span> <span class="n">Generic</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">contextmanager</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">threading</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">queue</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">time</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">T</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">ResourcePool</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Generic resource pool for managing reusable resources.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                 <span class="n">factory</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[],</span> <span class="n">T</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                 <span class="n">max_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                 <span class="n">min_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                 <span class="n">max_idle_time</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">300</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">factory</span> <span class="o">=</span> <span class="n">factory</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">max_size</span> <span class="o">=</span> <span class="n">max_size</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">min_size</span> <span class="o">=</span> <span class="n">min_size</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">max_idle_time</span> <span class="o">=</span> <span class="n">max_idle_time</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">pool</span><span class="p">:</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Lock</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_initialize</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">_initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Initialize the minimum number of resources.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">min_size</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">_add_resource</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">_add_resource</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Create and add a new resource to the pool.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_size</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">resource</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">factory</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">pool</span><span class="o">.</span><span class="n">put</span><span class="p">((</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span> <span class="n">resource</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="nd">@contextmanager</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">acquire</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Acquire a resource from the pool.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">resource</span> <span class="o">=</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">timestamp</span><span class="p">,</span> <span class="n">resource</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pool</span><span class="o">.</span><span class="n">get_nowait</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                    <span class="c1"># Check if resource has been idle too long</span>
</span></span><span class="line"><span class="cl">                    <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">timestamp</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_idle_time</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">-=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">                        <span class="k">continue</span>
</span></span><span class="line"><span class="cl">                    <span class="k">break</span>
</span></span><span class="line"><span class="cl">                <span class="k">except</span> <span class="n">queue</span><span class="o">.</span><span class="n">Empty</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="bp">self</span><span class="o">.</span><span class="n">_add_resource</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="k">yield</span> <span class="n">resource</span>
</span></span><span class="line"><span class="cl">        <span class="k">finally</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">resource</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">pool</span><span class="o">.</span><span class="n">put</span><span class="p">((</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span> <span class="n">resource</span><span class="p">))</span>
</span></span></code></pre></div><h2 id="performance-optimization-techniques">Performance Optimization Techniques<a hidden class="anchor" aria-hidden="true" href="#performance-optimization-techniques">#</a></h2>
<h3 id="1-computation-optimization">1. Computation Optimization<a hidden class="anchor" aria-hidden="true" href="#1-computation-optimization">#</a></h3>
<h4 id="memoization">Memoization<a hidden class="anchor" aria-hidden="true" href="#memoization">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># optimization/memoization.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">TypeVar</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">wraps</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">T</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">memoize</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">T</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">T</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Memoization decorator with cache size limit.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">cache</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">    <span class="n">max_size</span> <span class="o">=</span> <span class="mi">1000</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="nd">@wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># Create cache key from arguments</span>
</span></span><span class="line"><span class="cl">        <span class="n">key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1"># Implement LRU-style cache</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">cache</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">value</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">            <span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">value</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">        <span class="c1"># Calculate new value</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1"># Manage cache size</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">cache</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">max_size</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="c1"># Remove oldest entry</span>
</span></span><span class="line"><span class="cl">            <span class="n">oldest_key</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">cache</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">k</span><span class="p">:</span> <span class="n">cache</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">            <span class="k">del</span> <span class="n">cache</span><span class="p">[</span><span class="n">oldest_key</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">        <span class="n">cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">result</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">wrapper</span>
</span></span></code></pre></div><h3 id="2-data-structure-optimization">2. Data Structure Optimization<a hidden class="anchor" aria-hidden="true" href="#2-data-structure-optimization">#</a></h3>
<h4 id="efficient-collections">Efficient Collections<a hidden class="anchor" aria-hidden="true" href="#efficient-collections">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># optimization/collections.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">TypeVar</span><span class="p">,</span> <span class="n">Generic</span><span class="p">,</span> <span class="n">Iterator</span><span class="p">,</span> <span class="n">Optional</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">T</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@dataclass</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Node</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Node for custom data structures.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">value</span><span class="p">:</span> <span class="n">T</span>
</span></span><span class="line"><span class="cl">    <span class="nb">next</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s1">&#39;Node[T]&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl">    <span class="n">prev</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s1">&#39;Node[T]&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">EfficientQueue</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Memory-efficient queue implementation.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">maxsize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">maxsize</span> <span class="o">=</span> <span class="n">maxsize</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_head</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Node</span><span class="p">[</span><span class="n">T</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_tail</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Node</span><span class="p">[</span><span class="n">T</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_size</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Add item to queue.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxsize</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_size</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxsize</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&#34;Queue is full&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">        <span class="n">node</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_head</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">_head</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tail</span> <span class="o">=</span> <span class="n">node</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">node</span><span class="o">.</span><span class="n">prev</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tail</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">_tail</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">node</span>  <span class="c1"># type: ignore</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">_tail</span> <span class="o">=</span> <span class="n">node</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_size</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">pop</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Remove and return item from queue.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_head</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span><span class="s2">&#34;Queue is empty&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_head</span><span class="o">.</span><span class="n">value</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_head</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_head</span><span class="o">.</span><span class="n">next</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_head</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">_head</span><span class="o">.</span><span class="n">prev</span> <span class="o">=</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">_tail</span> <span class="o">=</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_size</span> <span class="o">-=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">value</span>
</span></span></code></pre></div><h3 id="3-io-optimization">3. I/O Optimization<a hidden class="anchor" aria-hidden="true" href="#3-io-optimization">#</a></h3>
<h4 id="efficient-file-handling">Efficient File Handling<a hidden class="anchor" aria-hidden="true" href="#efficient-file-handling">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># optimization/io.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Iterator</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">BinaryIO</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">mmap</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">contextmanager</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">EfficientFileReader</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Memory-efficient file reading utilities.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="nd">@staticmethod</span>
</span></span><span class="line"><span class="cl">    <span class="nd">@contextmanager</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">mmap_reader</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">mmap</span><span class="o">.</span><span class="n">mmap</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Memory-mapped file reader.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">with</span> <span class="n">mmap</span><span class="o">.</span><span class="n">mmap</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">fileno</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">access</span><span class="o">=</span><span class="n">mmap</span><span class="o">.</span><span class="n">ACCESS_READ</span><span class="p">)</span> <span class="k">as</span> <span class="n">m</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">yield</span> <span class="n">m</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="nd">@staticmethod</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">chunk_reader</span><span class="p">(</span><span class="n">file</span><span class="p">:</span> <span class="n">BinaryIO</span><span class="p">,</span> <span class="n">chunk_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">8192</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Efficient chunk-based file reader.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">chunk</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">chunk_size</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="ow">not</span> <span class="n">chunk</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">break</span>
</span></span><span class="line"><span class="cl">            <span class="k">yield</span> <span class="n">chunk</span>
</span></span></code></pre></div><h2 id="resource-management-best-practices">Resource Management Best Practices<a hidden class="anchor" aria-hidden="true" href="#resource-management-best-practices">#</a></h2>
<h3 id="1-memory-management">1. Memory Management<a hidden class="anchor" aria-hidden="true" href="#1-memory-management">#</a></h3>
<h4 id="best-practices-implementation">Best Practices Implementation<a hidden class="anchor" aria-hidden="true" href="#best-practices-implementation">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># management/memory.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">TypeVar</span><span class="p">,</span> <span class="n">Generic</span><span class="p">,</span> <span class="n">Optional</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">weakref</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">T</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">ResourceManager</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Resource manager with automatic cleanup.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_resources</span> <span class="o">=</span> <span class="n">weakref</span><span class="o">.</span><span class="n">WeakSet</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">register</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource</span><span class="p">:</span> <span class="n">T</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Register a resource for management.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_resources</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">resource</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">resource</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">cleanup</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Clean up all registered resources.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">resource</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resources</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">resource</span><span class="p">,</span> <span class="s1">&#39;close&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="n">resource</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></span></code></pre></div><h3 id="2-thread-management">2. Thread Management<a hidden class="anchor" aria-hidden="true" href="#2-thread-management">#</a></h3>
<h4 id="thread-pool-implementation">Thread Pool Implementation<a hidden class="anchor" aria-hidden="true" href="#thread-pool-implementation">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># management/threads.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">List</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">threading</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">queue</span> <span class="kn">import</span> <span class="n">Queue</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">time</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">WorkerThread</span><span class="p">(</span><span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Worker thread for thread pool.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tasks</span><span class="p">:</span> <span class="n">Queue</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">daemon</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">running</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">task</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="n">task</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="o">.</span><span class="n">task_done</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="k">except</span> <span class="n">Queue</span><span class="o">.</span><span class="n">Empty</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">continue</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">ThreadPool</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Thread pool for parallel task execution.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_threads</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="p">:</span> <span class="n">Queue</span> <span class="o">=</span> <span class="n">Queue</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">workers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">WorkerThread</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_threads</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">worker</span> <span class="o">=</span> <span class="n">WorkerThread</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">worker</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">workers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">worker</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">submit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Submit task to thread pool.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">tasks</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Shutdown thread pool.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">worker</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">workers</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">worker</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">worker</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">workers</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">worker</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
</span></span></code></pre></div><h2 id="performance-monitoring-and-profiling">Performance Monitoring and Profiling<a hidden class="anchor" aria-hidden="true" href="#performance-monitoring-and-profiling">#</a></h2>
<h3 id="1-performance-metrics-collection">1. Performance Metrics Collection<a hidden class="anchor" aria-hidden="true" href="#1-performance-metrics-collection">#</a></h3>
<h4 id="metrics-collector">Metrics Collector<a hidden class="anchor" aria-hidden="true" href="#metrics-collector">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># monitoring/metrics.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Any</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">time</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">statistics</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">contextmanager</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@dataclass</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">MetricPoint</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Single metric measurement point.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">timestamp</span><span class="p">:</span> <span class="nb">float</span>
</span></span><span class="line"><span class="cl">    <span class="n">value</span><span class="p">:</span> <span class="nb">float</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">MetricsCollector</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Collect and analyze performance metrics.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">metrics</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">MetricPoint</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">record</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metric</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Record a metric value.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">metric</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">metrics</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">metrics</span><span class="p">[</span><span class="n">metric</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">metrics</span><span class="p">[</span><span class="n">metric</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="n">MetricPoint</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span> <span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="nd">@contextmanager</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">measure_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metric</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Measure execution time of a block.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">yield</span>
</span></span><span class="line"><span class="cl">        <span class="k">finally</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">duration</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">record</span><span class="p">(</span><span class="n">metric</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">get_statistics</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metric</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Calculate statistics for a metric.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">point</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">metrics</span><span class="p">[</span><span class="n">metric</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;mean&#39;</span><span class="p">:</span> <span class="n">statistics</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">values</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;median&#39;</span><span class="p">:</span> <span class="n">statistics</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">values</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;std_dev&#39;</span><span class="p">:</span> <span class="n">statistics</span><span class="o">.</span><span class="n">stdev</span><span class="p">(</span><span class="n">values</span><span class="p">)</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="nb">min</span><span class="p">(</span><span class="n">values</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span></code></pre></div><h2 id="best-practices-summary-1">Best Practices Summary<a hidden class="anchor" aria-hidden="true" href="#best-practices-summary-1">#</a></h2>
<h3 id="1-performance-optimization">1. Performance Optimization<a hidden class="anchor" aria-hidden="true" href="#1-performance-optimization">#</a></h3>
<ul>
<li>Profile before optimizing</li>
<li>Focus on bottlenecks</li>
<li>Monitor memory usage</li>
<li>Optimize critical paths</li>
<li>Use appropriate data structures</li>
</ul>
<h3 id="2-resource-management">2. Resource Management<a hidden class="anchor" aria-hidden="true" href="#2-resource-management">#</a></h3>
<ul>
<li>Implement proper cleanup</li>
<li>Use context managers</li>
<li>Pool reusable resources</li>
<li>Monitor resource usage</li>
<li>Handle resource exhaustion</li>
</ul>
<h3 id="3-memory-management">3. Memory Management<a hidden class="anchor" aria-hidden="true" href="#3-memory-management">#</a></h3>
<ul>
<li>Minimize object creation</li>
<li>Use weak references</li>
<li>Implement cleanup handlers</li>
<li>Monitor memory leaks</li>
<li>Profile memory usage</li>
</ul>
<h3 id="4-threading-and-concurrency">4. Threading and Concurrency<a hidden class="anchor" aria-hidden="true" href="#4-threading-and-concurrency">#</a></h3>
<ul>
<li>Use thread pools</li>
<li>Manage thread lifecycles</li>
<li>Handle thread safety</li>
<li>Monitor thread usage</li>
<li>Implement proper synchronization</li>
</ul>
<h1 id="security--errors">Security &amp; Errors<a hidden class="anchor" aria-hidden="true" href="#security--errors">#</a></h1>
<h2 id="security-framework">Security Framework<a hidden class="anchor" aria-hidden="true" href="#security-framework">#</a></h2>
<h3 id="1-exception-hierarchy">1. Exception Hierarchy<a hidden class="anchor" aria-hidden="true" href="#1-exception-hierarchy">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># exceptions.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Any</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">PackageError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Base exception for all package errors.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">code</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">code</span> <span class="o">=</span> <span class="n">code</span> <span class="ow">or</span> <span class="s1">&#39;UNKNOWN_ERROR&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">ValidationError</span><span class="p">(</span><span class="n">PackageError</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Raised when input validation fails.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">invalid_value</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="s1">&#39;VALIDATION_ERROR&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">invalid_value</span> <span class="o">=</span> <span class="n">invalid_value</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">SecurityError</span><span class="p">(</span><span class="n">PackageError</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Base class for security-related errors.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">severity</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;HIGH&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="s1">&#39;SECURITY_ERROR&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">severity</span> <span class="o">=</span> <span class="n">severity</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">AuthenticationError</span><span class="p">(</span><span class="n">SecurityError</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Raised when authentication fails.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">severity</span><span class="o">=</span><span class="s1">&#39;CRITICAL&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">AuthorizationError</span><span class="p">(</span><span class="n">SecurityError</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Raised when authorization fails.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">required_permissions</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">severity</span><span class="o">=</span><span class="s1">&#39;HIGH&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">required_permissions</span> <span class="o">=</span> <span class="n">required_permissions</span> <span class="ow">or</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">ConfigurationError</span><span class="p">(</span><span class="n">PackageError</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Raised when configuration is invalid.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">config_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="s1">&#39;CONFIG_ERROR&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">config_key</span> <span class="o">=</span> <span class="n">config_key</span>
</span></span></code></pre></div><h3 id="2-input-validation">2. Input Validation<a hidden class="anchor" aria-hidden="true" href="#2-input-validation">#</a></h3>
<h4 id="validation-framework">Validation Framework<a hidden class="anchor" aria-hidden="true" href="#validation-framework">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># security/validation.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">TypeVar</span><span class="p">,</span> <span class="n">Generic</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Dict</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABC</span><span class="p">,</span> <span class="n">abstractmethod</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">T</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Validator</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">ABC</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Base class for validators.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="nd">@abstractmethod</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Validate and potentially transform input.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">pass</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@dataclass</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">ValidationResult</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Result of validation operation.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">is_valid</span><span class="p">:</span> <span class="nb">bool</span>
</span></span><span class="line"><span class="cl">    <span class="n">errors</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="n">transformed_value</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">InputValidator</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Comprehensive input validation system.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">validators</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Validator</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">register_validator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">validator</span><span class="p">:</span> <span class="n">Validator</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Register a new validator.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">validators</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">validator</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ValidationResult</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Validate input using registered validator.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">validators</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">ValidationResult</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                <span class="n">is_valid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="n">errors</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s2">&#34;No validator registered for &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">            <span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">transformed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validators</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">ValidationResult</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                <span class="n">is_valid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="n">errors</span><span class="o">=</span><span class="p">[],</span>
</span></span><span class="line"><span class="cl">                <span class="n">transformed_value</span><span class="o">=</span><span class="n">transformed</span>
</span></span><span class="line"><span class="cl">            <span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">ValidationResult</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                <span class="n">is_valid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="n">errors</span><span class="o">=</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl">            <span class="p">)</span>
</span></span></code></pre></div><h3 id="3-security-auditing">3. Security Auditing<a hidden class="anchor" aria-hidden="true" href="#3-security-auditing">#</a></h3>
<h4 id="audit-logger">Audit Logger<a hidden class="anchor" aria-hidden="true" href="#audit-logger">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># security/audit.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">logging</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">json</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">threading</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">AuditLogger</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Security audit logging system.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">log_file</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;security_audit&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">handler</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="n">log_file</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">handler</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%(asctime)s</span><span class="s1"> - </span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_thread_local</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">local</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">set_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Set context for current thread.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_thread_local</span><span class="p">,</span> <span class="s1">&#39;context&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">_thread_local</span><span class="o">.</span><span class="n">context</span> <span class="o">=</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_thread_local</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">clear_context</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Clear context for current thread.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_thread_local</span><span class="p">,</span> <span class="s1">&#39;context&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_thread_local</span><span class="o">.</span><span class="n">context</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">log_security_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                          <span class="n">event_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                          <span class="n">details</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                          <span class="n">severity</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;INFO&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Log a security event.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">context</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_thread_local</span><span class="p">,</span> <span class="s1">&#39;context&#39;</span><span class="p">,</span> <span class="p">{})</span>
</span></span><span class="line"><span class="cl">        <span class="n">event</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;timestamp&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;event_type&#39;</span><span class="p">:</span> <span class="n">event_type</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;severity&#39;</span><span class="p">:</span> <span class="n">severity</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;details&#39;</span><span class="p">:</span> <span class="n">details</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;context&#39;</span><span class="p">:</span> <span class="n">context</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">event</span><span class="p">))</span>
</span></span></code></pre></div><h2 id="error-handling-patterns">Error Handling Patterns<a hidden class="anchor" aria-hidden="true" href="#error-handling-patterns">#</a></h2>
<h3 id="1-context-managers">1. Context Managers<a hidden class="anchor" aria-hidden="true" href="#1-context-managers">#</a></h3>
<h4 id="error-context">Error Context<a hidden class="anchor" aria-hidden="true" href="#error-context">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># error_handling/context.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Type</span><span class="p">,</span> <span class="n">TypeVar</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">types</span> <span class="kn">import</span> <span class="n">TracebackType</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">sys</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">contextmanager</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">T</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="n">bound</span><span class="o">=</span><span class="ne">Exception</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">ErrorContext</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Context manager for handling errors.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                 <span class="n">error_types</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="ne">Exception</span><span class="p">],</span> <span class="o">...</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                 <span class="n">handler</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="ne">Exception</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                 <span class="n">reraise</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">error_types</span> <span class="o">=</span> <span class="n">error_types</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">handler</span> <span class="o">=</span> <span class="n">handler</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">reraise</span> <span class="o">=</span> <span class="n">reraise</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="ne">Exception</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;ErrorContext&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="bp">self</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                 <span class="n">exc_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="ne">BaseException</span><span class="p">]],</span>
</span></span><span class="line"><span class="cl">                 <span class="n">exc_val</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="ne">BaseException</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                 <span class="n">exc_tb</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TracebackType</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">exc_val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">exc_val</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">error_types</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="n">exc_val</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">handler</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">handler</span><span class="p">(</span><span class="n">exc_val</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">reraise</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@contextmanager</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">handling_errors</span><span class="p">(</span><span class="o">*</span><span class="n">error_types</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="ne">Exception</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                   <span class="n">handler</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="ne">Exception</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                   <span class="n">reraise</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Convenient context manager for error handling.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">yield</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="n">error_types</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">handler</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">handler</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">reraise</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">raise</span>
</span></span></code></pre></div><h3 id="2-error-recovery">2. Error Recovery<a hidden class="anchor" aria-hidden="true" href="#2-error-recovery">#</a></h3>
<h4 id="recovery-strategies">Recovery Strategies<a hidden class="anchor" aria-hidden="true" href="#recovery-strategies">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># error_handling/recovery.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">TypeVar</span><span class="p">,</span> <span class="n">Generic</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Any</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">time</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">T</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@dataclass</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">RetryConfig</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Configuration for retry behavior.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">max_attempts</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span>
</span></span><span class="line"><span class="cl">    <span class="n">delay</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span>
</span></span><span class="line"><span class="cl">    <span class="n">backoff_factor</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">2.0</span>
</span></span><span class="line"><span class="cl">    <span class="n">exceptions</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="ne">Exception</span><span class="p">],</span> <span class="o">...</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="ne">Exception</span><span class="p">,)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">RetryStrategy</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Implements retry behavior for operations.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">RetryConfig</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">config</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="n">operation</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">T</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Execute operation with retry behavior.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">last_exception</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="ne">Exception</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl">        <span class="n">delay</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">delay</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">attempt</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">max_attempts</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="n">operation</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">except</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">exceptions</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">last_exception</span> <span class="o">=</span> <span class="n">e</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">attempt</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">max_attempts</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">delay</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                    <span class="n">delay</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">backoff_factor</span>
</span></span><span class="line"><span class="cl">                    <span class="k">continue</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">assert</span> <span class="n">last_exception</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl">        <span class="k">raise</span> <span class="n">last_exception</span>
</span></span></code></pre></div><h2 id="security-best-practices">Security Best Practices<a hidden class="anchor" aria-hidden="true" href="#security-best-practices">#</a></h2>
<h3 id="1-authentication-and-authorization">1. Authentication and Authorization<a hidden class="anchor" aria-hidden="true" href="#1-authentication-and-authorization">#</a></h3>
<h4 id="security-decorator">Security Decorator<a hidden class="anchor" aria-hidden="true" href="#security-decorator">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># security/decorators.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">TypeVar</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">wraps</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">F</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="n">bound</span><span class="o">=</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">require_auth</span><span class="p">(</span><span class="n">permission</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">F</span><span class="p">],</span> <span class="n">F</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Decorator to enforce authentication and authorization.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">F</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">F</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nd">@wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="c1"># Get current user context</span>
</span></span><span class="line"><span class="cl">            <span class="n">user</span> <span class="o">=</span> <span class="n">get_current_user</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="c1"># Check authentication</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="ow">not</span> <span class="n">user</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">raise</span> <span class="n">AuthenticationError</span><span class="p">(</span><span class="s2">&#34;User not authenticated&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="c1"># Check authorization</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="ow">not</span> <span class="n">user</span><span class="o">.</span><span class="n">has_permission</span><span class="p">(</span><span class="n">permission</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="k">raise</span> <span class="n">AuthorizationError</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;Permission denied&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="n">required_permissions</span><span class="o">=</span><span class="p">[</span><span class="n">permission</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                <span class="p">)</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">wrapper</span>  <span class="c1"># type: ignore</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">decorator</span>
</span></span></code></pre></div><h3 id="2-secure-configuration">2. Secure Configuration<a hidden class="anchor" aria-hidden="true" href="#2-secure-configuration">#</a></h3>
<h4 id="configuration-manager">Configuration Manager<a hidden class="anchor" aria-hidden="true" href="#configuration-manager">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># security/config.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Optional</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">json</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">SecureConfig</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Secure configuration management.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_secret_keys</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_load_config</span><span class="p">(</span><span class="n">config_path</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">_load_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Load configuration securely.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">config_path</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="k">raise</span> <span class="n">ConfigurationError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Config file not found: </span><span class="si">{</span><span class="n">config_path</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">_config</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">raise</span> <span class="n">ConfigurationError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Invalid config format: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1"># Load sensitive configs from environment</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">env_key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&#34;APP_</span><span class="si">{</span><span class="n">key</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">env_key</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">env_key</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                <span class="bp">self</span><span class="o">.</span><span class="n">_secret_keys</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Get configuration value.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Safe string representation hiding sensitive values.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">safe_config</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">k</span><span class="p">:</span> <span class="s1">&#39;******&#39;</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_secret_keys</span> <span class="k">else</span> <span class="n">v</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">safe_config</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="3-data-sanitization">3. Data Sanitization<a hidden class="anchor" aria-hidden="true" href="#3-data-sanitization">#</a></h3>
<h4 id="input-sanitizer">Input Sanitizer<a hidden class="anchor" aria-hidden="true" href="#input-sanitizer">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># security/sanitization.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">html</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">re</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">InputSanitizer</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Input sanitization utilities.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="nd">@staticmethod</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">sanitize_html</span><span class="p">(</span><span class="n">content</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Sanitize HTML content.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">html</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="nd">@staticmethod</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">sanitize_filename</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Sanitize file names.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># Remove potentially dangerous characters</span>
</span></span><span class="line"><span class="cl">        <span class="n">clean</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^a-zA-Z0-9._-]&#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># Prevent directory traversal</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">clean</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="nd">@staticmethod</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">sanitize_sql</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Sanitize SQL input (prefer parameterized queries).&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="s1">&#39;NULL&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&#34;&#39;&#34;</span><span class="p">,</span> <span class="s2">&#34;&#39;&#39;&#34;</span><span class="p">)</span>
</span></span></code></pre></div><h2 id="best-practices-implementation-1">Best Practices Implementation<a hidden class="anchor" aria-hidden="true" href="#best-practices-implementation-1">#</a></h2>
<h3 id="1-error-handling-guidelines">1. Error Handling Guidelines<a hidden class="anchor" aria-hidden="true" href="#1-error-handling-guidelines">#</a></h3>
<ul>
<li>Use specific exceptions</li>
<li>Implement proper cleanup</li>
<li>Log errors appropriately</li>
<li>Provide context information</li>
<li>Handle all error cases</li>
</ul>
<h3 id="2-security-guidelines">2. Security Guidelines<a hidden class="anchor" aria-hidden="true" href="#2-security-guidelines">#</a></h3>
<ul>
<li>Validate all inputs</li>
<li>Sanitize user data</li>
<li>Use secure defaults</li>
<li>Implement proper authentication</li>
<li>Regular security audits</li>
</ul>
<h3 id="3-recovery-strategies">3. Recovery Strategies<a hidden class="anchor" aria-hidden="true" href="#3-recovery-strategies">#</a></h3>
<ul>
<li>Implement retry logic</li>
<li>Handle temporary failures</li>
<li>Maintain system state</li>
<li>Provide fallback options</li>
<li>Monitor recovery success</li>
</ul>
<h3 id="4-logging-and-monitoring">4. Logging and Monitoring<a hidden class="anchor" aria-hidden="true" href="#4-logging-and-monitoring">#</a></h3>
<ul>
<li>Log security events</li>
<li>Monitor error patterns</li>
<li>Track system health</li>
<li>Alert on critical issues</li>
<li>Maintain audit trails</li>
</ul>
<h2 id="security-and-error-prevention">Security and Error Prevention<a hidden class="anchor" aria-hidden="true" href="#security-and-error-prevention">#</a></h2>
<h3 id="1-code-analysis-tools">1. Code Analysis Tools<a hidden class="anchor" aria-hidden="true" href="#1-code-analysis-tools">#</a></h3>
<ul>
<li>Use static analyzers</li>
<li>Implement security linting</li>
<li>Regular dependency scans</li>
<li>Code quality checks</li>
<li>Type checking</li>
</ul>
<h3 id="2-testing-practices">2. Testing Practices<a hidden class="anchor" aria-hidden="true" href="#2-testing-practices">#</a></h3>
<ul>
<li>Security test cases</li>
<li>Error handling tests</li>
<li>Input validation tests</li>
<li>Recovery scenario tests</li>
<li>Penetration testing</li>
</ul>
<h3 id="3-documentation-1">3. Documentation<a hidden class="anchor" aria-hidden="true" href="#3-documentation-1">#</a></h3>
<ul>
<li>Security policies</li>
<li>Error handling guides</li>
<li>Recovery procedures</li>
<li>Audit requirements</li>
<li>Incident response</li>
</ul>
<h1 id="community--maintenance">Community &amp; Maintenance<a hidden class="anchor" aria-hidden="true" href="#community--maintenance">#</a></h1>
<h2 id="community-infrastructure">Community Infrastructure<a hidden class="anchor" aria-hidden="true" href="#community-infrastructure">#</a></h2>
<h3 id="1-issue-management">1. Issue Management<a hidden class="anchor" aria-hidden="true" href="#1-issue-management">#</a></h3>
<h4 id="issue-templates">Issue Templates<a hidden class="anchor" aria-hidden="true" href="#issue-templates">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># .github/ISSUE_TEMPLATE/bug_report.yml</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Bug Report</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">File a bug report</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">labels</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&#34;bug&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;triage&#34;</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">body</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">markdown</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">        Thanks for taking the time to fill out this bug report!
</span></span></span><span class="line"><span class="cl"><span class="sd">        </span><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">input</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">version</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l">Package Version</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">What version of the package are you running?</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">placeholder</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;1.2.3&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">validations</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">textarea</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">description</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l">Bug Description</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">A clear description of the bug</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">placeholder</span><span class="p">:</span><span class="w"> </span><span class="l">What happened?</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">validations</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">textarea</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">reproduction</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l">Reproduction Steps</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Steps to reproduce the behavior</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">placeholder</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">        1. Install package &#39;...&#39;
</span></span></span><span class="line"><span class="cl"><span class="sd">        2. Run command &#39;...&#39;
</span></span></span><span class="line"><span class="cl"><span class="sd">        3. See error</span><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">validations</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">textarea</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">logs</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l">Relevant Log Output</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Please copy and paste any relevant log output</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">render</span><span class="p">:</span><span class="w"> </span><span class="l">shell</span><span class="w">
</span></span></span></code></pre></div><h4 id="feature-request-template">Feature Request Template<a hidden class="anchor" aria-hidden="true" href="#feature-request-template">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># .github/ISSUE_TEMPLATE/feature_request.yml</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">Feature Request</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Suggest a new feature</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">labels</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&#34;enhancement&#34;</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">body</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">textarea</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">problem</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l">Problem Description</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">What problem does this feature solve?</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">validations</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">textarea</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">solution</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l">Proposed Solution</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Describe your proposed solution</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">validations</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">dropdown</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">importance</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">attributes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l">Importance</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">options</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">Critical</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">High</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">Medium</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">Low</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">validations</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div><h3 id="2-pull-request-management">2. Pull Request Management<a hidden class="anchor" aria-hidden="true" href="#2-pull-request-management">#</a></h3>
<h4 id="pr-template">PR Template<a hidden class="anchor" aria-hidden="true" href="#pr-template">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-markdown" data-lang="markdown"><span class="line"><span class="cl"><span class="gh"># .github/pull_request_template.md
</span></span></span><span class="line"><span class="cl"><span class="gh"></span><span class="gu">## Description
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>Brief description of the changes.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="gu">## Type of Change
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="k">- [ ]</span> Bug fix
</span></span><span class="line"><span class="cl"><span class="k">- [ ]</span> New feature
</span></span><span class="line"><span class="cl"><span class="k">- [ ]</span> Breaking change
</span></span><span class="line"><span class="cl"><span class="k">- [ ]</span> Documentation update
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="gu">## Testing
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>Describe the testing performed:
</span></span><span class="line"><span class="cl"><span class="k">- [ ]</span> Unit tests added/updated
</span></span><span class="line"><span class="cl"><span class="k">- [ ]</span> Integration tests added/updated
</span></span><span class="line"><span class="cl"><span class="k">- [ ]</span> Manual testing performed
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="gu">## Checklist
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="k">- [ ]</span> Code follows project style guidelines
</span></span><span class="line"><span class="cl"><span class="k">- [ ]</span> Documentation updated
</span></span><span class="line"><span class="cl"><span class="k">- [ ]</span> Tests pass
</span></span><span class="line"><span class="cl"><span class="k">- [ ]</span> Changelog updated
</span></span></code></pre></div><h4 id="pr-review-guidelines">PR Review Guidelines<a hidden class="anchor" aria-hidden="true" href="#pr-review-guidelines">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-markdown" data-lang="markdown"><span class="line"><span class="cl"><span class="gh"># docs/contributing/review_guidelines.md
</span></span></span><span class="line"><span class="cl"><span class="gh"># Pull Request Review Guidelines
</span></span></span><span class="line"><span class="cl"><span class="gh"></span>
</span></span><span class="line"><span class="cl"><span class="gu">## Code Review Checklist
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>
</span></span><span class="line"><span class="cl"><span class="gu">### Functionality
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="k">- [ ]</span> Implements requirements correctly
</span></span><span class="line"><span class="cl"><span class="k">- [ ]</span> Handles edge cases
</span></span><span class="line"><span class="cl"><span class="k">- [ ]</span> Error handling is appropriate
</span></span><span class="line"><span class="cl"><span class="k">- [ ]</span> Performance considerations addressed
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="gu">### Code Quality
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="k">- [ ]</span> Follows style guidelines
</span></span><span class="line"><span class="cl"><span class="k">- [ ]</span> Clear and maintainable
</span></span><span class="line"><span class="cl"><span class="k">- [ ]</span> Properly documented
</span></span><span class="line"><span class="cl"><span class="k">- [ ]</span> Well-tested
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="gu">### Security
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="k">- [ ]</span> Input validation present
</span></span><span class="line"><span class="cl"><span class="k">- [ ]</span> Security best practices followed
</span></span><span class="line"><span class="cl"><span class="k">- [ ]</span> No sensitive data exposed
</span></span><span class="line"><span class="cl"><span class="k">- [ ]</span> Error messages are safe
</span></span></code></pre></div><h3 id="3-community-guidelines">3. Community Guidelines<a hidden class="anchor" aria-hidden="true" href="#3-community-guidelines">#</a></h3>
<h4 id="code-of-conduct">Code of Conduct<a hidden class="anchor" aria-hidden="true" href="#code-of-conduct">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-markdown" data-lang="markdown"><span class="line"><span class="cl"><span class="gh"># CODE_OF_CONDUCT.md
</span></span></span><span class="line"><span class="cl"><span class="gh"># Contributor Covenant Code of Conduct
</span></span></span><span class="line"><span class="cl"><span class="gh"></span>
</span></span><span class="line"><span class="cl"><span class="gu">## Our Pledge
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>
</span></span><span class="line"><span class="cl">We as members, contributors, and leaders pledge to make participation in our
</span></span><span class="line"><span class="cl">community a harassment-free experience for everyone, regardless of age, body
</span></span><span class="line"><span class="cl">size, visible or invisible disability, ethnicity, sex characteristics, gender
</span></span><span class="line"><span class="cl">identity and expression, level of experience, education, socio-economic status,
</span></span><span class="line"><span class="cl">nationality, personal appearance, race, religion, or sexual identity
</span></span><span class="line"><span class="cl">and orientation.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="gu">## Our Standards
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>
</span></span><span class="line"><span class="cl">Examples of behavior that contributes to a positive environment:
</span></span><span class="line"><span class="cl"><span class="k">*</span> Using welcoming and inclusive language
</span></span><span class="line"><span class="cl"><span class="k">*</span> Being respectful of differing viewpoints and experiences
</span></span><span class="line"><span class="cl"><span class="k">*</span> Gracefully accepting constructive criticism
</span></span><span class="line"><span class="cl"><span class="k">*</span> Focusing on what is best for the community
</span></span><span class="line"><span class="cl"><span class="k">*</span> Showing empathy towards other community members
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">[Additional sections...]
</span></span></code></pre></div><h2 id="maintenance-framework">Maintenance Framework<a hidden class="anchor" aria-hidden="true" href="#maintenance-framework">#</a></h2>
<h3 id="1-version-management-2">1. Version Management<a hidden class="anchor" aria-hidden="true" href="#1-version-management-2">#</a></h3>
<h4 id="release-checklist-1">Release Checklist<a hidden class="anchor" aria-hidden="true" href="#release-checklist-1">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># tools/release_checklist.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">subprocess</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">re</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@dataclass</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">ReleaseCheck</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
</span></span><span class="line"><span class="cl">    <span class="n">passed</span><span class="p">:</span> <span class="nb">bool</span>
</span></span><span class="line"><span class="cl">    <span class="n">details</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">ReleaseManager</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Manages release process and checks.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="n">version</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">checks</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ReleaseCheck</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">run_checks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Run all pre-release checks.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_check_version_format</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_check_tests</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_check_docs</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_check_changelog</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_check_dependencies</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nb">all</span><span class="p">(</span><span class="n">check</span><span class="o">.</span><span class="n">passed</span> <span class="k">for</span> <span class="n">check</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">checks</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">_add_check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">passed</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">details</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">checks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ReleaseCheck</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">passed</span><span class="p">,</span> <span class="n">details</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">_check_version_format</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Verify version number format.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">is_valid</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="k">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^\d+\.\d+\.\d+$&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_add_check</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;Version Format&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">is_valid</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="sa">f</span><span class="s2">&#34;Version </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="s1">&#39;is&#39;</span> <span class="k">if</span> <span class="n">is_valid</span> <span class="k">else</span> <span class="s1">&#39;is not&#39;</span><span class="si">}</span><span class="s2"> valid&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">_check_tests</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Run test suite.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s1">&#39;pytest&#39;</span><span class="p">],</span> <span class="n">capture_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_add_check</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;Test Suite&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">result</span><span class="o">.</span><span class="n">returncode</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">result</span><span class="o">.</span><span class="n">stdout</span> <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">returncode</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">result</span><span class="o">.</span><span class="n">stderr</span>
</span></span><span class="line"><span class="cl">        <span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">_check_docs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Verify documentation builds.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="p">[</span><span class="s1">&#39;sphinx-build&#39;</span><span class="p">,</span> <span class="s1">&#39;-b&#39;</span><span class="p">,</span> <span class="s1">&#39;html&#39;</span><span class="p">,</span> <span class="s1">&#39;docs&#39;</span><span class="p">,</span> <span class="s1">&#39;docs/_build/html&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="n">capture_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">text</span><span class="o">=</span><span class="kc">True</span>
</span></span><span class="line"><span class="cl">        <span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">_add_check</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;Documentation&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">result</span><span class="o">.</span><span class="n">returncode</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;Documentation builds successfully&#39;</span> <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">returncode</span> <span class="o">==</span> <span class="mi">0</span> 
</span></span><span class="line"><span class="cl">            <span class="k">else</span> <span class="n">result</span><span class="o">.</span><span class="n">stderr</span>
</span></span><span class="line"><span class="cl">        <span class="p">)</span>
</span></span></code></pre></div><h3 id="2-documentation-maintenance">2. Documentation Maintenance<a hidden class="anchor" aria-hidden="true" href="#2-documentation-maintenance">#</a></h3>
<h4 id="documentation-review-system">Documentation Review System<a hidden class="anchor" aria-hidden="true" href="#documentation-review-system">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># tools/doc_review.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">re</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">yaml</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">DocReviewer</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Documentation review and maintenance system.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">docs_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">docs_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">docs_dir</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">check_docs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Review documentation for common issues.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;broken_links&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_links</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;outdated_versions&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_versions</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;missing_sections&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_required_sections</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;code_block_errors&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_code_blocks</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">results</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">_check_links</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Check for broken links in documentation.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">broken_links</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">doc_file</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">docs_dir</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s1">&#39;*.rst&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">content</span> <span class="o">=</span> <span class="n">doc_file</span><span class="o">.</span><span class="n">read_text</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="c1"># Check for broken internal references</span>
</span></span><span class="line"><span class="cl">            <span class="n">refs</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;:ref:`([^`]+)`&#39;</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">ref</span> <span class="ow">in</span> <span class="n">refs</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reference_exists</span><span class="p">(</span><span class="n">ref</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">                    <span class="n">broken_links</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Broken reference in </span><span class="si">{</span><span class="n">doc_file</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">ref</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">broken_links</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">_check_versions</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Check for outdated version references.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">outdated</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="n">current_version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_current_version</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">doc_file</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">docs_dir</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s1">&#39;*.rst&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">content</span> <span class="o">=</span> <span class="n">doc_file</span><span class="o">.</span><span class="n">read_text</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="c1"># Check for version references</span>
</span></span><span class="line"><span class="cl">            <span class="n">versions</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;version\s+(\d+\.\d+\.\d+)&#39;</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">version</span> <span class="ow">in</span> <span class="n">versions</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_outdated</span><span class="p">(</span><span class="n">version</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">current_version</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                    <span class="n">outdated</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Outdated version in </span><span class="si">{</span><span class="n">doc_file</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">version</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">outdated</span>
</span></span></code></pre></div><h3 id="3-community-engagement">3. Community Engagement<a hidden class="anchor" aria-hidden="true" href="#3-community-engagement">#</a></h3>
<h4 id="communication-templates">Communication Templates<a hidden class="anchor" aria-hidden="true" href="#communication-templates">#</a></h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># templates/communication.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Any</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">jinja2</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">CommunicationManager</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Manages community communication templates.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">env</span> <span class="o">=</span> <span class="n">jinja2</span><span class="o">.</span><span class="n">Environment</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="n">loader</span><span class="o">=</span><span class="n">jinja2</span><span class="o">.</span><span class="n">FileSystemLoader</span><span class="p">(</span><span class="s1">&#39;templates&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">generate_release_announcement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">version</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                                    <span class="n">changes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Generate release announcement.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">template</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="s1">&#39;release_announcement.md&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">changes</span><span class="o">=</span><span class="n">changes</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">generate_security_advisory</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                                 <span class="n">issue</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                                 <span class="n">severity</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                                 <span class="n">mitigation</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;Generate security advisory.&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">template</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="s1">&#39;security_advisory.md&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="n">issue</span><span class="o">=</span><span class="n">issue</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">severity</span><span class="o">=</span><span class="n">severity</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">mitigation</span><span class="o">=</span><span class="n">mitigation</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">)</span>
</span></span></code></pre></div><h2 id="community-management-best-practices">Community Management Best Practices<a hidden class="anchor" aria-hidden="true" href="#community-management-best-practices">#</a></h2>
<h3 id="1-issue-management-1">1. Issue Management<a hidden class="anchor" aria-hidden="true" href="#1-issue-management-1">#</a></h3>
<ul>
<li>Quick initial response</li>
<li>Clear communication</li>
<li>Regular updates</li>
<li>Proper categorization</li>
<li>Follow-up verification</li>
</ul>
<h3 id="2-pull-request-management-1">2. Pull Request Management<a hidden class="anchor" aria-hidden="true" href="#2-pull-request-management-1">#</a></h3>
<ul>
<li>Timely reviews</li>
<li>Constructive feedback</li>
<li>Clear merge criteria</li>
<li>Version compatibility</li>
<li>Documentation updates</li>
</ul>
<h3 id="3-community-support">3. Community Support<a hidden class="anchor" aria-hidden="true" href="#3-community-support">#</a></h3>
<ul>
<li>Responsive communication</li>
<li>Clear documentation</li>
<li>Example code</li>
<li>Regular updates</li>
<li>Community recognition</li>
</ul>
<h3 id="4-release-management">4. Release Management<a hidden class="anchor" aria-hidden="true" href="#4-release-management">#</a></h3>
<ul>
<li>Regular schedule</li>
<li>Clear changelog</li>
<li>Testing verification</li>
<li>User communication</li>
<li>Migration support</li>
</ul>
<h2 id="maintenance-best-practices">Maintenance Best Practices<a hidden class="anchor" aria-hidden="true" href="#maintenance-best-practices">#</a></h2>
<h3 id="1-code-maintenance">1. Code Maintenance<a hidden class="anchor" aria-hidden="true" href="#1-code-maintenance">#</a></h3>
<ul>
<li>Regular updates</li>
<li>Dependency management</li>
<li>Performance monitoring</li>
<li>Security patches</li>
<li>Technical debt management</li>
</ul>
<h3 id="2-documentation-updates">2. Documentation Updates<a hidden class="anchor" aria-hidden="true" href="#2-documentation-updates">#</a></h3>
<ul>
<li>Keep current</li>
<li>Version specific</li>
<li>Example maintenance</li>
<li>Clear explanations</li>
<li>Regular review</li>
</ul>
<h3 id="3-community-growth">3. Community Growth<a hidden class="anchor" aria-hidden="true" href="#3-community-growth">#</a></h3>
<ul>
<li>Welcome contributors</li>
<li>Mentor new developers</li>
<li>Recognize contributions</li>
<li>Foster discussions</li>
<li>Build community</li>
</ul>
<h3 id="4-quality-assurance">4. Quality Assurance<a hidden class="anchor" aria-hidden="true" href="#4-quality-assurance">#</a></h3>
<ul>
<li>Automated testing</li>
<li>Manual verification</li>
<li>Performance benchmarks</li>
<li>Security audits</li>
<li>User feedback</li>
</ul>
<h2 id="long-term-sustainability">Long-term Sustainability<a hidden class="anchor" aria-hidden="true" href="#long-term-sustainability">#</a></h2>
<h3 id="1-project-planning">1. Project Planning<a hidden class="anchor" aria-hidden="true" href="#1-project-planning">#</a></h3>
<ul>
<li>Feature roadmap</li>
<li>Version planning</li>
<li>Resource allocation</li>
<li>Community goals</li>
<li>Sustainability model</li>
</ul>
<h3 id="2-knowledge-transfer">2. Knowledge Transfer<a hidden class="anchor" aria-hidden="true" href="#2-knowledge-transfer">#</a></h3>
<ul>
<li>Documentation</li>
<li>Code comments</li>
<li>Design documents</li>
<li>Training materials</li>
<li>Contributor guides</li>
</ul>
<h3 id="3-community-building">3. Community Building<a hidden class="anchor" aria-hidden="true" href="#3-community-building">#</a></h3>
<ul>
<li>Regular meetings</li>
<li>Open discussion</li>
<li>Shared ownership</li>
<li>Clear governance</li>
<li>Transparent decisions</li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="/blog/tags/python/">Python</a></li>
      <li><a href="/blog/tags/data-science/">Data Science</a></li>
      <li><a href="/blog/tags/software-development/">Software Development</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="/blog/posts/upcoming/">
    <span class="title">« Prev</span>
    <br>
    <span>Upcoming Topics</span>
  </a>
  <a class="next" href="/blog/posts/20240103-anomaly-detection/">
    <span class="title">Next »</span>
    <br>
    <span>[GenAI Placeholder] Anomaly Detection</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>© 2025 Trevor Jordan</span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
